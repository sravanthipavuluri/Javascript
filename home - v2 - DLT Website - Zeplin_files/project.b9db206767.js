!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=86)}([function(e,t,n){"use strict";function a(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function i(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function o(e){setTimeout(function(){e.focus(),e.select()},4)}function r(e){for(var t=e.parentElement;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function s(e,t){var n=document.createElement("div"),a=document.createElement("div");n.appendChild(a),n.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,(t=t||document.body).appendChild(n),setTimeout(function(){n.classList.add("show"),setTimeout(function(){n.addEventListener("transitionend",function(){n.remove()}),n.classList.remove("show")},3e3)},50)}function l(e){getSelection().removeAllRanges();var t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function c(e){var t=document.createElement("div");t.classList.add("copyContainer"),t.textContent=e.content,e.container?e.container.appendChild(t):document.body.appendChild(t),l(t);try{document.execCommand("copy")&&e.toastContainer&&s("Copied to clipboard!",e.toastContainer)}catch(e){}getSelection().removeAllRanges(),t.remove()}function u(e,t){if(!(t=t||r(e)))return!0;var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return a.top<=n.top&&a.bottom>=n.bottom&&a.left<=n.left&&a.right>=n.right}function d(e,t){return new Promise(function(n){var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var i=a.getContext("2d");i.webkitImageSmoothingEnabled=!0,i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="medium";var o=document.createElement("img");o.crossOrigin="anonymous";var r,s,l,c=1,u=0,d=0;o.addEventListener("load",function(e){o.width<=a.width?(r=o.width,u=(a.width-o.width)/2):(c=a.width/o.width,r=a.width),t.height||(a.height=a.width*o.height/o.width),(l=c*o.height)<=a.height?(s=o.height,d=(a.height-l)/2):(s=a.height/c,l=a.height),i.drawImage(o,0,0,o.width,s,u,d,r,l),a.toBlob(function(e){n(URL.createObjectURL(e))})}),o.addEventListener("error",function(t){n(e)}),o.src=e})}function m(e,t,n){t[Symbol.for("thumbnail")]?Object.assign(e,t[Symbol.for("thumbnail")]):Promise.all([d(t[n],{width:e.width,height:e.height}),d(t[n],{width:2*e.width,height:2*e.height})]).then(function(n){t[Symbol.for("thumbnail")]={src:n[0],srcset:n[1]},Object.assign(e,t[Symbol.for("thumbnail")])})}function p(e,t,n){var a=Zeplin.urls.imgURL+"/"+encodeURIComponent(t[n]),i="?w="+e.width,o="?w="+2*e.width;e.height&&(i+="&cropTop=0&cropLeft=0&cropWidth="+e.width+"&cropHeight="+e.height,o+="&cropTop=0&cropLeft=0&cropWidth="+2*e.width+"&cropHeight="+2*e.height),e.addEventListener("error",function a(){e.removeEventListener("error",a),m(e,t,n)}),Object.assign(e,{src:a+i,srcset:a+o+" 2x"})}function g(e,t){var n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function f(e,t){if(t=t||r(e)){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();setTimeout(function(){n.top<a.top?t.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(t.scrollTop+=n.bottom-a.bottom)},4)}}function h(e,t){if(!e)return Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png";var n=!1;if("ignoreRandomEmotar"in(t=t||{})&&(n=t.ignoreRandomEmotar),!n&&e.emotar){var a=e.emotar.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});return a=D(a),{src:Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png"}}if(e.avatar)return{src:e.avatar};var i;if(n)return{src:Zeplin.urls.appURL+"/img/emotars/icRandom.svg"};if(e.email){var o=V[e._id];o||(o=Array.from(Z()(e._id)).reduce(function(e,t){return e+t.charCodeAt()},0),V[e._id]=o),i=D(i=Y[o%Y.length].replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()})),i=Zeplin.urls.appURL+"/img/emotars/emotar"+i+".png";var r="https://secure.gravatar.com/avatar/"+Z()(e.email);return{src:r+"?"+(t.size?"s="+t.size+"&":"")+"d="+i,srcset:r+"?"+(t.size?"s="+2*t.size+"&":"")+"d="+i+" 2x"}}}function y(e,t,n){var a=e.parentElement;a.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),a.classList.remove("loading")});var i=h(t,{ignoreRandomEmotar:!!n,size:e.width});i&&Object.assign(e,i)}function b(e){e.addEventListener("animationend",function(t){e.classList.remove("wiggle")}),e.classList.add("wiggle")}function v(e){return e.replace(X,function(e){return J.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}function j(e,t){var n=e.findIndex(t);if(-1!==n)return e.splice(n,1)[0]}function S(e,t){return e.fontSize>t.fontSize?-1:e.fontSize===t.fontSize?e.fontWeight>t.fontWeight?-1:e.fontWeight===t.fontWeight?e.color&&t.color?e.fontFace<=t.fontFace?-1:1:e.color?-1:t.color?1:e.fontFace<=t.fontFace?-1:1:1:1}function E(e,t,n){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!n(e[a],t[a]))return!1;return!0}function L(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}function w(e){return e.charAt(0).toLowerCase()+e.substring(1)}function D(e){return e.charAt(0).toUpperCase()+e.substring(1)}function C(e){return!e.users.length||ne.includes(e.users[0].role)}function x(e,t,n){var a=t.toLowerCase();if(e===a)return{score:1,hasFuzzyMatch:!1};var i=0,o=e,r=n&&n.toLowerCase();if(r&&o.includes(r)){i+=.3;var s=o.replace(new RegExp("\\s*\\b"+r+"\\s*\\b","g")," ").trim();s.length&&(o=s)}var l=a.indexOf(o);l>-1&&(i+=.3,a.startsWith(o)?i+=.3:" "===a.charAt(l-1)&&(i+=.2),i+=(a.length-l)/a.length/200);for(var c=-1,u=0,d=0,m=c=a.indexOf(o.charAt(d));m<a.length&&-1!==c;m++){u+=(a.length-c)/a.length/200," "===a.charAt(c>0?c-1:c)&&(u+=(a.length-c)/a.length/200);var p=o[++d];c=p?a.indexOf(p,c+1):-1}var g=!1;return d===o.length&&(i+=.05,i+=u,g=!0),{score:i,hasFuzzyMatch:g}}function k(e,t,n,i){var o=0,r=t.toLowerCase();if(r.includes(n))o=r.indexOf(n),e.innerHTML=a(t.slice(0,o))+"<span class='highlight'>"+a(t.slice(o,o+n.length))+"</span>"+a(t.slice(o+n.length,t.length));else if(i){var s=Array.from(t),l=Array.from(r),c=Array.from(n),u="",d=0;o=l.indexOf(c[0]);for(var m=0;m<l.length;m++)if(o===m){var p=c[++d];o=p?l.indexOf(p,o+1):-1,u+="<span class='highlight'>"+a(s[m])+"</span>"}else u+=a(s[m]);e.innerHTML=u}else e.textContent=t}function T(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function _(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&("string"==typeof e[n]?t.push([n,e[n]]):e[n].forEach(function(e){t.push([n,e])}))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function q(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}function O(e){return 0===Object.keys(e).length}function A(e,t){t=t||{};var n=new URL(t.origin||"https://app.zeplin.io");return n.pathname=t.url?q(ae[e],t.url):ae[e],t.query&&!O(t.query)&&(n.search=_(t.query)),t.hash&&!O(t.hash)&&(n.hash=_(t.hash)),n.toString()}function I(e){return(e.getDay()+6)%7}function N(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),a=new Date(n-864e5),i=new Date(n-864e5*I(e)),o=new Date(n-864e5*(I(e)+7)),r=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",a],["this week",i],["last week",o],["this month",r],["last month",s]]}function F(e){var t=N().find(function(t){return e>=t[1]});if(t)return t[0];return((new Date).getFullYear()===e.getFullYear()?Intl.DateTimeFormat("en",{month:"long"}):Intl.DateTimeFormat("en",{year:"numeric",month:"long"})).format(e)}function P(e,t){return e.split(/[\W_]/).some(function(e){return e.startsWith(t)})}function R(e,t){return t?e.length-e.split("").reverse().join("").search(/\W/)-1:e.search(/\W/)}function B(){for(var e=Math.random(),t=0,n=0;t<ie.length;t++)if(e<=(n+=oe[t]))return ie[t];return ie[ie.length-1]}function M(e){return W.indexOf(e.toLowerCase())>-1}function U(e){if(!e)return"";if(e=e.trim(),M(e))return e.toLowerCase();if(/^[#.]/.test(e)){var t=H(e.substr(1));if(t)return e[0]+t}return(e=H(e))&&"."+e}function H(e){return e=e.trim().replace(/[^\s\w-]/g,"").replace(/^(-?\d+)+/,"").replace(/\s+/g,"-"),CSS.escape&&(e=CSS.escape(e)),e}n.d(t,"f",function(){return a}),n.d(t,"F",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"i",function(){return r}),n.d(t,"B",function(){return s}),n.d(t,"y",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"v",function(){return p}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"A",function(){return y}),n.d(t,"C",function(){return K}),n.d(t,"J",function(){return b}),n.d(t,"b",function(){return j}),n.d(t,"g",function(){return S}),n.d(t,"e",function(){return X}),n.d(t,"D",function(){return v}),n.d(t,"a",function(){return E}),n.d(t,"I",function(){return L}),n.d(t,"s",function(){return w}),n.d(t,"G",function(){return D}),n.d(t,"u",function(){return ee}),n.d(t,"q",function(){return C}),n.d(t,"c",function(){return x}),n.d(t,"n",function(){return k}),n.d(t,"t",function(){return T}),n.d(t,"r",function(){return _}),n.d(t,"H",function(){return A}),n.d(t,"k",function(){return F}),n.d(t,"E",function(){return P}),n.d(t,"h",function(){return R}),n.d(t,"j",function(){return B}),n.d(t,"z",function(){return U}),n.d(t,"p",function(){return M});var z=n(4),Z=n.n(z),W=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],Y=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],V={},G={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},K={role:function(e,t){return"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:G[t.role]-G[e.role]},created:function(e,t){return new Date(t.created)-new Date(e.created)},lastUpdated:function(e,t){return new Date(t.updated)-new Date(e.updated)},_property:function(e,t,n){e&&(t=t[e],n=n[e]);for(var a=t.toLowerCase().match(/\D+|\d+/g),i=n.toLowerCase().match(/\D+|\d+/g),o=Math.min(a.length,i.length),r=0;r<o;r++)if(a[r]!==i[r]){var s=parseInt(a[r],10),l=parseInt(i[r],10);return isNaN(s)||isNaN(l)?a[r]<i[r]?-1:a[r]>i[r]?1:0:s-l}return a.length-i.length},naturally:function(e,t){return K._property(null,e,t)},name:function(e,t){return K._property("name",e,t)}},X=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g,J=/\ud83c[\udffb-\udfff]/g,$=["user","admin","owner","pawn","knight","rook","queen","king"],Q={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"]},ee={isSuperior:function(e,t,n){var a=$.indexOf(e.role),i=$.indexOf(t.role);return n&&a===i||a>i}};for(var te in Q)ee[te]=function(e){return function(t){return Q[e].indexOf(t.role)>=0}}(te);var ne=["king","queen","rook","knight","pawn"],ae={downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:pid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:pid/styleguide","project-screen":"/project/:pid/screen/:sid",projects:"/projects",register:"/register",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-projects":"/organization/:oid/projects"},ie=["broccoli","car","cook","elephant","mariachi","paw","pear","rocket"],oe=ie.map(function(){return.95/(ie.length-1)});oe[ie.indexOf("mariachi")]=.05;new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2})},function(e,t,n){"use strict";function a(e,t){return t=t||{},e>=400&&e<500?new o.a(e,t.title,t.message):e>=500&&e<600?new r.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function i(e,t){var n={title:e.title,message:e.message};if(e instanceof r.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n)):s.a(n);else if(e instanceof o.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler&&"function"==typeof(i=t.clientErrorHandler[401]))return void i();Cookies.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),s.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var a=t.clientErrorHandler;if("function"==typeof a)a(e);else if("object"==typeof a){var i=a[e.status];"function"==typeof i?i(e):"default"in a&&a.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.a(n);else s.a(n);else Raven.captureException(e),t&&"fallbackHandler"in t?t.fallbackHandler():s.a()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o=n(5),r=n(7),s=n(2)},function(e,t,n){"use strict";function a(e){var t=document.createElement("dialog"),n=document.createElement("h1"),a=document.createElement("div"),o=document.createElement("form"),r=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),s.appendChild(c),i(e.img,t)}if(n.classList.add("title"),s.appendChild(n),a.classList.add("message"),s.appendChild(a),e&&e.input){s.classList.add("inputDialogContainer");var u=document.createElement("div"),d=document.createElement("span"),m=document.createElement("input");u.classList.add("inputContainer"),d.classList.add("subtitle"),d.textContent=e.input.title,m.type=e.input.type,u.appendChild(d),u.appendChild(m),o.appendChild(u)}if(e&&e.cancel){var p=document.createElement("button");p.classList.add("cancel"),p.type="submit",p.textContent=e.cancel.name||"CANCEL",p.appendChild(document.createElement("paper-ripple")),e.cancel.cb&&p.addEventListener("click",e.cancel.cb),l.appendChild(p)}return r.classList.add("done"),r.type="submit",r.autofocus=!0,r.textContent=e&&e.done&&e.done.name||"OK",r.appendChild(document.createElement("paper-ripple")),e&&e.done&&e.done.cb&&r.addEventListener("click",e.done.cb),l.appendChild(r),l.classList.add("buttonContainer"),o.appendChild(l),o.setAttribute("method","dialog"),s.appendChild(o),t.appendChild(s),document.querySelector("body").appendChild(t),t}function i(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}function o(e,t){if(!document.querySelector("dialog.generic")||e){var n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",o=!1;if(t&&"defer"in t&&(o=t.defer),o)sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));else{var r=a(e);s.a.registerDialog(r),r.querySelector(".title").textContent=n,r.querySelector(".message").textContent=i,r.addEventListener("click",function(e){e.stopPropagation()}),r.addEventListener("close",function(){r.remove()}),e||r.classList.add("generic"),r.showModal()}}}n.d(t,"a",function(){return o});var r=n(6),s=n.n(r);n.d(t,"b",function(){return s.a});var l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),o(l))},function(e,t){e.exports=preact},function(e,t){e.exports=md5},function(e,t,n){"use strict";function a(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ClientError",a.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message}},function(e,t){e.exports=dialogPolyfill},function(e,t,n){"use strict";function a(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}t.a=a,(a.prototype=Object.create(Error.prototype)).name="ServerError",a.prototype.toString=function(){return"("+this.status+") "+this.message}},function(e,t,n){"use strict";function a(){return s?Promise.resolve(s):fetch(`${Zeplin.urls.baseURL}/api/plans`).then(function(e){return e.json().then(function(t){if(e.ok)return s=Object.freeze(t.plans);throw u.a(e.status,t)})})}function i(){j||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(j=setTimeout(function(){d.b({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},y))}function o(e){function t(){d.a("payment"),i&&(document.querySelector("header.tabs").dataset.selection="billing",document.querySelector("#billingTab").checked=!0)}var n,a={contentType:"html",group:"payment"},i=document.querySelector("#billingTab");e.oid?"queen"===e.currentRole||"king"===e.currentRole?(n=`Payment failed: To continue accessing ${e.isGeneric?"the projects of the organization":"this project"}, please <a href="${Object(m.H)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> your organization payment information.`,a.bodyCallbacks={a:t}):n=`Payment failed: To continue accessing ${e.isGeneric?"the projects of the organization":"this project"}, please contact organization admins and ask them to update payment information.`:"owner"===e.currentRole?(n=`Payment failed: To continue accessing ${e.isGeneric?"your projects":"this project"}, please <a href="${Object(m.H)("profile-billing")}">update</a> your payment information.`,a.bodyCallbacks={a:t}):n=`Payment failed: To continue accessing this project, please contact the owner (${e.ownerEmail}) and ask them to update their payment information.`,a.content=n,d.b(a)}function r(e){return fetch(`${Zeplin.urls.baseURL}/users/emotar`,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emotar:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw u.a(e.status,t)})})}n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return r});var s,l=n(18),c=n.n(l),u=n(1),d=n(12),m=n(0),p=n(3),g=n.n(p),f=n(19),h=Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),y=3e4;window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}});var b,v,j;!function(){function e(){var e=a.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/41ycdg94";var t=a.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}var t=window,n=t.Intercom;if("function"==typeof n)n("reattach_activator"),n("update",intercomSettings);else{var a=document,i=function(){i.c(arguments)};i.q=[],i.c=function(e){i.q.push(e)},t.Intercom=i,t.attachEvent?t.attachEvent("onload",e):t.addEventListener("load",e,!1)}}(),g.a.render(g.a.h(f.a),document.body),Cookies.get("userToken")&&(Intercom("boot",{app_id:"41ycdg94",user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),(b=new c.a("12ddd9afec9f9b421244",{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:`${Zeplin.urls.baseURL}/v2/pusher/auth`,auth:{headers:{"Zeplin-Token":Cookies.get("userToken")}}})).connection.bind("failed",i),b.connection.bind("unavailable",i),b.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",b.connection.socket_id),clearTimeout(j),d.a("socket")}),(v=b.subscribe(`private-user@${Zeplin.user._id}`)).bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),v.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),v.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),v.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),v.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),v.bind("DeleteUser",function(){Cookies.expire("userToken"),localStorage.removeItem("user"),location.replace(Object(m.H)("login"))}))},function(e,t,n){"use strict";function a(){r=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"userPrefs",version:1}),s=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"projectPrefs",version:1}),l=u.a.createInstance({driver:[u.a.INDEXEDDB,u.a.LOCALSTORAGE],name:"extensionPrefs",version:1})}function i(e){return function(){var t=arguments;return e.apply(null,t).catch(function(){a(),e.apply(null,t)})}}function o(e,t){if(t in e){var n=e[t];return delete e[t],n}return null}n.d(t,"c",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return f});var r,s,l,c=n(14),u=n.n(c),d={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",tabTutorialSeen:!1,versionsTutorialSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop"},m={assetNamingConvention:"default",dotListingsStatusFilter:"open",generatorContainerWidth:300,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,projectInfoWidth:280,rightSidebarWrapperWidth:280,sectionsCollapseState:{},showOptimizedSVG:!0,versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,androidResFolderReminderSeen:!1,extensionPrefsMigrated:!1};a();var p={get:function(e){return r.getItem(e).then(function(t){return null===t?d[e]:t})},set:function(e,t){return r.setItem(e,t)}},g={get:function(e,t,n){return s.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:m[t]})},set:function(e,t,n,a){return s.getItem(e).then(function(i){return i||(i={}),a?(i[t]||(i[t]={}),i[t][n]=a,s.setItem(e,i)):(i[t]=n,s.setItem(e,i))})}},f={get:function(e,t,n){return l.getItem(e).then(function(e){return e&&t in e?e[t][n]:null})},set:function(e,t,n,a){return l.getItem(e).then(function(i){return i||(i={}),i[t]||(i[t]={}),i[t][n]=a,l.setItem(e,i)})}};g.get=i(g.get),g.set=i(g.set),p.get=i(p.get),p.set=i(p.set),f.get=i(f.get),f.set=i(f.set),s.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),e.extensionPrefsMigrated&&(n=n||["iosStyleExportType","androidStyleExportType","webStyleExportType","osxStyleExportType","styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin","androidLineSpacingType","attributedStringShowDefaultAttributes","iosDeploymentTarget","osxDeploymentTarget"].map(function(t){return o(e,t)}).some(Boolean)),n&&s.setItem(t,e)})},function(e,t,n){"use strict";var a;"function"==typeof window.require&&(a=window.require("electron")),t.a=a},function(e,t,n){"use strict";function a(e){var t=new URL(i);return t.pathname=e,t.href}n.d(t,"a",function(){return a});var i="https://app.zeplin.io"},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(a.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var i in e.bodyCallbacks)t.querySelector(i).addEventListener("click",e.bodyCallbacks[i]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var a=document.getElementById("bannerTemplate")},,function(e,t){e.exports=localforage},,,function(e,t,n){"use strict";var a=n(26),i=n(31),o={android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"},r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});class Color{constructor(e){this.id=e._id||e.id,this.r=e.r,this.g=e.g,this.b=e.b,this.a="a"in e?e.a:1,this.name=e.name}static get NAMED_COLORS(){return i.a}static fromHex(e){var t=parseInt(e.replace("#",""),16);return new Color({r:t>>16&255,g:t>>8&255,b:255&t})}static _singleComponentBlend(e,t,n,a){return t||a?(e*t+n*a*(1-t))/(t+a*(1-t)):0}equals(e){return Math.round(this.r)===Math.round(e.r)&&Math.round(this.g)===Math.round(e.g)&&Math.round(this.b)===Math.round(e.b)&&r.format(this.a)===r.format(e.a)}blend(e){return new Color({r:Color._singleComponentBlend(this.r,this.a,e.r,e.a),g:Color._singleComponentBlend(this.g,this.a,e.g,e.a),b:Color._singleComponentBlend(this.b,this.a,e.b,e.a),a:this.a+e.a*(1-this.a)})}static blendAll(e){for(var t=new Color(Color.NAMED_COLORS.transparent),n=0;n<e.length&&(!e[n].a||1!==(t=t.blend(e[n])).a);n++);return t}static _toHex(e){return e=Math.trunc(e+e/255),((e=Math.max(0,Math.min(e,255)))<16?"0":"")+e.toString(16)}hexBase(){return Color._toHex(this.r)+Color._toHex(this.g)+Color._toHex(this.b)}toHexString(e){var t=this.hexBase();if(this.a<1){var n=Color._toHex(255*this.a);t=e?n+t:t+n}return"#"+t}toRGBABase(){var e=Math.round(this.r)+" "+Math.round(this.g)+" "+Math.round(this.b);return this.a<1?"rgba "+e+" "+r.format(this.a):"rgb "+e}toRGBAString(){var e=Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b);return(this.a<1?"rgba("+e+", "+r.format(this.a):"rgb("+e)+")"}_toHSL(){var e,t,n=this.r/255,a=this.g/255,i=this.b/255,o=Math.max(n,a,i),r=Math.min(n,a,i),s=(o+r)/2;if(o===r)e=0,t=0;else{var l=o-r;switch(t=s>.5?l/(2-o-r):l/(o+r),o){case n:e=(a-i)/l+(a<i?6:0);break;case a:e=(i-n)/l+2;break;case i:e=(n-a)/l+4}e/=6}return{h:e,s:t,l:s}}toHSLAString(){var e=this._toHSL(),t=Math.round(360*e.h)+", "+Math.round(100*e.s)+"%, "+Math.round(100*e.l)+"%";return(this.a<1?"hsla("+t+", "+r.format(this.a):"hsl("+t)+")"}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t)}}toCSS(e){if("r"in this&&"g"in this&&"b"in this&&"a"in this)switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){for(var t=0,n=-1,r=-1,s=0;s<i.b.length;s++){var l=new Color(i.b[s]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(a.a)(l.name,o[e]);var c=this._toHSL();for(var u in c)c[u]*=255;var d=l._toHSL();for(var m in d)d[m]*=255;t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(r<0||t<r)&&(r=t,n=s)}return Object(a.a)(i.b[n].name,o[e])}}t.a=Color},function(e,t){e.exports=Pusher},function(e,t,n){"use strict";var a=n(20);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(11),r=n(21),s=(n.n(r),[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/quick-start/creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/sketch-integration/exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/quick-start/exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/pricing-and-plans"}]);class l extends i.a.Component{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(e){this.state.popupOpen&&this.setState({popupOpen:!1})}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}buttonClickHandler(e){e.stopPropagation(),this.setState({popupOpen:!this.state.popupOpen})}popupClickHandler(e){e.stopPropagation(),this.closePopup()}showMessages(){Intercom("showMessages")}componentDidMount(){document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler);var e=this;Intercom("onShow",function(){e.setState({intercomOpen:!0})}),Intercom("onHide",function(){e.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",function(t){e.setState({unreadCount:t})})}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderUnreadBadge(){return this.state.unreadCount?i.a.h("div",{class:"unreadBadge"}):null}renderPopup(){if(!this.state.popupOpen)return null;var e=s.map(function(e){return i.a.h("li",{key:e.url},i.a.h("a",{href:e.url,target:"_blank"},i.a.h("span",null,e.text)))});return i.a.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.a.h("h3",null,"Handy articles:"),i.a.h("ul",null,e),i.a.h("hr",null),i.a.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question?",i.a.h("img",{src:o.a("img/emjPointUp@12w.png"),srcSet:o.a("img/emjPointUp@24w.png")+" 2x, "+o.a("img/emjPointUp@36w.png")+" 3x"})),i.a.h("hr",null),i.a.h("button",{type:"button",onClick:this.showMessages},i.a.h("span",null,"Contact us",this.renderUnreadBadge())))}render(e,t){var n=["supportButton"];return t.popupOpen&&n.push("popupOpen"),t.intercomOpen&&n.push("intercomOpen"),i.a.h("div",{class:n.join(" "),onClick:this.buttonClickHandler},i.a.h("img",{src:o.a("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}t.a=l},function(e,t){},function(e,t,n){"use strict";function a(e,t){switch(e){case"android_xml":return"xml";case"react_native":return"react";case"osx_objc":case"ios_objc":return"objc";case"ios_swift4":case"osx_swift4":return"swift";case"ios_swift3":case"osx_swift3":return"swift3";case"ios_swift2":case"osx_swift2":return"swift2";case"stylesheet_css":case"stylesheet_sass":case"stylesheet_scss":case"stylesheet_less":case"stylesheet_stylus":return e.substr(11);case"colorFormat":return"styleColorFormat";case"showDefaultValues":return"showDefaultValues";case"showDimensions":return"showDimensions";case"unitlessLineHeight":return"webUnitlessLineHeight";case"mixin":return"webMixin";case"lineSpacingType":return"androidLineSpacingType";case"showDefaultAttributes":return"attributedStringShowDefaultAttributes";case"deploymentTarget":return"ios"===t?"iosDeploymentTarget":"osxDeploymentTarget"}}function i(e,t){switch(e){case"xml":return"android_xml";case"react":return"react_native";case"objc":return"ios"===t?"ios_objc":"osx_objc";case"swift":return"ios"===t?"ios_swift4":"osx_swift4";case"swift3":return"ios"===t?"ios_swift3":"osx_swift3";case"swift2":return"ios"===t?"ios_swift2":"osx_swift2";case"css":case"sass":case"scss":case"less":case"stylus":return"stylesheet_"+e;case"styleColorFormat":return"colorFormat";case"showDefaultValues":return"showDefaultValues";case"showDimensions":return"showDimensions";case"webUnitlessLineHeight":return"unitlessLineHeight";case"webMixin":return"mixin";case"androidLineSpacingType":return"lineSpacingType";case"attributedStringShowDefaultAttributes":return"showDefaultAttributes";case"iosDeploymentTarget":case"osxDeploymentTarget":return"deploymentTarget"}}function o(e){switch(e){case"android":return"androidStyleExportType";case"ios":return"iosStyleExportType";case"osx":return"osxStyleExportType";case"web":return"webStyleExportType"}}function r(e){return["androidStyleExportType","iosStyleExportType","osxStyleExportType","webStyleExportType"].includes(e)}function s(e){switch(e){case"styleguideOsxStyleExportType":return"osxStyleExportType";case"styleguideWebStyleExportType":return"webStyleExportType";case"styleguideIosStyleExportType":return"iosStyleExportType";case"styleguideIosDeploymentTarget":return"iosDeploymentTarget";case"styleguideOsxDeploymentTarget":return"osxDeploymentTarget";case"styleguideColorFormat":case"colorFormat":return"styleColorFormat";case"lineSpacingType":case"styleguideLineSpacingType":return"androidLineSpacingType";default:return e}}var l,c,u=n(10),d=n(9),m=n(0),p=["assetNamingConvention","showOptimizedSVG"];!function(){if(u.a){var e=!!u.a&&!!u.a.features&&!!u.a.features.webviews;l=Object.defineProperties({},{addRecentProject:{value:function(e){u.a.ipcRenderer.send("add-recent-project",{id:e.id,name:e.name})}},updateProjectPreferences:{value:function(e,t,n){var i={};Object.keys(e).forEach(function(n){var o=a(n,t);o&&(i[o]=e[n])}),n&&(i[o(t)]=a(n,t)),u.a.ipcRenderer.send("project-preferences-changed",i)}},bindProjectPreferences:{value:function(e,t,n,l,m){u.a.ipcRenderer.removeAllListeners("project:"+c+":preferenceMenuItemClicked"),c=e.id,u.a.ipcRenderer.on("project:"+c+":preferenceMenuItemClicked",function(t,n,a){if(p.includes(n)){var o;"string"==typeof manuItemValue?(o=document.querySelector("input[type='radio'][name='"+n+"'][value='"+a+"']")).checked=!0:(o=document.querySelector("input[type='checkbox'][name='"+n+"']")).checked=a,o.dispatchEvent(new Event("change"))}else{var c=s(n);r(c)?l(i(a,e.type),e.type):m(i(c,e.type),a)}}),Promise.all(p.map(function(t){return d.b.get(e.id,t)})).then(function(i){var r=p.reduce(function(e,t,n){return e[t]=i[n],e},{});Object.keys(n).forEach(function(t){var i=a(t,e.type);i&&(r[i]=n[t])}),r[o(e.type)]=a(t,e.type),u.a.ipcRenderer.send("project-preferences",{id:e.id,type:e.type},r)})}},updateEditCapabilities:{value:function(e){u.a.ipcRenderer.send("edit-capabilities",e)}},setViewMenuContext:{value:function(e,t){u.a.ipcRenderer.send("view-menu-context",e,t)}}}),u.a.ipcRenderer.on("open-recent-project",function(e,t){l.onOpenRecentProject?l.onOpenRecentProject(t):location.assign(m.H("project",{url:{pid:t}}))}),e||u.a.ipcRenderer.on("projects",function(){l.onProjects?l.onProjects():location.assign(m.H("projects"))})}}(),t.a=l},function(e,t,n){"use strict";function a(e){return e.reduce(function(e,t){return e.blend(t)})}function i(e){return e=e.trim().replace(/[^\s\w-]/g,"").replace(/^(-?\d+)+/,"").replace(/\s+/g,"-"),CSS.escape&&(e=CSS.escape(e)),e}function o(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function r(e,t){if("r"in e&&"g"in e&&"b"in e&&"a"in e)switch(t){case"hex":return e.toHexString();case"rgb":return e.toRGBAString();case"hsl":return e.toHSLAString();case"default":default:return e.a<1?e.toRGBAString():e.toHexString()}}function s(e,t){var n={};return e.forEach(function(e){var a=r(e,t);n[a]=e.name}),n}function l(e){return m.indexOf(e.toLowerCase())>-1}function c(e,t){var n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function u(e){if(!e)return"";if(e=e.trim(),l(e))return e.toLowerCase();if(/^[#.]/.test(e)){var t=i(e.substr(1));if(t)return e[0]+t}return(e=i(e))&&"."+e}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u});var d=n(26);n.d(t,"c",function(){return d.a});var m=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]},,function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);"_id"in t||(t._id=t.id),t.color=e.color&&new l.a(e.color),t.fontFace&&s(t),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},fontFace:{get:function(){return t.fontFace},set:function(e){t.fontFace=e},enumerable:!0},fontSize:{get:function(){return t.fontSize},set:function(e){t.fontSize=e},enumerable:!0},fontWeight:{get:function(){return o(t.weightText)},set:function(e){t.fontWeight=e},enumerable:!0},fontStyle:{get:function(){return t.fontStyle},set:function(e){t.fontStyle=e},enumerable:!0},fontFamily:{get:function(){return t.fontFamily},set:function(e){t.fontFamily=e},enumerable:!0},fontStretch:{get:function(){return t.fontStretch},set:function(e){t.fontStretch=e},enumerable:!0},lineHeight:{get:function(){return t.lineHeight},set:function(e){t.lineHeight=e},enumerable:!0},textAlign:{get:function(){return t.textAlign},set:function(e){if(-1===c.indexOf(e))throw new TypeError("Unknown alignment: '"+e+"'. Possible values: "+JSON.stringify(c));t.textAlign=e},enumerable:!0},letterSpacing:{get:function(){return t.letterSpacing},set:function(e){t.letterSpacing=e},enumerable:!0},color:{get:function(){return t.color},set:function(e){t.color=e&&new l.a(e)},enumerable:!0},weightText:{get:function(){return t.weightText},set:function(e){t.weightText=e},enumerable:!0},scaledFontSize:{get:function(){return t.scaledFontSize},set:function(e){t.scaledFontSize=e},enumerable:!0}})}function i(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}function o(e){return/black|heavy|900/gi.test(e)?900:/((ex|ul)tra)\s?bold|800/gi.test(e)?800:/([ds]emi)\s?bold|600/gi.test(e)?600:/bold|700/gi.test(e)?700:/medium|500/gi.test(e)?500:/((ex|ul)tra)\s?light|200/gi.test(e)?200:/light|300/gi.test(e)?300:/thin|hairline|100/gi.test(e)?100:400}function r(e){return/(ultra(\s|-)?)+condensed/i.test(e)?"ultra-condensed":/(extra(\s|-)?)+condensed/i.test(e)?"extra-condensed":/(semi(\s|-)?)+condensed/i.test(e)?"semi-condensed":/condensed/i.test(e)?"condensed":/(ultra(\s|-)?)+expanded/i.test(e)?"ultra-expanded":/(extra(\s|-)?)+expanded/i.test(e)?"extra-expanded":/(semi(\s|-)?)+expanded/i.test(e)?"semi-expanded":/expanded/i.test(e)?"expanded":"normal"}function s(e){var t=e.fontFace,n=t.match(u);n?(t=i(t,n=n[n.length-1]),n=n.toLowerCase()):n="regular";var a=t.match(d);a?(t=i(t,a=a[a.length-1]),a=a.toLowerCase()):a="normal";var o=t.match(m);o?(t=i(t,o=o[o.length-1]),o=o.toLowerCase()):o="normal",t=t.replace(/--/,"-").replace(/-$/,"").trim(),e.fontFamily=t.match(/^Arial-?MT$/)?"Arial":t,e.fontStyle=a,e.weightText=n,e.fontStretch=r(o)}t.a=a;var l=n(17),c=["start","left","right","end","center","justify"];a.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.textAlign===e.textAlign&&this.letterSpacing===e.letterSpacing&&(!this.color||!e.color||this.color.equals(e.color))};var u=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]00$)/gi,d=/(italic|oblique)/gi,m=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi},function(e,t,n){"use strict";function a(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(o.G).join("");return"camelCase"===t?o.s(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}function i(e){var t=e.match(r);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}var o=n(0),r=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return a(i(e),t)}},function(e,t,n){"use strict";function a(e){switch(e){case 1:return"1 active project";case 999:case-1:return"Unlimited projects";default:return e+" Active Projects"}}function i(){D.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}function o(e){j.a().then(function(t){var n=t.find(function(t){return t._id===e});if(N=e,R=n.price){var a=e.split("_");F=a[0],P=a[1]||"monthly",B=F,M=P}else{B=F=e,M=P="annual";var o=document.getElementById("updatePlanButton");o&&("banker_bilo"===e?o.querySelector("button").textContent="💰💰💰":"bff"===e&&(o.querySelector("button").textContent="💝"))}var r=document.getElementById("planName");r&&(r.textContent=n.name),C.dataset.currentPlanId=e,"period"in Z?(s(Z.period),document.getElementById(Z.period+"Payment").checked=!0,delete Z.period,i()):(s(P),document.getElementById(P+"Payment").checked=!0),"coupon"in Z&&(T.value=Z.coupon,T.parentElement.classList.toggle("typed",!!T.value),u(Z.coupon),delete Z.coupon,i())}).catch(E.b)}function r(e,t,n,i){var o=t.price/("monthly"===n?1:12),r=e.querySelector(".planPrice"),s=e.querySelector(".planProjectCount"),l=c(M,i);e.classList.toggle("annual","annual"===n),l&&(o-=i.percent_off?o*i.percent_off/100:i.amount_off,o=Math.max(o,0)),r.dataset.value=o,o/=100,r.textContent=Math.trunc(o),r.dataset.fr=(o%1+""||"").substring(1,4),s.textContent=a(t.limit)}function s(e,t){var n=document.querySelector(".plan.growing"),a=document.querySelector(".plan.current"),i=document.querySelector(".plan.organization");M=e||"monthly",k.classList.toggle("invisible","annual"===e),j.a().then(function(o){if(Array.from(document.querySelectorAll(".plan")).forEach(function(n){var a=o.find(function(t){return W[e][n.dataset.planId]===t._id});r(n,a,e,t)}),a&&a.classList.remove("current"),a&&(a.querySelector("button").disabled=!1),"free"===F||"starter"===F||"growing"===F&&"monthly"===P&&"annual"===e?n.classList.add("recommended"):n.classList.remove("recommended"),i.querySelector(".createLink").href=Object(L.H)("organization-create",{query:{period:e}}),R&&e===P&&"company"!==F&&Y.indexOf(N)>-1){(a=document.querySelector(".plan."+F)).classList.add("current"),a.querySelector("button").disabled=!0;var s=o.find(function(e){return N===e._id});r(a,s,e)}}).catch(E.b)}function l(e){return e?fetch(Zeplin.urls.baseURL+"/stripe/coupons/"+encodeURIComponent(e),{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(!e.ok)throw E.a(e.status,t);return t})}):Promise.resolve(null)}function c(e,t){if(!t||"annual"===e)return x.innerHTML="&nbsp;",!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return x.textContent="This coupon is expired.",!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return x.textContent="This coupon is maxed out.",!1;var n=t.percent_off?t.percent_off+"% off":t.amount_off/100+"$ off";switch(t.duration){case"once":n+=" for the first "+("monthly"===e?"month":"year");break;case"repeating":n+=" for "+t.duration_in_months+" months";break;case"forever":n+=" forever"}return x.textContent=n,!0}function u(e,t){l(e).then(function(e){H=e,q.disabled=!0,t=t||"auto";var n=e.metadata&&e.metadata.source;mixpanel.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(function(e){H=null,q.disabled=!1,E.b(e)}).then(function(){s(M,H)})}function d(e,t,n,a){w.classList.remove("hidden");var i={plan:W[n][t],stripeToken:e};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){fbq("track","Purchase",{value:U/100,currency:"USD",content_type:"product",content_ids:[W[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+W[n][t]),mixpanel.track("Subscribed",{to:W[n][t]}),Zeplin.updateUser({paymentPlan:W[n][t]}),location.replace(Object(L.H)("thanks",{query:{at:"ns"}}))}).catch(function(e){w.classList.add("hidden"),E.b(e)})}function m(e,t,n){S.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb:function(){w.classList.remove("hidden");var a={plan:W[t][e]};"monthly"===t&&n&&(a.coupon=n.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(n){if(!n.ok)return n.json().then(function(e){throw E.a(n.status,e)});mixpanel.track("Changed plan",{from:Zeplin.user.paymentPlan,to:W[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+W[t][e]),Zeplin.updateUser({paymentPlan:W[t][e]}),location.replace(Object(L.H)("thanks",{query:{at:"us"}}))}).catch(function(e){w.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}function p(e,t,n,a){S.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb:function(){w.classList.remove("hidden");var i={plan:W[n][t]};"monthly"===n&&a&&(i.coupon=a.id),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions/downgrade",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(i)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:W[n][t]}),location.replace(Object(L.H)("projects"))}).catch(function(e){w.classList.add("hidden"),E.b(e)})}},cancel:{name:"CANCEL"}})}function g(){S.a({title:"Cancel subscription?",message:"Make sure to archive your projects before.",done:{name:"CANCEL PLAN",cb:function(){w.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)});Zeplin.updateUser({paymentPlan:"free"}),S.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything bothering you: support@zeplin.io",done:{cb:function(){location.replace(Object(L.H)("projects"))}}})}).catch(function(e){w.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function f(e){S.a({title:"Cancel subscription?",message:"Your organization projects will be archived.",done:{name:"CANCEL PLAN",cb:function(){w.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.a(e.status,t)})}).then(function(){S.a({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything we can improve: support@zeplin.io",done:{cb:function(){location.replace(Object(L.H)("projects"))}}})}).catch(function(e){w.classList.add("hidden"),E.b(e)})}},cancel:{name:"KEEP"}})}function h(e){e.preventDefault(),z?f(z._id):g()}function y(e,t){V.open({name:"Zeplin, Inc.",description:e,email:Zeplin.user.email,panelLabel:t,amount:U}),mixpanel.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function b(e,t,n){var a;switch(n.duration){case"once":a="30 days";break;case"repeating":a=n.duration_in_months+" months"}Array.from(O.querySelectorAll(".friendlyReminderDuration")).forEach(function(e){e.textContent=a}),O.dataset.planName=e.querySelector(".planName").textContent,j.a().then(function(n){var a=n.find(function(n){return W[t][e.dataset.planId]===n._id});O.querySelector(".friendlyReminderPrice").textContent=a.price/100,O.showModal(),mixpanel.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}function v(e){var t=j.c.subscribe("private-organization@"+e);t.bind("CreateOrganizationSubscription",function(e){z.paymentPlan=e.body.plan,o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",function(e){z.paymentPlan=e.body.plan,o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0})}var j=n(8),S=n(2),E=n(1),L=n(0),w=document.getElementById("loading"),D=document.getElementById("planChooserOverlay"),C=document.getElementById("planChooserContent"),x=document.getElementById("discountNotice"),k=document.getElementById("couponForm"),T=document.getElementById("couponCode"),_=document.getElementById("plans"),q=document.getElementById("applyCouponButton"),O=document.getElementById("friendlyReminderDialog"),A=document.getElementById("cancelFriendlyReminderButton"),I=document.getElementById("continueToPaymentButton");S.b.registerDialog(O);var N,F,P,R,B,M,U,H,z,Z={},W={monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual"}},Y=["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly","organization_annual"],V=StripeCheckout.configure({key:"pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",image:Zeplin.urls.appURL+"/img/favicon/128x128.png",token:function(e){w.classList.remove("hidden"),d(e.id,B,M,H)}});Array.from(C.querySelectorAll("[name='paymentPeriod']")).forEach(function(e){e.addEventListener("change",function(e){s(e.target.value,H)})}),T.parentElement.classList.toggle("typed",!!T.value),T.addEventListener("keyup",function(){T.parentElement.classList.toggle("typed",!!T.value),T.value||(H=null,s(M))}),T.addEventListener("blur",function(){T.parentElement.classList.toggle("typed",!!T.value),T.value||(H=null,s(M))}),T.addEventListener("input",function(e){q.disabled=H&&H.id===T.value}),k.addEventListener("submit",function(e){e.preventDefault(),u(T.value,"manual")}),A.addEventListener("click",function(){O.close()}),I.addEventListener("click",function(){y(O.dataset.planName,"Pay 0/mo")}),_.addEventListener("click",function(e){if(e.target.classList.contains("choosePlan")){var t=e.target.closest(".plan");if(B=t.dataset.planId,R)"organization"===B?D.classList.add("hidden"):z?p(z._id,B,M,H):m(B,M,H);else if((U=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===H.duration){var n;"monthly"===M?n="Pay {{amount}}/mo":(n="Pay {{amount}}/year",U*=12),y(t.querySelector(".planName").textContent,n)}else b(t,M,H)}else e.target.classList.contains("cancelPlan")&&h(e)}),Array.from(C.querySelectorAll(".warning .cancelPlanLink")).forEach(function(e){e.addEventListener("click",h)}),C.addEventListener("click",function(e){e.stopPropagation()}),D.addEventListener("click",function(){D.classList.add("hidden")}),D.addEventListener("keydown",function(e){e.stopPropagation()}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&D.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(function(e){var t=e.split("=");Z[decodeURIComponent(t[0])]=decodeURIComponent(t[1])});var G=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i);G?function(e){return fetch(Zeplin.urls.baseURL+"/organizations/"+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw E.a(e.status,t)})})}(G[1]).then(function(e){z=e,"organization_free"!==e.paymentPlan&&o(e.paymentPlan),v(e._id)}).catch(E.b):(o(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",function(e){o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("UpdateUserSubscription",function(e){o(e.body.plan),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("CancelUserSubscription",function(){o("free"),s(P),document.getElementById(P+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(j.f))},,,function(e,t,n){"use strict";function a(e){return g.f(e).replace(/\*([^*]+)\*/g,function(e,t){return"<strong>"+t+"</strong>"})}function i(e,t){var n="end",i=e.events.length;t&&t.position&&(n=["start","end"].includes(t.position)?t.position:"end");var o,r=new Date(e.updated);switch(e.actionName){case"CreateDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createDotSingleUser").content,!0),g.A(o.querySelector(".dotAuthorImage"),u),o.querySelector(".dotAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=g.D(g.f(e.content)),o.querySelector(".notificationContent").title=e.content):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=g.H("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"ResolveDot":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var c=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.resolveDotSingleUser").content,!0),g.A(o.querySelector(".dotResolverImage"),c),o.querySelector(".dotResolver").textContent=c.username}else{o=document.importNode(document.querySelector(".notificationTemplate.resolveDotMultiUser").content,!0),s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.did=e.events[0].dot._id,o.querySelector(".dotName").textContent=e.events[0].dot.name):(o.querySelector(".dotCount").textContent=i,l.query.did=e.events.map(function(e){return e.dot._id})),o.querySelector(".notification").href=g.H("project-screen",l),o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateDotComment":var s=[],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:e.params.dot._id}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){s.push(e)}),1===s.length){var u=e.events[0].source;o=document.importNode(document.querySelector(".notificationTemplate.createCommentSingleUser").content,!0),g.A(o.querySelector(".commentAuthorImage"),u),o.querySelector(".commentAuthor").textContent=u.username}else{o=document.importNode(document.querySelector(".notificationTemplate.createCommentMultiUser").content,!0);s.length>3?(b=s.slice(0,3),v=s.length-3+" more people",o.querySelector(".tailUsername").title=s.slice(3).join("\n")):(v=s.pop(),b=s),o.querySelector(".headUsernames").textContent=b.join(", "),o.querySelector(".tailUsername").textContent=v}1===i?(l.query.cmid=e.events[0].comment._id,o.querySelector(".notification").classList.add("withContent"),o.querySelector(".notificationContent").innerHTML=g.D(g.f(e.content)),o.querySelector(".notificationContent").title=e.content):l.query.cmid=e.events.map(function(e){return e.comment._id}),o.querySelector(".notification").href=g.H("project-screen",l),o.querySelector(".noteName").textContent=e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateDot-Mention":case"CreateDotComment-Mention":var d=e.events[0],l={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:"CreateDot-Mention"===e.actionName?d.dot._id:e.params.dot._id,cmid:d.comment._id}};(o=document.importNode(document.querySelector(".notificationTemplate.commentMention").content,!0)).querySelector(".notification").href=g.H("project-screen",l),g.A(o.querySelector(".mentionAuthorImage"),d.source),o.querySelector(".mentionAuthor").textContent=d.source.username,o.querySelector(".noteName").textContent="CreateDot-Mention"===e.actionName?d.dot.name:e.params.dot.name,o.querySelector(".screenName").textContent=e.params.screen.name,o.querySelector(".notificationContent").innerHTML=g.D(g.f(e.content)),o.querySelector(".notificationContent").title=e.content,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateScreen":l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createScreen").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=g.H(m,l),g.A(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateVersion":var m,l={url:{pid:e.params.project._id}};if(1===i){m="project-screen";f=e.events[0].screen;l.url.sid=f._id,(o=document.importNode(document.querySelector(".notificationTemplate.createVersion").content,!0)).querySelector(".screenName").textContent=f.name}else m="project",(o=document.importNode(document.querySelector(".notificationTemplate.createVersionMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),l.query={sid:e.events.map(function(e){return e.screen._id})};o.querySelector(".notification").href=g.H(m,l),g.A(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteScreen":if(1===i){var f=e.events[0].screen;(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreen").content,!0)).querySelector(".screenName").textContent=f.name}else(o=document.importNode(document.querySelector(".notificationTemplate.deleteScreenMulti").content,!0)).querySelector(".screenCount").textContent=i,o.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n");g.A(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"InviteUser":if(i>1){k=e.events.map(function(e){return e.project.name}),_=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.inviteUserMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),C=g.H("projects",{query:{pid:_}})}else{w=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.inviteUser").content,!0)).querySelector(".projectName").textContent=w.name,C=g.H("project",{url:{pid:w._id}})}o.querySelector(".notification").href=C;D=e.params.source;g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username;break;case"RemoveUserFromProject":D=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.removeUser").content,!0),g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=e.params.project.name;break;case"UserJoined":if(i>1){o=document.importNode(document.querySelector(".notificationTemplate.newMemberMulti").content,!0);var b,v;i>3?(b=e.events.slice(0,3),v=i-3+" more",o.querySelector(".tailUsername").title=e.events.slice(3).map(function(e){return e.member.username}).join("\n")):(b=e.events.slice(0,i-1),v=e.events[i-1].member.username),o.querySelector(".headUsernames").textContent=b.map(function(e){return e.member.username}).join(", "),o.querySelector(".tailUsername").textContent=v}else{var L=e.events[0].member;o=document.importNode(document.querySelector(".notificationTemplate.newMember").content,!0),g.A(o.querySelector(".newMemberImage"),L),o.querySelector(".memberUsername").textContent=L.username}o.querySelector(".notification").href=g.H("project",{url:{pid:e.params.project._id}}),o.querySelector(".projectName").textContent=e.params.project.name;break;case"DeleteProject":D=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.deleteProject").content,!0),g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ArchiveProject":D=e.params.source;o=document.importNode(document.querySelector(".notificationTemplate.archiveProject").content,!0),g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ActivateProject":var w=e.events[0].project,D=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.activateProject").content,!0)).querySelector(".notification").href=g.H("project",{url:{pid:w._id}}),g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=w.name;break;case"UpdateUserRole":var C;if(i>1){var k,_;k=e.events.map(function(e){return e.project.name}),_=e.events.map(function(e){return e.project._id}),(o=document.importNode(document.querySelector(".notificationTemplate.assignAdminMulti").content,!0)).querySelector(".projectCount").textContent=i,o.querySelector(".tailProject").textContent=k.pop(),o.querySelector(".headProjects").textContent=k.join(", "),C=g.H("projects",{query:{pid:_}})}else{w=e.events[0].project;(o=document.importNode(document.querySelector(".notificationTemplate.assignAdmin").content,!0)).querySelector(".projectName").textContent=w.name,C=g.H("project",{url:{pid:w._id}})}o.querySelector(".notification").href=C;D=e.params.source;g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username;break;case"TransferOwnership":var w=e.events[0].project,D=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.transferOwnership").content,!0)).querySelector(".notification").href=g.H("project",{url:{pid:w._id}}),g.A(o.querySelector(".notifierImage"),D),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=w.name;break;case"CreateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.createColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=g.H("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteColor":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n");else{q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.deleteColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type)}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"UpdateColor":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateColorMulti").content,!0)).querySelector(".colorCount").textContent=i,o.querySelector(".colorCount").title=e.events.map(function(t){var n=new h.a(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),l.query.cid=e.events.map(function(e){return e.color._id});else{var q=new h.a(e.events[0].color);(o=document.importNode(document.querySelector(".notificationTemplate.updateColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=q.toCSS(),o.querySelector(".colorPreview").title=q.toPlatformString(e.params.project.type),o.querySelector(".notificationColorName").textContent=q.name,o.querySelector(".notificationColorName").title=q.toPlatformString(e.params.project.type),l.query.cid=e.events[0].color._id}o.querySelector(".notification").href=g.H("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"CreateCoupon":(o=document.importNode(document.querySelector(".notificationTemplate.createCoupon").content,!0)).querySelector(".notification").href=e.action.webURI,o.querySelector(".notificationContent").innerHTML=a(e.content),x<r&&S.classList.contains("hidden")&&j.classList.add("hasPromotion");break;case"AuthSlack":var w=e.events[0].project,D=e.params.source;(o=document.importNode(document.querySelector(".notificationTemplate.authSlack").content,!0)).querySelector(".notification").href=g.H("project",{url:{pid:w._id}}),o.querySelector(".notifier").textContent=D.username,o.querySelector(".projectName").textContent=w.name,o.querySelector(".slackChannelName").textContent=e.content;break;case"CreateAnnouncement":if(!("webURI"in e.action))return;(o=document.importNode(document.querySelector(".notificationTemplate.announcement").content,!0)).querySelector(".notification").href=e.action.webURI||"#",o.querySelector(".notificationContent").innerHTML=a(e.content),o.querySelector(".notificationAnnouncer").textContent=e.params.source.username,e.action.webURI||(o.querySelector(".notification").classList.add("noClick"),o.querySelector(".notification").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}));break;case"CreateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.createFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.createFont").content,!0)).querySelector(".notificationFontName").textContent=O.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=g.H("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"UpdateTextStyle":l={url:{pid:e.params.project._id},query:{}};if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.updateFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n"),l.query.tsid=e.events.map(function(e){return e.textStyle._id});else{O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.updateFont").content,!0)).querySelector(".notificationFontName").textContent=O.name,l.query.tsid=e.events[0].textStyle._id}o.querySelector(".notification").href=g.H("project-styleguide",l),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"DeleteTextStyle":if(i>1)(o=document.importNode(document.querySelector(".notificationTemplate.deleteFontMulti").content,!0)).querySelector(".fontCount").textContent=i,o.querySelector(".fontCount").title=e.events.map(function(e){return new y.a(e.textStyle).name}).join("\n");else{var O=new y.a(e.events[0].textStyle);(o=document.importNode(document.querySelector(".notificationTemplate.deleteFont").content,!0)).querySelector(".notificationFontName").textContent=O.name}o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".notificationProjectName").textContent=e.params.project.name,o.querySelector(".notificationProjectName").title=e.params.project.name,o.querySelector(".notificationProjectType").textContent=p.b[e.params.project.type];break;case"InviteMember":o=document.importNode(document.querySelector(".notificationTemplate.inviteMember").content,!0),g.A(o.querySelector(".notifierImage"),e.params.source),o.querySelector(".notifier").textContent=e.params.source.username,o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=g.H("organization-dashboard",{url:{oid:e.params.organization._id}});break;case"UpdateOrganizationMemberRole":var d=e.events[i-1],A=T[d.user.role],I=d.source;o=document.importNode(document.querySelector(".notificationTemplate.updateOrganizationMemberRole").content,!0),g.A(o.querySelector(".notifierImage"),I),o.querySelector(".notifier").textContent=I.username,o.querySelector(".roleName").textContent=A.name,o.querySelector(".roleIcon").src=Zeplin.urls.appURL+"/img/"+A.icon+".png",o.querySelector(".roleIcon").srcset=Zeplin.urls.appURL+"/img/"+A.icon+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+A.icon+"@3x.png 3x",o.querySelector(".organizationName").textContent=e.params.organization.name,o.querySelector(".notification").href=g.H("organization-dashboard",{url:{oid:e.params.organization._id}});break;default:o=document.importNode(document.querySelector(".notificationTemplate.undefinedNotification").content,!0)}switch(x<r&&S.classList.contains("hidden")&&j.classList.add("hasUnread"),o.querySelector(".notification").dataset.id=e._id,o.querySelector(".notification").classList.toggle("new",x<r),o.querySelector(".notificationLastUpdated").setAttribute("datetime",e.updated),n){case"start":E.childElementCount?E.insertBefore(o,E.firstElementChild):E.appendChild(o);break;case"end":default:E.appendChild(o)}}function o(e){for(var t=0,n=0;n<k.length;n++)if(k[n]._id===e[0]._id){t=k.splice(n).length;break}return k=k.concat(e),t}function r(){if(!(S.classList.contains("error")||C||D)){D=!0;var e="";k.length&&(e="&date_before="+k[k.length-1].updated),fetch(Zeplin.urls.baseURL+"/notifications?count="+v+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){for(var t=o(e.notifications);t<e.notifications.length;t++)i(e.notifications[t]);if(D=!1,e.notifications.length<v||!e.hasMore)C=!0,S.classList.add("fin");else{var n=S.scrollHeight,a=S.clientHeight,s=S.scrollTop;!S.classList.contains("hidden")&&n-(a+s)<360&&r()}}).catch(function(e){S.classList.add("error"),D=!1})}}function s(){j.classList.remove("hasUnread","hasPromotion")}function l(){Array.from(E.querySelectorAll(".notification")).forEach(function(e){e.classList.remove("new")})}function c(){x=new Date,fetch(Zeplin.urls.baseURL+"/users/notificationLastReadTime",{method:"PUT",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw f.a(e.status,t)})}).then(function(e){x=new Date(e.notificationLastReadTime),Zeplin.updateUser({notificationLastReadTime:e.notificationLastReadTime})})}function u(e){return e/2*window.devicePixelRatio}function d(){q.width=16*window.devicePixelRatio,q.height=16*window.devicePixelRatio;var e=q.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(u(O),u(O),u(A),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(u(O),u(O),u(I),0,6.28,!1),e.fill(),q.toDataURL()}var m,p=n(8),g=n(0),f=n(1),h=n(17),y=n(25),b=n(10),v=50,j=document.getElementById("notificationsButton"),S=document.getElementById("notificationContainer"),E=document.getElementById("notificationList"),L=document.getElementById("notificationError"),w=document.getElementById("userMenu"),D=!1,C=!1,x=new Date,k=[],T={king:{name:"Owner",icon:"icQueen"},queen:{name:"Admin",icon:"icQueen"},rook:{name:"Editor",icon:"icRook"},knight:{name:"Member",icon:"icKnight"}},_=new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hidden")||!e.target.classList.contains("hidden")||(s(),l(),c())})});b.a&&b.a.features&&b.a.features.webviews&&b.a.ipcRenderer.on("read-notifications",function(){s(),l(),c()});var q=document.createElement("canvas"),O=16,A=13,I=2;Cookies.get("userToken")&&(j.addEventListener("click",function(e){e.stopPropagation(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),w.classList.add("hidden"),S.classList.toggle("hidden"),S.classList.contains("hidden")?clearTimeout(m):S.scrollHeight-(S.clientHeight+S.scrollTop)<360&&r()}),E.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&"A"===e.target.closest(".notification").tagName&&S.classList.add("hidden")}),S.addEventListener("scroll",function(){requestAnimationFrame(function(){S.scrollHeight-(S.clientHeight+S.scrollTop)<360&&r()})}),L.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(S.classList.remove("error"),r())}),document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&S.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&S.classList.add("hidden")}),window.addEventListener("online",function(){k=[],D=!1,C=!1,E.innerHTML="",S.classList.remove("fin","error"),s(),r()}),_.observe(S,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a&&(new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hasUnread")||!e.target.classList.contains("hasUnread")?e.oldValue.includes("hasUnread")&&!e.target.classList.contains("hasUnread")&&b.a.ipcRenderer.send("read-notifications"):b.a.ipcRenderer.send("unread-notifications",d())})}).observe(j,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),b.a.features&&b.a.features.revampedMenu&&b.a.ipcRenderer.on("show-badge",function(e,t){t&&j.classList.contains("hasUnread")&&b.a.ipcRenderer.send("unread-notifications",d())})),x=new Date(Zeplin.user.notificationLastReadTime),r(),p.f.bind("Notification",function(e){var t=k.findIndex(function(t){return t._id===e.body._id});if(-1!==t){k.splice(t,1);var n=E.querySelector(".notification[data-id='"+e.body._id+"']");n&&n.remove()}k.unshift(e.body),i(e.body,{position:"start"})}),p.c.subscribe("announcement").bind("Notification",function(e){k.unshift(e.body),i(e.body,{position:"start"})}))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0}}),i=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function a(e){S.querySelector(".selected").classList.remove("selected");(e.emotar?S.querySelector(".emotar[data-name='"+e.emotar+"']"):S.firstElementChild).classList.add("selected"),h.A(j.querySelector(".profileImage"),e),h.A(v.querySelector(".profileImage"),e),h.A(document.querySelector(".currentAvatar .profileImage"),e),h.A(document.querySelector("#emotarList .emotarImage"),e,!0);var t=document.querySelector('#organizations .organization[data-id="user"]');t&&h.A(t.querySelector(".organizationLogo"),e)}function i(){fetch(Zeplin.urls.baseURL+"/users/emailNotifications",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emailNotifications:C.checked})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw b.a(e.status,t)});Zeplin.updateUser({emailNotifications:C.checked})}).catch(function(e){C.checked=!C.checked,b.b(e)})}function o(){Cookies.expire("userToken"),localStorage.removeItem("user"),Zeplin.requireLogin(!1)}function r(e){var t;t="emotar"===e?T.getBoundingClientRect():k.getBoundingClientRect(),j.style.height=t.height+"px",j.classList.toggle("scrolling","usermenu"===e&&j.offsetHeight<k.scrollHeight)}function s(e){return document.querySelector(".organizationProfile[data-id='"+e+"']")}function l(e){document.querySelector("li.userPlan").classList.toggle("hidden",!e)}function c(e){Object.assign(Zeplin.user,e),a(Zeplin.user)}function u(e){var t="private-organization@"+e;p.c.channel(t)||p.c.subscribe(t)}function d(e,t){e.parentElement.classList.add("loading"),t&&(e.addEventListener("load",function t(){e.removeEventListener("load",t),e.parentElement.classList.remove("loading")}),e.src=t)}function m(e){var t=document.importNode(q.content,!0);t.querySelector(".organizationProfile").dataset.id=e._id,t.querySelector("a").href=h.H("organization-dashboard",{url:{oid:e._id}}),t.querySelector(".organizationName").textContent=e.name,d(t.querySelector(".organizationLogo"),e.logo),_.appendChild(t),u(e._id)}var p=n(8),g=n(12),f=n(2),h=n(0),y=n(9),b=n(1),v=document.getElementById("currentUser"),j=document.getElementById("userMenu"),S=document.getElementById("emotarList"),E=document.getElementById("updatePlanButton"),L=document.getElementById("planChooserOverlay"),w=document.getElementById("notificationContainer"),D=document.getElementById("notificationStatusCheckbox"),C=document.getElementById("emailNotificationStatusCheckbox"),x=document.getElementById("logoutButton"),k=j.querySelector("section.usermenu"),T=j.querySelector("section.emotar"),_=document.getElementById("organizationProfiles"),q=document.getElementById("organizationProfileTemplate");v.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(window.Notification&&j.classList.contains("hidden")&&("granted"!==Notification.permission?(y.c.set("notificationStatus",!1),D.checked=!1):y.c.get("notificationStatus").then(function(e){D.checked=e})),w.classList.add("hidden"),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),j.classList.toggle("hidden"))}),j.addEventListener("click",function(e){e.stopPropagation()}),document.querySelector("#userInfo .avatarFrame").addEventListener("click",function(e){e.stopPropagation(),j.dataset.state="emotar"}),document.getElementById("emotarBackButton").addEventListener("click",function(e){j.dataset.state="usermenu"}),["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"].forEach(function(e){var t=document.createElement("div"),n=document.createElement("img"),a=e.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});a=h.G(a),t.classList.add("emotar"),t.dataset.name=e,n.src=Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png",t.appendChild(n),S.appendChild(t)}),S.addEventListener("click",function(e){if(e.target.classList.contains("emotar")){var t=e.target.dataset.name;t="random"===t?null:t;var n=Object.assign({},Zeplin.user);n.emotar=t,a(n)}}),E.addEventListener("click",function(e){e.preventDefault(),j.classList.add("hidden"),L.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")});var O;C.addEventListener("change",function(){clearTimeout(O),O=setTimeout(function(){i()},1e3)}),x.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(mixpanel.track("Logged out"),fetch(Zeplin.urls.baseURL+"/users/logout",{method:"POST",headers:Zeplin.headers}).then(o,o))});var A=new MutationObserver(function(e){e.forEach(function(e){if("class"===e.attributeName)if(e.target.classList.contains("hidden")){if(!e.oldValue||!e.oldValue.includes("hidden")){j.classList.remove("hasTransition"),j.dataset.state="usermenu";var t=S.querySelector(".selected").dataset.name;if(t="random"===t?null:t,Zeplin.user.emotar===t)return;p.e(t).then(function(){Zeplin.user.emotar=t,t?mixpanel.track("Updated emotar",{emoji:t}):mixpanel.track("Removed emotar")}).catch(function(e){a(Zeplin.user),b.b(e)})}}else e.oldValue&&e.oldValue.includes("hidden")&&(r(e.target.dataset.state),j.classList.add("hasTransition"));else"data-state"===e.attributeName&&r(e.target.dataset.state)})});document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&j.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&j.classList.add("hidden")}),window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.newValue);t&&"registered"===t.status&&(j.querySelector(".userStatus").textContent="Not verified yet.")}}),Cookies.get("userToken")&&(A.observe(j,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-state"]}),a(Zeplin.user),v.title=Zeplin.user.username,j.querySelector(".username").textContent=Zeplin.user.username,j.querySelector(".email").textContent=Zeplin.user.email,C.checked=void 0===Zeplin.user.emailNotifications||Zeplin.user.emailNotifications,"registered"===Zeplin.user.status&&(j.querySelector(".userStatus").textContent="Not verified yet.","dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&g.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback:function(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})),fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw b.a(e.status,t)})}).then(function(e){e.organizations.length&&(l(!1),e.organizations.forEach(m))}).catch(function(){}),window.Notification?(D.addEventListener("change",function(){if("denied"===Notification.permission)return D.checked=!1,void f.a({message:"You need to enable notifications from browser settings."});"default"===Notification.permission&&D.checked?Notification.requestPermission(function(e){y.c.set("notificationStatus","granted"===e).then(function(e){D.checked=e})}):y.c.set("notificationStatus",D.checked)}),y.c.get("notificationBannerStatus").then(function(e){"default"===Notification.permission&&e&&g.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback:function(){y.c.set("notificationBannerStatus",!1)},bodyCallbacks:{a:function(e){e.preventDefault(),g.a("notification"),Notification.requestPermission(function(e){y.c.set("notificationStatus","granted"===e).then(function(e){D.checked=e})})}}})})):D.closest(".menuItem").classList.add("hidden"),function(e){e.bind("UpdateUsername",function(e){var t=e.body.username;v.title=t,j.querySelector(".username").textContent=t}),e.bind("UpdateEmail",function(e){j.querySelector(".email").textContent=e.body.email}),e.bind("UpdateUserEmotar",function(e){c(e.body)}),e.bind("UpdateUserAvatar",function(e){c(e.body)}),e.bind("VerifyUser",function(){j.querySelector(".userStatus").textContent=""}),e.bind("UpdateEmailNotifications",function(e){C.checked=e.body.emailNotifications}),e.bind("CreateOrganization",function(e){m(e.body),l(!1)}),e.bind("InviteOrganizationMembers",function(e){m(e.body),l(!1)})}(p.f),p.c.bind("UpdateOrganizationLogo",function(e){var t=s(e.params.oid);t?d(t.querySelector(".organizationLogo"),e.body.logo):p.c.unsubscribe("private-organization@"+e.params.oid)}),p.c.bind("UpdateOrganizationName",function(e){var t=s(e.params.oid);t?t.querySelector(".organizationName").textContent=e.body.name:p.c.unsubscribe("private-organization@"+e.params.oid)}),p.c.bind("RemoveMemberFromOrganization",function(e){if(e.params.mid===Zeplin.user._id){p.c.unsubscribe("private-organization@"+e.params.oid);var t=s(e.params.oid);t&&(t.previousElementSibling.remove(),t.remove(),l(!_.childElementCount))}}))},function(e,t,n){"use strict";function a(e,t){return{get:function(n){return o.a.get(e,t,n)},set:function(n,a){return o.a.set(e,t,n,a)}}}var i=n(131),o=n(9);class r extends i.a{static get manifest(){return{}}static updateOptions(e){return e}static load(e){var t=this,n=t.manifest,i=a(n.id,e.id),o=n.options.reduce(function(e,t){return e[t.id]=t.default,e},{});return Promise.all(n.options.map(function(e){var t=e.id;return i.get(t).then(function(e){return[t,e]})})).then(function(n){var a=n.reduce(function(e,t){return void 0!==t[1]&&null!==t[1]&&(e[t[0]]=t[1]),e},{});return Object.assign(o,a),o=t.updateOptions(o),new t(i,o,e)})}get id(){return this.constructor.manifest.id}get name(){return this.constructor.manifest.name}get optionsSchema(){return this.constructor.manifest.options}get options(){return this._options}setOption(e,t){this._options[e]=t,this._storage.set(e,t)}getOption(e){return this._options[e]}styleguideColors(e){return null}styleguideTextStyles(e){return null}layer(e){return null}comment(e){return null}exportStyleguideColors(e){return null}exportStyleguideTextStyles(e){return null}}t.a=r},function(e,t,n){"use strict";function a(e,t,n){return c[e].includes(n)&&u.test(t)}function i(e,t,n){var a=t.match(u);if(a){var i=a[1];return"Ultralight"===i&&(i="UltraLight"),"swift4"===n?"."+o(i):e+"Weight"+i}}function o(e){return e.charAt(0).toLowerCase()+e.substring(1)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function s(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function l(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"h",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l});var c={ios:["11.0","10.0","9.0","8.2"],osx:["10.13","10.12","10.11"]},u=/^SF(?:Pro|UI|Compact)(?:Display|Text)-(Ultralight|Thin|Light|Regular|Medium|Semibold|Bold|Heavy|Black)?$/,d=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2}),m=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2})},,function(e,t,n){"use strict";var a=n(37);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(38);n.n(o);class r extends i.a.Component{shouldComponentUpdate(){return!1}componentWillReceiveProps(e){e.class!==this.props.class&&(this.rippleElement.classList.remove(this.props.class),this.rippleElement.classList.add(e.class))}componentDidMount(){this.rippleElement=document.createElement("paper-ripple"),this.props.class&&this.rippleElement.classList.add(this.props.class),this.base.appendChild(this.rippleElement)}render(){return i.a.h("div",{class:"rippleContainer"})}}t.a=r},function(e,t){},,,,function(e,t,n){"use strict";function a(e){clearTimeout(m.get(e)),m.delete(e)}function i(e){function t(){a(e.target),m.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",t),e.target.classList.remove("tooltipShown"),n.remove()},d))}if(e.target.classList.contains("tooltipShown"))a(e.target);else{var n=document.createElement("div");n.classList.add("tooltip","invisible");var i=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":n.innerHTML=s.F(i);break;case"text":default:n.textContent=i}e.target.classList.add("tooltipShown");var o=e.target.getBoundingClientRect();n.style.top=o.bottom-c+"px",n.style.left=o.left+o.width/2+"px",e.target.addEventListener("mouseleave",t),e.target.addEventListener("click",t),n.addEventListener("mouseenter",function(){a(e.target),n.addEventListener("mouseleave",t),n.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(n);var r=n.getBoundingClientRect();r.left<l?(n.style.left=l+"px",n.classList.add("overflown")):r.right+l>window.innerWidth&&(n.style.left=window.innerWidth-l-r.width+"px",n.classList.add("overflown")),r.bottom+l>window.innerHeight&&(n.style.top=o.top-r.height+c+"px");var p=u;e.target.dataset.tooltipDelay&&(p=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){n.classList.remove("invisible")},p)}}function o(e){e.removeAttribute("title"),e.addEventListener("mouseenter",i)}function r(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void o(e);Array.from(e.children).forEach(r)}}var s=n(0),l=12,c=2,u=500,d=200,m=new WeakMap;window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(o);var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?o(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",i);break;case"childList":Array.from(e.addedNodes).forEach(r)}})}).observe(document.body,t)})},function(e,t,n){"use strict";function a(){o.a.ipcRenderer.on("app-update-downloaded",function(e,t){r.a("appUpdate"),r.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("appUpdate"),o.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-update-later",t)},container:s,style:{zIndex:190}})})}function i(){o.a.ipcRenderer.on("plugin-update-downloaded",function(e,t){var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),r.a("pluginUpdate"),r.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a:function(e){e.preventDefault(),r.a("pluginUpdate"),o.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback:function(){o.a.ipcRenderer.send("remind-plugin-install-later",t)},container:s,style:{zIndex:190}})})}var o=n(10),r=n(12),s=document.querySelector("main");o.a&&(o.a.ipcRenderer.on("close-all-banners",function(){r.a("appUpdate"),r.a("pluginUpdate")}),a(),i())},function(e,t,n){"use strict";function a(e){fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t})}).then(function(e){(se=e).members.forEach(function(e){e.tags.forEach(function(e){le[e]?le[e]+=1:le[e]=1})})})}function i(e){if(e.classList.contains("newUser")){if(!de.checkValidity()&&!/^\w{3,30}$/.test(de.value))return Q.J(de.parentElement),void(we=!0);ue.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))T(de.value,e);else if(e.classList.contains("user")){var t=ie.find(function(t){return t._id===e.dataset.uid});T(t.username||t.email,e)}else if(e.classList.contains("member")){var n=se.members.find(function(t){return t.user._id===e.dataset.mid});T(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var a=se.wildlings.find(function(t){return t.user._id===e.dataset.wid});T(a.user.username||a.user.email,e)}else e.classList.contains("inviteByTag")&&k(e.dataset.tag,e)}function o(e){ue.classList.contains("organizationProject")?r(e):s(e)}function r(e){var t=ye.querySelector(".invitee.selected");if(t){var n,a=Array.from(ye.querySelectorAll(".invitee:not(.hidden)")),i=a.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?i-1:i+1)>-1&&n<a.length){var o=a[n];t.classList.remove("selected"),o.classList.add("selected"),Q.x(o,ye)}}else{var r=ye.querySelector(".invitee:not(.hidden)");r&&(r.classList.add("selected"),Q.x(r,ye))}}function s(e){var t=me.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Q.x(n))}else{var a=me.querySelector(".user:not(.hidden)");a&&(a.classList.add("selected"),Q.x(a))}}function l(){ue.classList.contains("organizationProject")?h():y()}function c(e,t,n){var a=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*a:e.includes(t)?4*a:0:16}function u(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function d(e){return be.querySelector("[data-tag='"+e+"']")}function m(e){return je.querySelector("[data-mid='"+e.user._id+"']")}function p(e){return Le.querySelector("[data-wid='"+e.user._id+"']")}function g(e,t,n,a){t.forEach(function(t){var a=n(t);a.classList.remove("hidden","selected"),e.appendChild(a)});for(var i=0;i<e.childElementCount-t.length;i++){var o=e.children[i];o.classList.add("hidden"),o.classList.remove("selected")}e.parentElement.classList.toggle(a,0===t.length)}function f(e,t,n){var a={},i=e.filter(function(e){if(re.has(e.user._id)){var i=n(e);if(!i)return!1;if(!i.classList.contains("inviteDone"))return!1}var o=0;return e.user.username&&(o+=c(e.user.username,t)),!!(o+=c(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(a[e.user._id]=o,!0)});return i.sort(function(e,t){return a[t.user._id]-a[e.user._id]}),i}function h(){v(".wildlingList .newUser"),v(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=de.value.toLowerCase();if(ue.classList.remove("noNewInvitees","noInvitees"),ye.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheProjectOnlyInfo"),Ee.innerHTML="",de.placeholder="Invite with email/username",n){e=!!(t=oe.has(n))||ce.has(n);var a=Object.keys(le);a.sort();var i={},o=a.filter(function(e){var t=c(e.toLowerCase(),n);return!!t&&(i[e]=t,!0)}).sort(function(e,t){return i[t]-i[e]});g(be,o,d,"noTags");var r=f(se.members,n,m);g(je,r,m,"noMembers");var s=d(o[0]);ye.classList.toggle("hasMembersWithTag",1===o.length&&(le[o[0]]>0||s&&s.classList.contains("inviteDone")))&&(Se.textContent=o[0],Ee.innerHTML="",se.members.forEach(function(e){var t=m(e);if((!re.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=S(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),Ee.appendChild(n)}}));var l=f(se.wildlings,n,p);if(g(Le,l,p,"noWildlings"),e||n.includes("@")){if(!e){ye.classList.remove("noWildlings"),ye.classList.add("showAddsToTheProjectOnlyInfo");var h=document.importNode(ge.content,!0);h.querySelector(".invitee").classList.add("wildling"),h.querySelector(".inviteNewUserButtonText span").textContent=de.value,Le.appendChild(h)}}else ye.classList.add("writeAnEmailToInvite");if(t&&!ye.querySelector(".invitee.inviteDone")){var y=document.importNode(fe.content,!0);y.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),y.querySelector("span").textContent=de.value,ye.appendChild(y)}}else{if(u(be,"noTags"),ve.textContent){var b=Array.from(be.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});b.sort(),b.forEach(function(e){var t=d(e);be.appendChild(t)});for(var j=be.firstElementChild,E=De;E<be.childElementCount;E++){var L=be.children[E];L.classList.add("hidden"),be.insertBefore(L,j)}be.childElementCount-De>0?(ve.textContent=be.childElementCount-De,ve.classList.toggle("multiple",be.childElementCount-De>1)):ve.textContent=""}u(je,"noMembers"),u(Le,"noWildlings")}var w=ye.querySelectorAll(".invitee:not(.hidden)");if(w.length)w[0].classList.add("selected");else if(!t&&!ye.classList.contains("writeAnEmailToInvite")){var D=se.members.filter(function(e){return!re.has(e.user._id)}),C=se.wildlings.filter(function(e){return!re.has(e.user._id)});D.length+C.length===0&&G.length>1?ue.classList.add("noNewInvitees"):1===G.length&&(ue.classList.add("noInvitees"),de.placeholder="Invite with email")}}function y(){v(".userList .user.newUser"),v(".userList .userListTypedUserAlreadyAdded"),me.classList.remove("writeAnEmailToInvite"),de.placeholder="Invite with email/username";var e,t,n=de.value.toLowerCase(),a=document.importNode(fe.content,!0);if(n){e=!!(t=oe.has(n))||ae.has(n);var i={},o=ie.filter(function(e){var t=0;return e.username&&(t+=c(e.username,n)),(t+=c(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(i[e._id]=t,!0)}).sort(function(e,t){return i[t._id]-i[e._id]});o.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});for(var r=0;r<ie.length-o.length;r++){var s=me.children[r].classList;s.add("hidden"),s.remove("selected")}}else ie.forEach(function(e){var t=b(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(ge.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".inviteNewUserButtonText span").textContent=de.value,me.appendChild(l)}}else me.classList.add("writeAnEmailToInvite");t&&(a.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=de.value,me.appendChild(a))}ue.classList.remove("noInvitees"),ue.classList.remove("noNewInvitees");var u=me.querySelectorAll(".user:not(.hidden)");u.length?u[0].classList.add("selected"):t||me.classList.contains("writeAnEmailToInvite")||(te.length?ue.classList.add("noNewInvitees"):(ue.classList.add("noInvitees"),de.placeholder="Invite with email"))}function b(e){return me.querySelector(".invitee[data-uid='"+e+"']")}function v(e){var t=document.querySelector(e);t&&t.remove()}function j(e,t,n){var a=document.importNode(he.content,!0),i=a.querySelector(".inviteByTag"),o=a.querySelector(".tagName"),r=a.querySelector(".memberCount");return i.classList.toggle("hidden",!!n),i.dataset.tag=e,o.textContent=e,o.title=e,r.textContent=t+(t>1?" members":" member"),a}function S(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Q.A(a,e.user),e.user.username?(i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(i.textContent=e.user.email,i.title=e.user.email,o.textContent="Pending Invitation");var s=e.tags.join(", ");return r.textContent=s,r.title=s,t}function E(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),i=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Q.A(a,e.user),i.textContent=e.user.username,i.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(r.textContent="Pending Invitation"),t}function L(e,t){var n=document.importNode(pe.content,!0),a=n.querySelector(".invitee"),i=n.querySelector(".userImage"),o=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),s=e.username||e.email;return a.classList.add("user"),Q.A(i,e),a.dataset.uid=e._id,o.textContent=s,o.title=s,e.username?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation",t&&a.classList.add("hidden"),n}function w(e){ne.has(e._id)||(te.push(e),ne.add(e._id),e.username&&ae.add(e.username),ae.add(e.email))}function D(e){re.add(e._id),e.username&&oe.add(e.username),oe.add(e.email)}function C(e){re.delete(e._id),e.username&&(oe.delete(e.username),ae.add(e.username)),oe.delete(e.email),ae.add(e.email),ie.some(function(t){return t._id===e._id})||ie.push(e)}function x(e){re.delete(e._id),ne.delete(e._id),e.username&&(oe.delete(e.username),ae.delete(e.username)),oe.delete(e.email),ae.delete(e.email),Q.b(ie,function(t){return t._id===e._id})}function k(e,t){fetch(Zeplin.urls.baseURL+"/organizations/"+se._id+"/projects/"+V+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({tag:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){_(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),$.a({done:{cb:function(){Q.m(de),we=!0}}})})}function T(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+V+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({handle:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){_(e,t)}).catch(function(e){ue.querySelector(".inputArea img").classList.add("hidden"),W()||t.classList.contains("newUser")?(we=!1,ee.b(e,{dialogCallback:function(){Q.m(de),we=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){$.a({done:{cb:function(){Q.m(de),we=!0}}})})}function _(e,t){Q.m(de),ue.querySelector(".inputArea img").classList.add("hidden"),e.users?e.users.forEach(function(e){D(e.user)}):(D(e.user),t.classList.contains("user")&&w(e.user));var n=e.users?e.users:[e];if(Y.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),ue.classList.contains("organizationProject")&&((e.users?e.users:[e]).forEach(function(e){var t=se.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){le[e]-=1})}),Object.keys(le).forEach(function(e){var t=le[e],n=d(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")})),t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(ye.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){ie.push(e.user);var a=L(e.user);a.querySelector(".user").classList.add("inviteDone"),me.querySelector(".user.selected")||a.querySelector(".user").classList.add("selected"),O(a)}else{se.wildlings.push({user:e.user}),ce.add(e.user.email);var i=E(e);i.querySelector(".wildling").classList.add("inviteDone"),Le.querySelector(".wildling.selected")||i.querySelector(".wildling").classList.add("selected"),Le.appendChild(i)}}function q(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function O(e){me.lastElementChild&&me.lastElementChild.classList.contains("user")?me.appendChild(e):me.insertBefore(e,me.lastElementChild)}function A(e){var t="private-project@"+e,n=J.c.channel(t)||J.c.subscribe(t);n.bind("InviteUser",function(e){N(e.params.pid,e.body)}),n.bind("CreateUser",function(e){R(e.params.pid,e.body)}),n.bind("RemoveUserFromProject",function(e){P(e.params.pid,e.params.mid)}),n.bind("DeleteUser",function(e){Zeplin.user._id!==e.params.uid&&B(e.params.uid)})}function I(e,t){t.forEach(function(e){w(e.user),Y&&!re.has(e.user._id)&&(ie.some(function(t){return t._id===e.user._id})||(ie.push(e.user),O(L(e.user))))}),W()||l()}function N(e,t){if(w(t),Y){V===e?(D(t),Q.b(ie,function(e){return e._id===t._id})):ie.some(function(e){return e._id===t._id})||ie.push(t);var n=de.value,a=b(t._id);if(V===e&&a){if(a.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove(),a.classList.contains("newUser")||!me.querySelector(".user:not(.hidden)")){var i=document.importNode(fe.content,!0);i.querySelector(".userListTypedUserAlreadyAdded").classList.add(de.value===Zeplin.user.username||de.value===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=de.value,me.appendChild(i)}}else V!==e&&(a?a.classList.contains("newUser")&&(me.appendChild(L(t)),a.classList.contains("selected")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove()):O(L(t,n&&!(t.username&&t.username.includes(n))&&!t.email.includes(n))))}}function F(e,t,n,a){var i=t(n),o=!(!de.value||n.user.username&&n.user.username.includes(de.value)||n.user.email.includes(de.value));i.querySelector(".invitee").classList.toggle("hidden",o),o?e.append(i):(e.insertBefore(i,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(a))}function P(e,t){if(V===e)if(ue.classList.contains("organizationProject")){var n,a,i=se.members.find(function(e){return e.user._id===t});i?(n=i,a=m(i),i.tags.forEach(function(e){le[e]?le[e]+=1:le[e]=1;var t=d(e);if(t)t.querySelector(".memberCount").textContent=le[e]+(le[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=j(e,le[e]);n.querySelector(".invitee").classList.toggle("hidden",!!de.value&&!e.includes(de.value))?be.appendChild(n):be.insertBefore(j(e,le[e]),be.querySelector(".invitee:not(.hidden)"))}})):a=p(n=se.wildlings.find(function(e){return e.user._id===t})),re.delete(t),oe.delete(n.user.username),oe.delete(n.user.email);var o=ye.querySelector(".userListTypedUserAlreadyAdded");if(de.value===n.user.username&&o&&o.remove(),!Y)return;a?a.classList.remove("inviteDone"):i?F(je,S,i,"noMembers"):F(Le,E,n,"noWildlings")}else{var r=te.find(function(e){return e._id===t});if(C(r),!Y)return;var s=de.value,l=b(r._id);l?l.classList.remove("inviteDone"):O(L(r,s&&!(r.username&&r.username.includes(s))&&!r.email.includes(s)))}}function R(e,t){var n=te.find(function(e){return e._id===t._id});if(n&&(Object.assign(n,t),Y)){var a=b(t._id);a&&(a.querySelector(".username").textContent=t.username,a.querySelector(".inviteExtraInfo").textContent="")}}function B(e){var t=Q.b(te,function(t){return t._id===e});if(t&&(x(t),Y)){var n=b(t._id);n&&(me.removeChild(n),n.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&me.querySelector(".user:not(.hidden)").classList.add("selected"))}}function M(e,t){J.f.bind("InviteUser",function(e){I(e.params.pid,e.body.users)}),e.forEach(A),t&&a(t)}function U(e,t,n,a){ue.classList.toggle("organizationProject",!!a),a?H(e,t,n):z(e,t,n)}function H(e,t,n){if(t!==V){me.innerHTML="",be.innerHTML="",ve.textContent="",je.innerHTML="",Le.innerHTML="",oe=new Set,re=new Set,ce=new Set,Y=e,V=t,(G=n).forEach(function(e){D(e.user)}),se.members.forEach(function(e){re.has(e.user._id)?e.tags.forEach(function(e){le[e]-=1,0===le[e]&&delete le[e]}):(ce.add(e.user.username).add(e.user.email),je.appendChild(S(e)))}),ye.classList.toggle("noMembers",!je.childElementCount);var a=Object.keys(le);a.sort(),a.forEach(function(e){be.appendChild(j(e,le[e],!1))});var i=a.length-De;i>0&&(ve.textContent=i,ve.classList.toggle("multiple",i>1)),ye.classList.toggle("noTags",!a.length),se.wildlings.forEach(function(e){re.has(e.user._id)||(ce.add(e.user.username).add(e.user.email),Le.appendChild(E(e)))}),ye.classList.toggle("noWildlings",!Le.childElementCount)}else Object.keys(le).forEach(function(e){0===le[e]&&delete le[e]}),K&&new Date-K>1e4&&(ve.textContent=Object.keys(le).length-De,ve.classList.toggle("multiple",Object.keys(le).length-De>1)),q(be),q(je),q(Le);K=0,e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),h(),ue.classList.remove("hidden"),ye.scrollTop=0,de.focus()}function z(e,t,n){t!==V?(me.innerHTML="",be.innerHTML="",ve.textContent="",je.innerHTML="",Le.innerHTML="",ie=[],oe=new Set,re=new Set,Y=e,V=t,(G=n).forEach(function(e){D(e.user)}),te.forEach(function(e){re.has(e._id)||(ie.push(e),e.username&&ae.add(e.username),ae.add(e.email))}),ie.forEach(function(e){me.appendChild(L(e))})):(q(me),re.forEach(function(e){Q.b(ie,function(t){return t._id===e})})),e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),y(),ue.classList.remove("hidden"),me.scrollTop=0,de.focus()}function Z(){ue.classList.add("hidden"),ue.classList.remove("left"),ue.querySelector(".inputArea img").classList.add("hidden"),de.value="",de.dispatchEvent(new Event("input")),we=!0,K||(K=new Date)}function W(){return ue.classList.contains("hidden")}n.d(t,"b",function(){return M}),n.d(t,"e",function(){return U}),n.d(t,"a",function(){return Z}),n.d(t,"c",function(){return W}),n.d(t,"d",function(){return P});var Y,V,G,K,X=n(45),J=(n.n(X),n(8)),$=n(2),Q=n(0),ee=n(1),te=[],ne=new Set,ae=new Set,ie=[],oe=new Set,re=new Set,se={},le={},ce=new Set,ue=document.getElementById("inviteUserPopup"),de=document.getElementById("inviteeHandle"),me=ue.querySelector(".userList"),pe=document.getElementById("inviteeTemplate"),ge=document.getElementById("inviteNewUserTemplate"),fe=document.getElementById("typedUserAlreadyAddedTemplate"),he=document.getElementById("inviteByTagTemplate"),ye=document.querySelector(".organizationInviteeList"),be=document.querySelector(".tagList"),ve=document.querySelector(".showRemainingTags"),je=document.querySelector(".memberList"),Se=document.querySelector(".membersWithTagHeader"),Ee=document.querySelector(".membersWithTagList"),Le=document.querySelector(".wildlingList"),we=!0,De=3;fetch(Zeplin.urls.baseURL+"/users/acquaintances",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.a(e.status,t)})}).then(function(e){te=e.acquaintances,ne=new Set(te.map(function(e){return e._id}))}).catch(function(){}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),i(t))}}de.addEventListener("input",function(){de.parentElement.classList.toggle("typed",!!de.value),we=!0,l(),Y&&Y.dispatchEvent(new CustomEvent("listRefreshed"))}),ue.addEventListener("click",function(e){e.stopPropagation()}),ue.addEventListener("contextmenu",function(e){e.stopPropagation()}),me.addEventListener("click",e),ye.addEventListener("click",e);var t,n;ue.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),ue.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var a=ue.querySelector(".selected");a&&a.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:Z();break;case Zeplin.KEY_CODE.ENTER:if(W()||!we)break;var t=ue.querySelector(".selected");if(!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner"))break;we=!1,i(t);break;case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(W())break;we=!0,e.preventDefault(),o(e)}}),ve.addEventListener("click",function(e){e.stopPropagation(),ve.textContent="",Array.from(be.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),be.appendChild(e)})})}()},function(e,t){function n(e){var t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10),a=t,i=document.createElement("canvas").getContext("2d");e.addEventListener("input",function(){if(e.value){if(i.font=a+"px Roboto",i.measureText(e.value).width>e.clientWidth&&a>n)for(;i.measureText(e.value).width>e.clientWidth&&a>n;)a-=.2,i.font=a+"px Roboto";else if(i.measureText(e.value).width<=e.clientWidth&&a<t)for(;i.measureText(e.value).width<=e.clientWidth&&a<t;)a+=.2,i.font=a+"px Roboto"}else a=t;e.style.fontSize=a+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(n)})},function(e,t,n){"use strict";function a(e,t,n){n=n?n+";"+u:u,ga("legacyTracker.send","timing",c,e,t,n)}function i(e,t){(t=t||{}).end?l.measure(e,t.start,t.end):t.start?l.measure(e,t.start):l.measure(e);var n=l.getEntriesByName(e);if(n.length){var i=n[n.length-1],o=t.labels,r=t.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),i.duration>r&&a(e,Math.round(i.duration),o),l.clearMeasures(e)}}function o(){m||(m=!0,i("page.timeToFirstInteraction"))}function r(){i("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}function s(){}var l=window.performance,c="JS_Timing",u="version:6.19.2;page:"+location.pathname.match(/\/(\w+)(.html)?/)[1],d=1,m=!1,p=!1;window.addEventListener("load",function(){p=!0});var g,f,h,y;l&&l.mark&&l.measure&&l.timing&&l.getEntriesByName?(g=function(){var e="_mark_"+d;return l.mark(e),d++,e},f=i,h=function(){p?r():window.addEventListener("load",r)},y=function(){document.addEventListener("click",function e(t){o(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){o(),document.removeEventListener("scroll",e,!0)},!0)}):(g=s,f=s,h=s,y=s),t.a={mark:g,measure:f,measurePageDefaults:h,measureFirstInteraction:y}},function(e,t,n){"use strict";function a(e){o=e}function i(e,t){s.dataset.pid=e,s.dataset.projectName=t,s.showModal()}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var o,r=n(2),s=document.getElementById("deleteProjectDialog"),l=document.getElementById("projectNameInput"),c=document.getElementById("deleteProjectDialogCancelButton"),u=document.getElementById("deleteProjectDialogDoneButton");r.b.registerDialog(s),l.addEventListener("input",function(){s.querySelector("button.done").disabled=l.value!==s.dataset.projectName,l.setCustomValidity(l.value===s.dataset.projectName?"":"Project name doesn't match provided value")}),c.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()}),s.addEventListener("close",function(){l.value="",l.setCustomValidity(""),l.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0}),l.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))}}),u.addEventListener("click",function(){l.value===s.dataset.projectName&&(s.close(),o(s.dataset.pid))})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="    Generated by Zeplin\n    Copyright (C) "+(new Date).getFullYear()+' - present Zeplin\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n'},,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";t.a=function(e,t,n){var s=Object.assign({},e);if(s.type=s.fillType,delete s.fillType,"color"===s.type)s.color=new i.a(s.color),delete s.gradient;else{if("gradient"!==s.type)throw new TypeError("Unknown fill type: '"+s.type+"'. Possible values: "+JSON.stringify(r));s.gradient=new o.a(s.gradient,t,n),delete s.color}Object.defineProperties(this,{type:{get:function(){return s.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(r));s.type=e}},color:{get:function(){return s.color},set:function(e){s.type="color",s.color=new i.a(e),delete s.gradient}},gradient:{get:function(){return s.gradient},set:function(e){s.type="gradient",s.gradient=new o.a(e,t,n),delete s.color}},opacity:{get:function(){return s.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");s.opacity=e}},blendMode:{get:function(){return s.blendMode},set:function(e){if(-1===a.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(a.a));s.blendMode=e}},fill:{get:function(){return"color"===s.type?this.color:this.gradient},set:function(){}}})};var a=n(51),i=n(17),o=n(96),r=["color","gradient"]},function(e,t,n){"use strict";function a(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}var i=n(105),o=n(0);t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var o=e[n];if(n=n.replace(/_/g," "),o.startsWith("alias:"))t[n]=o.substring(6);else{var r=a(n);r?r.aliases.push(n):i.a.push({emoji:o,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=a(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var a=0;a<n.aliases.length;a++)if(Object(o.E)(n.aliases[a],e)||n.aliases[a].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[a],customEmoji:n.customEmoji})}),t},searchEmoji:a}},function(e,t,n){"use strict";function a(e){m&&!m.classList.contains("hidden")&&i(),f=e.cb.autoComplete,m=e.elements.suggestedListContainer,p=m.querySelector(".suggestedListBox"),g=e.elements.textContainer,y=e.index,b=e.list,u=0,d=0,m.classList.remove("hidden");var t=p.querySelector(".suggestedItem[data-index='"+y+"']");t.classList.add("selected"),h.x(t),v||(v=!0,l(),g.addEventListener("keydown",o,!0))}function i(){if(v&&(g.removeEventListener("keydown",o,!0),p.removeEventListener("mousemove",r),p.removeEventListener("click",o)),m&&!m.classList.contains("hidden")){var e=p.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),m.classList.add("hidden"),m.innerHTML="",p.innerHTML="",g=null,v=!1,b=[],y=0}}function o(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),f(b[p.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),i();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),y<b.length-1&&c(++y);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),y>0&&c(--y)}}function r(e){if(e.stopPropagation(),u!==e.clientX||d!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||c(t.dataset.index),u=e.clientX,d=e.clientY}}function s(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");f(b[t.dataset.index])}function l(){p.addEventListener("mousemove",r),p.addEventListener("click",s)}function c(e){y=e;var t=p.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=p.querySelector(".suggestedItem[data-index='"+y+"']");n&&(n.classList.add("selected"),h.x(n))}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var u,d,m,p,g,f,h=n(0),y=0,b=[],v=!1},function(e,t,n){"use strict";var a=n(124),i=n(126);n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";var a={LOAD_EXTENSION:"LOAD_EXTENSION",UPDATE_OPTION:"UPDATE_OPTION"};t.a=a},function(e,t,n){"use strict";var a=n(125);n.n(a);t.a=new a.Dispatcher},function(e,t,n){"use strict";function a(e){var t=e;return e=function(){var e=Array.from(arguments);return new(Function.prototype.bind.apply(t,[null].concat(e)))},e.prototype=t.prototype,e.getStores=t.getStores,e.calculateState=t.calculateState,e}n.d(t,"a",function(){return o});var i=n(127);n.n(i);n.o(i,"ReduceStore")&&n.d(t,"b",function(){return i.ReduceStore});var o={create:function(e,t){return i.Container.create(a(e),t)},createFunctional:function(){return i.Container.createFunctional.apply(i.Container,arguments)}}},function(e,t,n){"use strict";function a(e,t,n){var a=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\\/g,"\\").replace(/(["'])/g,"\\$1"),i="";return e.startsWith("swift")?(n&&(i=", attributes: "+n),'let attributedString = NSMutableAttributedString(string: "'+a+'"'+i+")"):"objc"===e?(n&&(i=" attributes:"+n),'NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:@"'+a+'"'+i+"];"):void 0}function i(e){return"range: NSRange(location: "+e.start+", length: "+(e.end-e.start)+"))"}function o(e){return"range:NSMakeRange("+e.start+", "+(e.end-e.start)+")];"}function r(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="calibratedWhite",i="calibratedRed"):"ios"===e.type&&(n="UIColor",a="white",i="red"),t.name)return n+"."+((e.prefix||"")+(e.prefix?b.h(t.name):b.e(t.name)));var o=n+"(";return t.r===t.g&&t.g===t.b?o+=a+": "+b.g(t.r):o+=i+": "+b.g(t.r)+"green: "+b.g(t.g)+"blue: "+b.g(t.b),o+="alpha: "+b.a.format(t.a)+")"}function s(e,t){var n,a,i;if("osx"===e.type?(n="NSColor",a="colorWithCalibratedWhite",i="colorWithCalibratedRed"):"ios"===e.type&&(n="UIColor",a="colorWithWhite",i="colorWithRed"),t.name)return"["+n+" "+((e.prefix?e.prefix+"_":"")+b.e(t.name)+"Color")+"]";var o="["+n+" ";return t.r===t.g&&t.g===t.b?o+=a+":"+b.f(t.r):o+=i+":"+b.f(t.r)+"green:"+b.f(t.g)+"blue:"+b.f(t.b),o+="alpha:"+b.a.format(t.a)+"f]"}function l(e,t,n,a){var l;return t.startsWith("swift")?l="attributedString.addAttribute("+("swift4"===t?".foregroundColor":"NSForegroundColorAttributeName")+", value: "+r(e,n)+", "+i(a):"objc"===t&&(l="[attributedString addAttribute:NSForegroundColorAttributeName value:"+s(e,n)+" "+o(a)),l}function c(e,t,n,a){var i;if("osx"===e.type?i="NSFont":"ios"===e.type&&(i="UIFont"),a.name)return i+"."+((e.prefix||"")+Object(v.c)(a.name,e.prefix?"upperCamelCase":"camelCase")+"Font()");var o=b.b.format(a.fontSize/e.densityDivisor);return b.d(e.type,a.fontFace,n)?i+".systemFont(ofSize: "+o+", weight: "+b.c(i,a.fontFace,t)+")":i+'(name: "'+a.fontFace+'", size: '+o+")!"}function u(e,t,n){var a;if("osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name)return"["+a+" "+((e.prefix?e.prefix+"_":"")+Object(v.c)(n.name,"camelCase")+"Font")+"]";var i=b.b.format(n.fontSize/e.densityDivisor);return b.d(e.type,n.fontFace,t)?"["+a+" systemFontOfSize:"+i+"f weight:"+b.c("UIFont",n.fontFace,"objc")+"]":"["+a+' fontWithName:@"'+n.fontFace+'" size: '+i+"f]"}function d(e,t,n,a,r){var s;return t.startsWith("swift")?s="attributedString.addAttribute("+("swift4"===t?".font":"NSFontAttributeName")+", value: "+c(e,t,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttribute:NSFontAttributeName value:"+u(e,n,a)+" "+o(r)),s}function m(e,t,n){var a;return e.startsWith("swift")?a="attributedString.addAttribute("+("swift4"===e?".kern":"NSKernAttributeName")+", value: "+j.format(t)+", "+i(n):"objc"===e&&(a="[attributedString addAttribute:NSKernAttributeName value:@("+j.format(t)+") "+o(n)),a}function p(e,t,n,a){var i=[];if(a.font){var o="swift4"===t?".font":"NSFontAttributeName";i.push("  "+o+": "+c(e,t,n,a.font))}if(a.color){var s="swift4"===t?".foregroundColor":"NSForegroundColorAttributeName";i.push("  "+s+": "+r(e,a.color))}if(a.letterSpacing||0===a.letterSpacing){var l="swift4"===t?".kern":"NSKernAttributeName";i.push("  "+l+": "+j.format(a.letterSpacing))}return"[\n"+i.join(",\n")+"\n]"}function g(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+u(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+s(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: @("+j.format(n.letterSpacing)+")"),"@{\n"+a.join(",\n")+"\n}"}function f(e,t,n,a){var i={font:a,color:a.color,letterSpacing:a.letterSpacing};return e.startsWith("swift")?p(t,e,n,i):"objc"===e?g(t,n,i):void 0}function h(e,t,n,a,r){var s;return t.startsWith("swift")?s="attributedString.addAttributes("+p(e,t,n,a)+", "+i(r):"objc"===t&&(s="[attributedString addAttributes:"+g(e,n,a)+" "+o(r)),s}function y(e,t,n,a){var i={};if(!t.color.equals(n.color)){var o;o=a[Object(v.e)(t.color)]?{name:a[Object(v.e)(t.color)]}:t.color,i.color=o}if(t.fontFace!==n.fontFace||t.fontSize!==n.fontSize){var r=e.findTextStyleEqual(t);i.font=r?{name:r.name}:t}return t.letterSpacing!==n.letterSpacing&&(i.letterSpacing=t.letterSpacing||0),i}var b=n(34),v=n(23),j=b.a;t.a=function(e,t,n,i,o,r){var s,c=t.getDefaultTextStyle(),u=Object(v.d)(e.colors);r&&(s=f(i,e,o,c));var p=[a(i,t.content,s)];if(n.forEach(function(t){if(-1!==t.groupId){var n=y(e,t.font,c,u);1===Object.keys(n).length?n.color?p.push(l(e,i,n.color,t.range)):n.font?p.push(d(e,i,o,n.font,t.range)):(n.letterSpacing||0===n.letterSpacing)&&p.push(m(i,n.letterSpacing,t.range)):Object.keys(n).length>1&&p.push(h(e,i,o,n,t.range))}}),p.length>1)return p.join("\n")}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(){var e=Vr.a.features.versions?{name:Gd.name,width:Kd.snapshot.width,height:Kd.snapshot.height,url:Kd.snapshot.url}:{name:Gd.name,currentSnapshot:{width:Kd.snapshot.width,height:Kd.snapshot.height,url:Kd.snapshot.url}};Vr.a.ipcRenderer.send("open-popout",e,jr.id)}function i(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(ar),Array.from(document.querySelectorAll(".exportOptionsMenu")).forEach(function(e){e.remove()})}function o(){if(Mt(),Ut(),Bt(),Cm){var e=Er?zr.H("organization-projects",{url:{oid:Er._id}}):zr.H("projects");"dashboard"===$d&&"styleguide"===$d&&(Js.href=e),Vr.a.ipcRenderer.send("preload-url",e)}}function r(e,t){function n(t){return r=(r+1)%9999,t.animate([{transform:"scaleX(0)",zIndex:r},{transform:"scaleX(1)",zIndex:r}],{duration:e,fill:"forwards",easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"})}function a(e){n(i[e]).addEventListener("finish",function(){s?l||(n(o),l=!0):a((e+1)%i.length)})}var i=Array.from(t.querySelectorAll(".loadingBar")),o=t.querySelector(".whiteBar"),r=1,s=!1,l=!0;return{start:function(){l&&(s=!1,l=!1,a(0))},stop:function(){s||(s=!0)}}}function s(e,t){if(Vr.a)Vr.a.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var a=window.location;if(n){var i=window.open("","_blank");i.opener=null,a=i.location}a.assign(e)}}function l(e){return"invited"===e.user.status?"Pending Invitation":Rm[e.role]||""}function c(e){return e=zr.G(e),"<img src='"+Zeplin.urls.appURL+"/img/ic"+e+".png' srcset='"+Zeplin.urls.appURL+"/img/ic"+e+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/ic"+e+"@3x.png 3x' alt=''>"}function u(e,t){return"Your organization role is "+l(e)+" "+c(e.role)+", only "+Rm.rook+"s or higher can "+t}function d(e,t){var n=u(e,t);return zr.f("<p>"+n+"</p><p><a href='https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}function m(e){var t=document.importNode(Bm.content,!0),n=t.querySelector(".member");zr.A(t.querySelector(".memberImage"),e.user),n.dataset.id=e.user._id,n.dataset.role=e.role,n.dataset.user=Zeplin.user._id===e.user._id?"own":"",n.dataset.status=e.user.status,t.querySelector(".memberName").textContent=e.user.username||e.user.email,t.querySelector(".memberName").title=e.user.username||e.user.email,t.querySelector(".memberRole").textContent=l(e),t.querySelector(".memberActionsButton").classList.toggle("hidden","owner"===e.role||zr.u.isSuperior(e,Sr)),rl.appendChild(t)}function p(e){ol.classList.toggle("lonely",1===e.length),kr=new RegExp("@(?:everyone|all|tutti|"+e.filter(function(e){return e.user.username}).map(function(e){return e.user.username}).join("|")+")\\b","gi"),rl.innerHTML="",e.forEach(m),ps.checkStatus()}function g(e){var t=e.match(/\/project\/([0-9a-z]+)(?:\/screen\/([0-9a-z]+))?/i);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),n}}function f(e){e.forEach(function(e){e.versions=[e.latestVersion],delete e.latestVersion})}function h(){var e=g(location.pathname);e||W(),Zd=e,location.search&&Object.assign(Zd,zr.t(location.search))}function y(){localStorage.setItem("slackState",Mm)}function b(e){var t={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:zr.H("huggingSlack",{query:{pid:e.id}}),state:Mm},n=[];for(var a in t)n.push(a+"="+encodeURIComponent(t[a]));return"https://slack.com/oauth/authorize?"+n.join("&")}function v(e){if(e&&e.length&&Gd&&Gd.dots){var t=e.some(function(e){return"open"===$(e)});t&&"open"!==Fa()?Pa("open",!0):t||"resolved"===Fa()||Pa("resolved",!0);var n=Fa();e.forEach(function(e){var t=document.querySelector(".dot[data-id='"+e+"']");t&&$(e)===n&&t.classList.add("highlight")}),document.querySelector(".dot.highlight")||Ur.a({message:"Notes not available anymore."})}}function j(e){if(e&&e.length)if(Array.isArray(e)){var t,n=Xd.comments.length;if(e.forEach(function(e){var a=Fc.querySelector(".comment[data-id='"+e+"']");a&&a.classList.add("highlight");var i=Array.from(a.parentElement.children).indexOf(a);i<n&&(n=i,t=a)}),t){var a=Ac.getBoundingClientRect().top,i=t.getBoundingClientRect().top-a;setTimeout(function(){"scrollBy"in Element.prototype?Fc.scrollBy({top:i-24,behavior:"smooth"}):Fc.scrollTop+=i-24},200)}else Ur.a({message:"Comments not available anymore."})}else{var o="string"==typeof e?Fc.querySelector(".comment[data-id='"+e+"']"):e;if(!o)return void Ur.a({message:"Comment not available anymore."});o.classList.add("new"),o.scrollIntoView(),setTimeout(function(){o.classList.add("highlight"),setTimeout(function(){o.classList.remove("highlight"),o.addEventListener("transitionend",function e(){o.removeEventListener("transitionend",e),o.classList.remove("new")})},1e3)},150)}}function S(e){if(e&&Yd){E();var t,n=jr.screens.length;if(e.forEach(function(e){var a=le(e);if(a){a.querySelector(".screenLink").classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),Array.from(new Set(e)).map(function(e){return jr.findScreenSection(e)}).filter(function(e){return!!e}).forEach(function(e){un(wn(e._id),!1)}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?_s.scrollBy({top:a-150,behavior:"smooth"}):_s.scrollTop+=a-150},200)}else Ur.a({message:"Screens not available anymore."})}}function E(){Array.from(Od.querySelectorAll(".screenLink.highlight")).forEach(function(e){e.classList.remove("highlight")})}function L(e){if(e&&Yd){var t=wn(e);if(t){t.classList.contains("collapsed")&&un(t);var n=t.getBoundingClientRect().top;t.classList.add("highlight"),setTimeout(function(){"scrollBy"in Element.prototype?_s.scrollBy({top:n-150,behavior:"smooth"}):_s.scrollTop+=n-150,setTimeout(function(){t.classList.remove("highlight")},1e3)},200)}else Ur.a({message:"Section not available anymore."})}}function w(e){e&&(Array.isArray(e)||(e=[e]),D(),e.forEach(function(e){var t=dl.querySelector(".color[data-id='"+e+"']");t&&t.classList.add("highlight")}))}function D(){Array.from(dl.querySelectorAll(".color.highlight")).forEach(function(e){e.classList.remove("highlight")})}function C(e){if(e){Array.isArray(e)||(e=[e]),x();var t,n=jr.textStyles.length;if(e.forEach(function(e){var a=ou.querySelector(".font[data-id='"+e+"']");if(a){a.classList.add("highlight");var i=parseInt(a.dataset.index,10);i<n&&(n=i,t=a)}}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?Um.scrollBy({top:a-150,behavior:"smooth"}):Um.scrollTop+=a-150},200)}}}function x(){Array.from(ou.querySelectorAll(".font.highlight")).forEach(function(e){e.classList.remove("highlight")})}function k(e,t){zr.u.canManageColors(Sr)?(e.dataset.tooltip=t?"Delete color from Styleguide.":"Add color to Styleguide.",e.dataset.tooltipType="text"):"pawn"===Sr.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(Sr,(t?"delete":"add")+" colors."),e.dataset.tooltipType="html")}function T(e,t){zr.u.canManageTextStyles(Sr)?(e.dataset.tooltip=t?"Delete text style from Styleguide.":"Add text style to Styleguide.",e.dataset.tooltipType="text"):"pawn"===Sr.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(Sr,(t?"delete":"add")+" text styles."),e.dataset.tooltipType="html")}function _(){var e=zr.u.canUpdateProject(Sr);Ns.readOnly=!e,e?(Ns.removeAttribute("data-tooltip"),Ns.removeAttribute("data-tooltip-type")):(Ns.dataset.tooltip=d(Sr,"rename projects."),Ns.dataset.tooltipType="html"),fu.classList.toggle("disabled",!e),e?(fu.removeAttribute("data-tooltip"),fu.removeAttribute("data-tooltip-type")):(fu.dataset.tooltip=d(Sr,"add projects to Slack."),fu.dataset.tooltipType="html"),Array.from(Ld.querySelectorAll(".slackSettingsButton")).forEach(function(t){t.classList.toggle("hidden",!e)}),Bs.classList.toggle("disabled",!e),e?(Bs.dataset.tooltip="Update project density.",Bs.dataset.tooltipType="text"):(Bs.dataset.tooltip=d(Sr,"update project density."),Bs.dataset.tooltipType="html"),ll.readOnly=!e,ul.readOnly=!e;var t=zr.u.canManageScreens(Sr);gl.readOnly=!t,gl.placeholder=t?"Enter a short description here":"No description yet",Array.from(Od.querySelectorAll(".screen .screenName")).forEach(function(e){e.readOnly=!t}),Array.from(Od.querySelectorAll(".section .sectionName")).forEach(function(e){e.readOnly=!t}),Array.from(Od.querySelectorAll(".section .sectionDescription")).forEach(function(e){e.readOnly=!t}),document.body.classList.toggle("canManageScreens",t),As.querySelector(".capableInfoLine").classList.toggle("hidden",!t);var n=As.querySelector(".unableInfoLine");n.querySelector("span").textContent=Rm.rook,n.classList.toggle("hidden",t);var a=document.getElementById("manageTagsButton");a&&(a.classList.toggle("disabled",!t),t?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=d(Sr,"organize screens using tags."),a.dataset.tooltipType="html"));var i=zr.u.canManageColors(Sr);Array.from(dl.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i,e.querySelector(".colorHex").readOnly=!i,e.querySelector(".colorAlpha").readOnly=!i,i?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===Sr.role?(e.dataset.tooltip="Only organization members can edit colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(Sr,"edit colors."),e.dataset.tooltipType="html")}),Array.from(ml.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!i;var t=e.querySelector(".addColor");t.classList.toggle("disabled",!i),k(t,e.classList.contains("added"))});var o=zr.u.canManageTextStyles(Sr);ou.classList.toggle("editable",o),Array.from(ou.querySelectorAll(".styleName")).forEach(function(e){e.readOnly=!o,o?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===Sr.role?(e.dataset.tooltip="Only organization members can edit text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=d(Sr,"edit text styles."),e.dataset.tooltipType="html")}),Array.from(ml.querySelectorAll(".textStyleWrapper")).forEach(function(e){e.querySelector(".textStyleName").readOnly=!o;var t=e.querySelector(".addTextStyle");t.classList.toggle("disabled",!o),T(t,e.classList.contains("added"))}),Ac.classList.toggle("canRemoveNotes",zr.u.canRemoveNotes(Sr))}function q(){zr.u.canUpdateProject(Sr)&&fs.a(jr.id,jr.integration.slacks.map(function(e){return e._id}))}function O(e){return Zr.b.get(e.id,"selectedExtension").then(function(t){var n=t||Pm[e.type],a=Pr.find(function(e){return e.id===n});return a||Pr.find(function(t){return t.id===Pm[e.type]})})}function A(e,t){var n=Pr.find(function(t){return t.id===e});return n?(Rr=n,document.body.dataset.styleType=e,vc.textContent=n.name,cc.textContent=n.name,t?Zr.b.set(jr.id,"selectedExtension",e):Promise.resolve()):Promise.resolve()}function I(e){return Zr.b.get(Zd.pid,e.type+"StyleExportType").then(function(t){var n,a;if(!t)return{extensionId:null,prefs:{}};switch(t){case"xml":n=["androidLineSpacingType"],a="android_xml";break;case"react":n=["styleColorFormat","showDefaultValues","showDimensions"],a="react_native";break;case"swift":case"objc":(n=["attributedStringShowDefaultAttributes"]).push("osx"===e.type?"osxDeploymentTarget":"iosDeploymentTarget"),a=e.type+"_"+t+("swift"===t?"3":"");break;case"swift2":n=["osx"===e.type?"osxDeploymentTarget":"iosDeploymentTarget"],a=e.type+"_swift3";break;default:n=["styleColorFormat","showDefaultValues","showDimensions","webUnitlessLineHeight","webMixin"],a="stylesheet_"+t}return ka(n).then(function(e){var t=n.reduce(function(t,n,a){var i=e[a];return null!==i&&void 0!==i&&(t[n]=i),t},{});return{extensionId:a,prefs:t}})})}function N(e,t){return Zr.b.get(Zd.pid,"extensionPrefsMigrated").then(function(n){return n?Promise.resolve():I(e).then(function(n){var a=n.extensionId,i=n.prefs;if(0===Object.keys(i).length)return Zr.b.set(e.id,"extensionPrefsMigrated",!0);var o=t.find(function(e){return e.id===a});return o?(Object.keys(i).forEach(function(e){o.setOption(Hm[e],i[e])}),Zr.b.set(e.id,"selectedExtension",a).then(function(){Zr.b.set(e.id,"extensionPrefsMigrated",!0)})):Zr.b.set(e.id,"extensionPrefsMigrated",!0)})})}function F(e){return Ds.a(e).then(function(t){return Pr=t,N(e,Pr).then(function(){return O(e)})}).then(function(e){return A(e.id),ws.a.loadExtension(e),e})}function P(e){p(e.users),f(e.screens),Ko(e),Vr.a&&Vo(),Gd=null,Xd=null,Jd=null,Jn(),im=null,om=null,km&&Vr.a.ipcRenderer.send("popout:menuitem:enabled",!1),document.body.dataset.projectType=e.type,yr||xa("layer"),Zr.b.get(Zd.pid,"showOptimizedSVG").then(function(e){rc.checked=e,sc.checked=e}),"android"!==e.type&&Zr.b.get(Zd.pid,"assetNamingConvention").then(function(e){Cd.querySelector("span").textContent=Fm[e],xd.querySelector("span").textContent=Fm[e],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e+"']").checked=!0,document.querySelector("input[name='assetNamingConvention'][value='"+e+"']").checked=!0}),"web"===e.type?(document.querySelector(".assetStyle .CodeMirror")||Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){xa("asset",e)}),br||xa("textLayer")):document.querySelector(".assetStyle .CodeMirror")&&(Sc=[],Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.remove()})),vr||xa("guideline"),U(e.prefix),Na(),Yd=!0,el.textContent=e.name,el.title=e.name,Ns.value=e.name,Ps.textContent=Br.b[e.type];var t={ios:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',osx:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',web:"Web developers usually use underscores or dashes while defining colors, which looks like: bright-red or bright_red",android:"Android developers define their color names using underscore, which look like: bright_red"};if(gu.querySelector(".projectNaming").textContent=t[e.type],Ar=b(e),e.integration&&e.integration.slacks&&e.integration.slacks.length?(Ji(e.integration.slacks),q()):(Rd.classList.add("hidden"),wd.classList.remove("hidden")),B(e.density),Be(),Os.classList.remove("loading"),In(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ie(),dl.innerHTML="",e.colors&&e.colors.length&&e.colors.forEach(Me),e.textStyles&&e.textStyles.length&&Re(),Zr.b.get(Zd.pid,"projectInfoWidth").then(function(e){Do(e,Fu),An()}),Zr.b.get(Zd.pid,"generatorContainerWidth").then(function(e){Do(e,yc),setTimeout(function(){vr.refresh()},100)}),Zr.b.get(Zd.pid,"rightSidebarWrapperWidth").then(function(e){Do(e,Ru)}),Zr.b.get(Zd.pid,"versionsSidebarWrapperWidth").then(function(e){Do(e,Pu),Pu.classList.add("collapsed")}),Vr.a&&Vr.a.features&&Vr.a.features.downloadAssets&&ds.b(jr.id,jr.type),_(),Er)"pawn"!==Sr.role&&"past_due"===Er.subscriptionStatus&&Br.d({oid:Er._id,currentRole:Sr.role});else{var n={currentRole:Sr.role},a=jr.findOwner();"past_due"===a.user.subscriptionStatus&&(n.ownerEmail=a.user.email,Br.d(n))}}function R(){var e;switch(jr.type){case"android":e="android";break;case"ios":case"osx":e="iosx";break;case"web":default:e="web"}return e+"Density"}function B(e){jr.density=e,Rs.textContent=e;var t=document.querySelector("input[name='"+R()+"'][value='"+e+"']");t&&(t.checked=!0,t.dispatchEvent(new Event("change")))}function M(e){if(zr.u.canUpdateProject(Sr)){var t=jr.density;Rs.textContent=e,fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){Li(e)}).catch(function(e){Rs.textContent=t,Wr.b(e)})}}function U(e,t,n){if(jr.prefix=e||"","osx"===jr.type||"ios"===jr.type){var a="ios"===jr.type?ll:ul,i="ios"===jr.type?sl:cl,o=ws.b.getState().options.categoryName;!o||n?(o=(e?e.toUpperCase():"")+"Additions",i.value=o,dm[i.id]=o,ws.a.updateOption("categoryName",o)):(i.value=o,dm[i.id]=o),a.value=e||"",dm[a.id]=e||"",t&&Na()}}function H(){var e=Tn(),t=zt(),n=(e||"No")+" screen"+(1===e?"":"s");if(dd.classList.remove("showHint"),t.length)if(n+=" with ",1===t.length)n+=t,dd.classList.add("showHint");else{var a=t.pop();n+=t.join(", ")+", and "+a}else Zt()&&(n=(e||"No")+" untagged screen"+(1===e?"":"s")+" ");qs.textContent=n,qs.title=n}function z(){var e="";"dashboard"===$d?e="Dashboard - ":"styleguide"===$d?e="Styleguide - ":Gd&&(e=Gd.name+" - "),Ys.textContent=e+(jr?jr.name+" - ":"")+"Zeplin"}function Z(){Er?location.replace(zr.H("organization-projects",{url:{oid:Er._id}})):location.replace(zr.H("projects"))}function W(){if(Dm){var e;return Cm&&(e=JSON.parse(sessionStorage.getItem("deferredDialog")))&&sessionStorage.removeItem("deferredDialog"),void Vr.a.ipcRenderer.sendToHost("close-project-webview",Er?zr.H("organization-projects",{url:{oid:Er._id}}):zr.H("projects"),e)}Z()}function Y(e,t){(t=t||{}).shouldReplace?Tm.history.replace(e,t.state):Tm.history.push(e,t.state)}function V(e,t){t=t||{},Y(zr.H("project-dashboard",{url:{pid:e},query:t}))}function G(e){Y(zr.H("project-styleguide",{url:{pid:e}}))}function K(e,t){Y(zr.H("project-screen",{url:{pid:e,sid:t}}))}function X(){Kn(),$d="dashboard",Vd=-2,Gd=null,Js.href=Er?zr.H("organization-projects",{url:{oid:Er._id}}):zr.H("projects"),Js.querySelector("span").textContent="Projects",Ks.dataset.selection="dashboard",Vs.checked=!0,D(),x(),ho(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(Ie(),window.addEventListener("resize",Ne)),window.addEventListener("resize",An),!Bt()&&km&&Vr.a.ipcRenderer.send("popout:menuitem:enabled",!1),Ut()}function J(){Kn(),$d="styleguide",Vd=-1,Gd=null,Js.href=Er?zr.H("organization-projects",{url:{oid:Er._id}}):zr.H("projects"),Js.querySelector("span").textContent="Projects",Ks.dataset.selection="styleguide",Gs.checked=!0,E(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(zm),window.removeEventListener("resize",Ne)),window.removeEventListener("resize",An),vr&&vr.refresh(),!Bt()&&km&&Vr.a.ipcRenderer.send("popout:menuitem:enabled",!1),Ut()}function $(e){if(e){var t=Gd.dots.find(function(t){return t._id===e});if(t)return t.status}}function Q(e){if("apiData"in Zeplin&&e in Zeplin.apiData){var t=Zeplin.apiData[e];return delete Zeplin.apiData[e],t}}function ee(e){var t=Q("organizationMembers");if(t)return Promise.resolve(t);var n=es.a.mark();return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getOrganizationMembers",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})})}function te(e){var t,n=Q("projectOrganization");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/projects/"+e+"/organization",{method:"GET",headers:Zeplin.headers}).then(function(e){if(es.a.measure("api.getProjectOrganization",{start:a,minTime:50,labels:{status:e.status}}),e.ok)return e.json()})}return t.then(function(e){if(Er=e)return Er.transitionFinished=-1===e.transitionLeft,Dm&&Vr.a.ipcRenderer.send("preload-url",Js.href=zr.H("organization-projects",{url:{oid:Er._id}})),"screen"!==$d&&(Js.href=zr.H("organization-projects",{url:{oid:Er._id}})),"pawn"!==Sr.role||Er.transitionFinished||Ot(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==Sr.role?ee(e._id).then(function(e){Object.assign(Er,e)}):void 0}).catch(function(){})}function ne(e,t,n){var a=zr.i(t);e.classList.add("optionsOpen"),a&&a.classList.add("optionsOpen"),vs.a.render(vs.a.h(Ls.a,{availableExtensions:Pr,posRefRect:t.getBoundingClientRect(),enabledOptions:n?Zm:Wm,extensionMenuName:"web"===jr.type?"Style sheet":"",onChange:function(e,t){var n=Promise.resolve();"extension"===e?(n=A(t,!0),"ios"===jr.type?document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:":"osx"===jr.type&&(document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===t?"Category":"Extension")+" name:")):"colorFormat"===e&&Ra(t),n.then(function(){Na(),_a()})},onClose:function(){e.classList.remove("optionsOpen"),a&&a.classList.remove("optionsOpen")}}),document.body)}function ae(e){e.stopPropagation(),Kn(),Uo(),ne(e.target.closest(".sidebarOptionRealm"),e.target.closest("button"),!!Qd)}function ie(e){sm||pr();var t,n=Q("project");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+e,{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getProject",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(!e.ok)throw Wr.a(e.status,t);var n=t;return 206===e.status&&(n.partial=!0),n})})}return t.then(function(t){if(t){if(!t.partial)return oe(t);location.replace(zr.H("preview",{url:{pid:e}}))}}).catch(function(e){sm?(sm=!1,navigator.onLine&&location.reload()):Wr.b(e,{clientErrorHandler:function(){Ur.a({title:e.title,message:e.message},{defer:!0}),W()}})}).then(function(){Dm?(xm=!1,Vr.a.ipcRenderer.sendToHost("active")):gr()},function(){Dm?(xm=!1,Vr.a.ipcRenderer.sendToHost("active")):gr()})}function oe(e){jr=new Xr.a(e),Sr=jr.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",zr.q(jr)),Er=null;var t;return zr.q(jr)?t=te(jr.id):(t=Promise.resolve(),Dm&&Vr.a.ipcRenderer.send("preload-url",Js.href=zr.H("projects"))),Promise.all([t,Br.a(),Wo(),F(jr)]).then(function(e){P(jr);var t;t=zr.q(jr)?Er.paymentPlan:jr.findOwner().user.paymentPlan;var n=e[1].find(function(e){return e._id===t});jr.allowedVersionCount=n.allowedVersionCount,Yr.b([jr.id],Er&&"pawn"!==Sr.role&&Er._id),Fu.addEventListener("usersInvited",re),si(jr),jr.public&&ci(jr),sm=!1})}function re(e){e.detail.users.forEach(function(e){jr.addUser(e)}),p(jr.users)}function se(e){return Od.querySelector(".screen[data-view-index='"+e+"']")}function le(e){return Od.querySelector(".screen[data-id='"+e+"']")}function ce(e,t){var n=(t=t||{}).padding||0,a=t.unit||0;return e*am+n+a}function ue(e,t,n){return void 0===e||void 0===t?"":zr.w(e,1)+"×"+zr.w(t,1)+n}function de(e,t){if(void 0===e||null===e)return"";if("%"===t)return zr.w(100*e,1)+"%";var n="text"===t?jr.textDimensionSuffix:jr.dimensionSuffix;return zr.w(e/jr.densityDivisor,1)+n}function me(e,t){return 100*e/t+"%"}function pe(){Tl.classList.add("loading"),Tl.classList.remove("empty","restricted"),ql.classList.add("loading"),ql.classList.remove("empty","restricted"),bm.start()}function ge(){bm.stop(),Ks.classList.remove("online"),Tl.classList.remove("loading")}function fe(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.absoluteRect={x:a.rect.x+t.x,y:a.rect.y+t.y,width:a.rect.width,height:a.rect.height},"group"===a.type&&fe(a.layers,a.absoluteRect)}}function he(e,t){if(!navigator.onLine)return Ks.className="offline",Promise.resolve();if(!e||!t)return Promise.resolve();var n=es.a.mark();return fetch(Zeplin.urls.baseURL+"/v2/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/snapshot",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getSnapshot",{start:n,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(n){return n.layers.unshift(wt(e.name,n)),fe(n.layers,{x:0,y:0}),Object.assign(t.snapshot,n)}).catch(function(e){return Wr.b(e),t.snapshot})}function ye(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return Vm.format(e)}function be(e,t,n){if("pawn"===Sr.role)return Promise.reject(Wr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));var a={color:n};return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/color",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version color"),Object.assign(t.commit,a)})}function ve(e,t,n){if(!zr.u.canManageScreens(Sr))return Promise.reject(Wr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));if(!t.creator||t.creator._id!==Sr.user._id)return Promise.reject(Wr.a(403,{title:"You can’t edit this commit",message:"You can only edit your own commits."}));var a={message:n};return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/message",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){return mixpanel.track("Updated version commit message"),Object.assign(t.commit,a)})}function je(e,t,n){var a=Xm.querySelector(".version.editing");if(a&&Km.get(a).cancelEditing(),xc.classList.contains("versionsShown")){var i=document.querySelector(".version.selected");i&&i.classList.remove("selected");var o=document.querySelector(".version[data-id='"+t._id+"']");o&&o.classList.add("selected"),o&&n&&n.scrollIfNecessary&&zr.x(o)}Ft(e,Kd=t),document.querySelector(".oldVersionWarning time").textContent=ye(t.created),xc.classList.toggle("oldVersion",e.versions[0]._id!==Kd._id)}function Se(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&Ym&&(e.target.closest(".openInFolder")?Vr.a.ipcRenderer.send("show-item-in-folder",Ym):e.target.closest(".openInPhotoshop")&&Vr.a.ipcRenderer.send("open-item",Ym))}function Ee(e){Vr.a&&Vr.a.features&&Vr.a.features.openInPhotoshop&&(Ed.removeEventListener("click",Se),vd.classList.add("hidden"),Vr.a.ipcRenderer.removeAllListeners(e+":sourceFile"),Vr.a.ipcRenderer.once(e+":sourceFile",function(e,t){Ym=t.file,jd.title=t.name,jd.textContent=t.name,Sd.title=t.dir,Sd.textContent=t.pathParts.join("▸"),Zr.c.get("hideSourceFileInfo").then(function(e){if(!e){var t=Hr.a({content:"This is only visible to you, to quickly jump to your design file.",hideCallback:function(){Zr.c.set("hideSourceFileInfo",!0)}});vd.appendChild(t)}}),Ed.addEventListener("click",Se),vd.classList.remove("hidden")}),Vr.a.ipcRenderer.send("query-source-file",e))}function Le(e,t){return zr.u.canManageScreens(Sr)?fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/versions/"+t._id,{method:"DELETE",headers:Zeplin.headers}).then(function(){return mixpanel.track("Deleted version"),jr.removeVersion(e._id,t._id)}):Promise.reject(Wr.a(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}))}function we(e,t,n,a){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||Im.yellow;var i=new Date(e.created),o=new Date(t.created),r=i.getDate()!==o.getDate()||i.getMonth()!==o.getMonth()||i.getFullYear()!==o.getFullYear();r&&Xm.appendChild(De(o));var s=document.importNode(Jm.content,!0),l=s.querySelector(".version"),c=l.querySelector(".versionNodeDot"),u=l.querySelector(".commitMessage"),d=new Kr.a(u,Ja);Km.set(l,d),l.dataset.id=t._id;var m=Am[new Jr.a(t.commit.color).hexBase()];l.classList.add(m),u.classList.add(m),!r&&e.creator&&t.creator&&e.creator._id===t.creator._id?l.classList.add("sameCreator"):(zr.A(l.querySelector(".versionAuthorImage"),t.creator),l.querySelector(".versionAuthorName").textContent=t.creator?t.creator.username:"Anonymous"),l.classList.toggle("canDelete",zr.u.canManageScreens(Sr)),l.classList.toggle("versionOwner",t.creator&&t.creator._id===Sr.user._id);var p;return p=t.creator&&t.creator._id===Zeplin.user._id?1===a.length?"Got any notes?":"What has changed in this version?":"No commit message yet.",d.placeholder=p,t.commit.message?d.value=t.commit.message:l.classList.add("empty"),l.querySelector(".versionMetadata time").textContent=Gm.format(o),c.addEventListener("mouseenter",function(){if(!Pu.classList.contains("collapsed")&&"pawn"!==Sr.role){var e=document.importNode($m.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(m),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&m!==e.target.dataset.color){var a=Im[e.target.dataset.color];pt(n),n.classList.add(a.name),pt(l),l.classList.add(a.name),pt(u),u.classList.add(a.name),be(Gd,t,a).then(function(e){m=e.color.name}).catch(function(e){var t=Im[m];pt(n),n.classList.add(t.name),pt(l),l.classList.add(t.name),pt(u),u.classList.add(t.name),Wr.b(e)})}}),c.appendChild(e)}}),l.addEventListener("click",function(){l.classList.contains("selected")||je(Gd,t)}),u.addEventListener("autocomplete",function(){var e=ms.manageSuggestedEmojis(u.querySelector("textarea"),u.querySelector(".mirror"));e&&(e.style.top=u.getBoundingClientRect().top+u.offsetHeight-90+"px",l.appendChild(e),ms.open())}),u.addEventListener("submit",function(){var e=d.value,n=ms.formatEmojiString(d.value.trim(),!0);d.value=n,l.classList.remove("editing"),ms.close(),t.commit.message!==n&&ve(Gd,t,n).then(function(e){l.classList.toggle("empty",!n)}).catch(function(t){d.value=e,Wr.b(t,{clientErrorDialogCallback:function(){d.cancelEditing()},serverErrorDialogCallback:function(){d.startEditing()}})})}),u.addEventListener("cancel",function(){l.classList.remove("editing")}),Array.from(l.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),je(Gd,t),l.classList.add("editing"),d.startEditing()})}),l.querySelector(".commitDeleteButton").addEventListener("click",function(e){e.stopPropagation(),1===Gd.totalVersionCount?Ur.a({title:'Delete  "'+Gd.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){Gi(Gd._id),V(jr.id,Fn())}},cancel:{name:"CANCEL"}}):Ur.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){var e=Gd.versions[0]._id;Le(Gd,t).then(function(){return Gd.versions.length<jr.allowedVersionCount&&Gd.totalVersionCount>=jr.allowedVersionCount?Ce(Gd):Gd}).then(function(){var n=Gd.versions[0];e===t._id&&zr.v(le(Gd._id).querySelector(".screenImage"),n.snapshot,"url"),Kd._id===t._id&&(ml.classList.add("resourceView"),ml.classList.remove("layerView"),Ft(Gd,Kd=n)),bt(Gd)}).catch(Wr.b)}},cancel:{name:"CANCEL"}})}),Xm.appendChild(s),t}function De(e){var t=document.importNode(Qm.content,!0);return t.querySelector(".versionHeaderText").textContent=ye(e),t}function Ce(e){Pu.classList.add("loading");var t=Q("versions");return(t?Promise.resolve(t):fetch(Zeplin.urls.baseURL+"/v2/projects/"+jr.id+"/screens/"+e._id+"/versions",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})})).then(function(t){return e.versions.forEach(function(e){if("layers"in e.snapshot){var n=t.versions.find(function(t){return e._id===t._id});n&&Object.assign(n.snapshot,e.snapshot)}}),Object.assign(e,t)}).catch(function(t){return e})}function xe(e,t){var n=ms.replace(t.replace(zr.e,""),!1,!0).trim();return(!n||"️"===n)&&(e.childElementCount>0&&e.childElementCount<=5)}function ke(e,t,n){var a,i=t.slice(0,t.length-n);return a=n===t.length?e.comments.length-2>1?e.comments.length-2+" more replies":"1 more reply":n>0?(a=(a=i.join(", "))?a+" and ":a)+n+" more also replied":(a=(a=i.slice(0,i.length-1).join(", "))?a+" and ":a)+i[i.length-1]+" also replied"}function Te(e,t){var n=jr.findUser(e);return!n&&t&&Er&&Er.members?Er.members.find(function(t){return t.user._id===e}):n}function _e(e){var t=document.importNode(Ju.content,!0),n=t.querySelector(".dotListing");n.dataset.did=e._id,n.classList.add(Am[new Jr.a(e.color).hexBase()]),n.classList.toggle("hasOtherReplies",e.comments&&e.comments.length>2),n.classList.toggle("hasLastReply",e.comments&&e.comments.length>1);var a=e.comments[0],i=e.comments[e.comments.length-1];zr.A(t.querySelector(".avatarOfAuthor"),a.author),t.querySelector(".author").textContent=a.author?a.author.username:"Anonymous",t.querySelector("time").setAttribute("datetime",qe(e,0)),t.querySelector(".dotNumber").textContent=e.name;var o=t.querySelector(".commentContent");o.innerHTML=$a(a.note),o.classList.toggle("jumboEmojis",xe(o,a.note));var r,s;if(e.comments.length>2&&((r=e.comments.slice(1,-1).filter(function(e){return!(a.author&&a.author._id===e.author._id||i.author&&i.author._id===e.author._id)}).map(function(e){return e.author})).length?(r.forEach(function(e,n){var a=document.importNode(td.content,!0);a.querySelector(".avatarFrame").style.left=8*n+"px",zr.A(a.querySelector(".avatarOfOtherReply"),e),t.querySelector(".avatarsOfOtherReplies").appendChild(a)}),s=8*((r=r.map(function(e){return e?e.username:"Anonymous"})).length-1)+16):(s=0,t.querySelector(".avatarsOfOtherReplies").classList.add("hidden")),t.querySelector(".avatarsOfOtherReplies").style.width=s+"px"),e.comments.length>1){var l=t.querySelector(".comment:last-child");n.dataset.cmid=i._id,zr.A(l.querySelector(".avatarOfAuthor"),i.author),l.querySelector(".author").textContent=i.author?i.author.username:"Anonymous",l.querySelector("time").setAttribute("datetime",qe(e));var c=l.querySelector(".commentContent");c.innerHTML=$a(i.note),c.classList.toggle("jumboEmojis",xe(c,i.note))}$u.appendChild(t);var u=$u.lastElementChild.querySelector(".otherRepliesAuthors");if(r&&r.length){var d=r.length;if((r=r.filter(function(e){return"Anonymous"!==e})).length){var m=d-r.length;if(m)for(var p=0;p<m;p++)r.push("Anonymous");var g=document.createElement("canvas").getContext("2d");g.font="italic 12px roboto";for(var f=ml.offsetWidth-30-s,h=ke(e,r,m);g.measureText(h).width>f&&m<=r.length;)h=ke(e,r,++m);u.textContent=h}else e.comments.length-2>1?u.textContent=e.comments.length-2+" more replies":u.textContent="1 more reply"}else r&&!r.length&&(e.comments.length-2>1?u.textContent=e.comments.length-2+" more replies":u.textContent="1 more reply")}function qe(e,t){t=void 0!==t?t:e.comments.length-1;var n=e.comments[t],a=new Date(n.updated),i=new Date(n.created);return a-i>3e5?a:i}function Oe(e){var t=Fa(),n=!e.length;ed.classList.toggle("noDots",n),e=e?e.filter(function(e){return e.status===t}):[],ed.classList.remove("noOpenDots","noResolvedDots"),ed.classList.toggle(ep[t],!n&&!e.length),ed.dataset.statusFilter=t,Qu.querySelector("span").textContent=e.length,Qu.classList.toggle("multiple",e.length>1),$u.innerHTML="",e.sort(function(e,t){var n=qe(e),a=qe(t);return n>a?-1:a>n?1:0}),e.forEach(_e),ed.classList.remove("loading")}function Ae(e){if(e){ed.classList.add("loading"),ed.classList.remove("noDots","noOpenDots","noResolvedDots");var t,n=Q("dots");if(n)t=Promise.resolve(n);else{var a=es.a.mark();t=fetch(Zeplin.urls.baseURL+"/v2/projects/"+jr.id+"/screens/"+e._id+"/dots",{headers:Zeplin.headers}).then(function(e){return es.a.measure("api.getDots",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})})}return t.then(function(t){if(e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"}),Gd===e){var n;if(Zd.did&&1===Zd.did.length){var a=$(Zd.did[0]);n=a?Promise.resolve(a):Zr.b.get(jr.id,"dotListingsStatusFilter")}else n=Zr.b.get(jr.id,"dotListingsStatusFilter");return n.then(function(t){Pa(t,!0),e.dots.forEach(gt),Zd.did&&1===Zd.did.length?ua(Zd.did[0],Zd.cmid):v(Zd.did)})}}).catch(function(t){Gd===e&&Wr.b(t)})}}function Ie(){Array.from(Od.querySelectorAll(".screenGrid")).forEach(function(e){e.style.width=244*Math.floor(_s.clientWidth/244)+"px"}),zm=setTimeout(Ie,1e3),An()}function Ne(){clearTimeout(zm),requestAnimationFrame(Ie)}function Fe(e,t,n,a){var i=document.importNode(ap.content,!0),o=i.querySelector(".screen"),r=i.querySelector(".screenName"),s=i.querySelector(".screenNameMirror"),l=i.querySelector(".screenLink"),c=zr.u.canManageScreens(Sr);o.dataset.id=t._id,o.dataset.index=n,o.dataset.viewIndex=a+n,l.href=zr.H("project-screen",{url:{pid:Zd.pid,sid:t._id}}),i.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated||jr.updated),o.classList.toggle("thumbnail",jr.thumbnail===t.versions[0].snapshot.url),r.value=t.name,r.readOnly=!c;var u=ud.value.toLowerCase().trim();u&&zr.n(s,t.name,u,t.hasFuzzyMatch);var d=o.querySelector(".screenImage"),m=t.versions[0].snapshot;m[Symbol.for("thumbnail")]?Object.assign(d,m[Symbol.for("thumbnail")]):(l.classList.add("loading"),d.addEventListener("load",function e(t){t.target.removeEventListener("load",e),t.target.parentElement.classList.remove("loading")}),np.observe(o)),e.appendChild(i)}function Pe(){Array.from(Od.querySelectorAll(".screenName")).forEach(function(e){e.parentNode.querySelector(".screenNameMirror").textContent=e.value})}function Re(){if(jr.textStyles&&jr.textStyles.length){var e=!1;ou.innerHTML="";for(var t=0;t<jr.textStyles.length;t++){var n=document.importNode(ip.content,!0),a=n.querySelector(".font"),i=n.querySelector(".styleName"),o=jr.textStyles[t];a.dataset.id=o.id,a.dataset.index=t,i.value=o.name,i.style.fontSize=o.scaledFontSize+"px",i.style.fontWeight=o.fontWeight,i.style.fontStyle=o.fontStyle,i.tabIndex=t+1;var r=o.fontStretch.split("-"),s=zr.G(o.weightText)+("normal"!==o.fontStyle?" "+zr.G(o.fontStyle):"");if(r="normal"!==o.fontStretch?" "+zr.G(r[0])+(r[1]||""):"",n.querySelector(".style").textContent=o.fontFamily+r+", "+s+", "+de(o.fontSize,"text"),o.color){var l=jr.findColorEqual(o.color);n.querySelector(".color").textContent=l?"#"+l.name:o.color.toPlatformString(jr.type),n.querySelector(".colorPreview").style.backgroundColor=o.color.toCSS()}else n.querySelector(".colorContainer").classList.add("hidden");var c=[];if(o.textAlign&&"left"!==o.textAlign&&c.push(zr.G(o.textAlign)),o.lineHeight&&c.push("Line height: "+de(o.lineHeight,"text")),o.letterSpacing){var u;u="android"===jr.type?zr.w(o.letterSpacing/jr.densityDivisor,2):de(o.letterSpacing,"text"),c.push("Letter spacing: "+u)}n.querySelector(".subInfo").textContent=c.join(", "),e=e||!!c.length;var m=zr.u.canManageTextStyles(Sr);i.readOnly=!m,m?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):"pawn"===Sr.role?(i.dataset.tooltip="Only organization members can edit text styles.",i.dataset.tooltipType="text"):(i.dataset.tooltip=d(Sr,"edit text styles."),i.dataset.tooltipType="html"),ou.appendChild(n)}ou.classList.toggle("hasAdditionalProp",e)}}function Be(){var e=zt(),t=Zt()||"untagged"in Zd;if(Os.innerHTML="",jr.screens&&jr.screens.length&&(jr.tags.forEach(function(t){var n=document.createElement("div");n.classList.add("tag"),n.classList.toggle("selected",-1!==e.indexOf(t)),n.dataset.tag=zr.f(t),n.textContent=t,Os.appendChild(n)}),Os.childElementCount)){var n=document.createElement("div");n.classList.add("tag","untagged"),t&&n.classList.add("selected"),n.textContent="Untagged",Os.appendChild(n)}}function Me(e){var t=document.importNode(op.content,!0),n=t.querySelector(".color");n.dataset.id=e.id,t.querySelector(".colorPreview").style.backgroundColor=e.toCSS(),t.querySelector(".colorName").value=e.name,t.querySelector(".colorHex").value=e.hexBase(),t.querySelector(".colorAlpha").value=Math.round(100*e.a),t.querySelector(".colorRGB").textContent=e.toRGBAString();var a=zr.u.canManageColors(Sr);t.querySelector(".colorName").readOnly=!a,t.querySelector(".colorHex").readOnly=!a,t.querySelector(".colorAlpha").readOnly=!a,a?(n.removeAttribute("data-tooltip"),n.removeAttribute("data-tooltip-type")):"pawn"===Sr.role?(n.dataset.tooltip="Only organization members can edit colors.",n.dataset.tooltipType="text"):(n.dataset.tooltip=d(Sr,"edit colors."),n.dataset.tooltipType="html"),dl.appendChild(t)}function Ue(e,t){var n=new Jr.a(e),a=document.importNode(rp.content,!0),i=a.querySelector(".color"),o=i.querySelector(".addColor"),r=jr.findColorEqual(n);r&&(i.classList.add("added"),i.dataset.id=r.id,i.querySelector(".colorName").value="#"+r.name),i.dataset.color=n.toHexString(),i.dataset.rgbcolor=JSON.stringify(e),i.querySelector(".colorPreview").style.backgroundColor=n.toCSS();var s=zr.u.canManageColors(Sr);i.querySelector(".colorName").readOnly=!s,o.classList.toggle("disabled",!s),k(o,!!r),"web"===jr.type?Zr.b.get(Zd.pid,"styleColorFormat").then(function(e){i.querySelector(".colorValue").textContent=n.toPlatformString(jr.type,e),t.appendChild(a),Tl.classList.toggle("empty",!_l.childElementCount)}):(i.querySelector(".colorValue").textContent=n.toPlatformString(jr.type),t.appendChild(a))}function He(e,t){var n=document.createElement("div");n.classList.add("gradient"),e.colorStops.forEach(function(e){Ue(e.color,n)}),t.appendChild(n)}function ze(e,t){switch(e.fillType){case"color":Ue(e.color,t);break;case"gradient":He(e.gradient,t)}}function Ze(e){var t=document.importNode(sp.content,!0);t.querySelector(".shadowType").textContent=e.type,t.querySelector(".shadowOffsetX").textContent=de(e.offsetX),t.querySelector(".shadowOffsetY").textContent=de(e.offsetY),t.querySelector(".shadowBlurRadius").textContent=de(e.blurRadius),t.querySelector(".shadowSpread").textContent=de(e.spread),t.querySelector(".shadowBlurSpread").classList.toggle("hidden",!e.blurRadius&&!e.spread),$l.appendChild(t),Ue(e.color,$l)}function We(e,t){switch(e.format){case"jpg":case"png":return st(e,t)+("1x"===e.density?"":"@"+e.density);case"pdf":case"svg":return st(e,t)}}function Ye(e){return("svg"===e.format?Zr.b.get(jr.id,"showOptimizedSVG"):Promise.resolve(!1)).then(function(t){return t&&Object.assign(e,e.optimized),e.url}).then(fetch).then(function(e){return e.arrayBuffer()}).then(function(t){return Object.assign({data:t},e)})}function Ve(e,t){return e.contents.filter(function(e){return e.format===t}).map(function(t){return Object.assign({layerName:e.layerName,displayName:e.displayName},t)})}function Ge(e,t){var n;if("all"===e)n=[].concat.apply([],Kd.snapshot.assets.map(function(e){return Ve(e,t)}));else{var a=Kd.snapshot.assets.find(function(t){return t._id===e});if(!a)return Promise.reject("Asset with id "+e+" not found.");n=Ve(a,t)}return Promise.all(n.map(Ye))}function Ke(e,t){t=t||function(e){return e.displayName};var n={},a=new rs.a;return e.forEach(function(e){var i=t(e)+e.format;i in n||(n[i]=0);var o=++n[i];o>1&&((e=Object.assign({},e)).displayName+="_"+o,e.layerName+="_"+o),a.file(t(e)+"."+e.format,e.data)}),a}function Xe(e,t){var n;return Ge(e,t).then(function(t){return n="all"===e?"assets_"+Gd.name:t[0].displayName,Ke(t,function(e){return"drawable-"+e.density+"/"+e.displayName})}).then(function(e){return e.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n+"_"+(new Date).toISOString().substr(0,10)+".zip"}})}function Je(e,t){var n;return Promise.all([Ge(e,t),Zr.b.get(Zd.pid,"assetNamingConvention")]).then(function(a){var i=a[0],o=a[1];if(1===i.length){var r=i[0];return n=We(r,o)+"."+r.format,new Blob([r.data],{type:Om[t]})}var s=(new Date).toISOString().substr(0,10),l=Ke(i,function(e){return We(e,o)});return n=("all"===e?"assets_"+Gd.name:st(i[0],o))+"_"+s+".zip",l.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n}})}function $e(e){var t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.classList.add("hidden"),document.body.appendChild(t),t.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){URL.revokeObjectURL(e.data)},1500),t.remove()}),t.click()}function Qe(e,t,n){ds.a({projectId:jr.id,projectType:jr.type,format:t,assets:e,namingConvention:n})}function et(e){if(document.body.classList.contains("canDownload")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("exportAssets")){e.stopPropagation();var t,n=e.target.parentElement.dataset.format,a=e.target.parentElement.dataset.aid;if(Vr.a&&Vr.a.features&&Vr.a.features.downloadAssets){var i;if(0===(i="all"===a?Kd.snapshot.assets:[Kd.snapshot.assets.find(function(e){return e._id===a})]).length)return;"android"===jr.type?Zr.b.get(Zd.pid,"androidResFolderReminderSeen").then(function(e){e?Qe(i,n):(Zr.b.set(Zd.pid,"androidResFolderReminderSeen",!0),_d.addEventListener("click",function(e){e.stopPropagation(),Qe(i,n)}),Td.showModal())}):Zr.b.get(Zd.pid,"assetNamingConvention").then(function(e){Qe(i,n,e)})}else{switch(jr.type){case"android":if("svg"!==n){t=Xe(a,n);break}case"ios":case"osx":case"web":default:t=Je(a,n)}t.then($e)}}}function tt(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(e.target.classList.contains("exportAssets"))return et(e);var t=e.target.closest(".asset");if(t){var n=t.nextElementSibling;n.style.height=t.classList.contains("expanded")?"0":Array.from(n.children).reduce(function(e,t){return e+t.getBoundingClientRect().height},0)+"px",t.classList.toggle("expanded")}}}function nt(e){switch(e){case"mdpi":case"1x":case"web":case"unknown":default:return"1x";case"hdpi":return"1.5x";case"xhdpi":case"2x":return"2x";case"xxhdpi":case"3x":return"3x";case"xxxhdpi":case"4x":return"4x"}}function at(e){return new Promise(function(t,n){var a=document.createElement("img"),i=document.createElement("canvas").getContext("2d");a.addEventListener("load",function(){i.drawImage(a,0,0);for(var e=i.getImageData(0,0,a.width,a.height).data,n="light",o=0;o<e.length;o+=4)if(!(e[o+3]<45)&&(e[o]<"210"||e[o+1]<"210"||e[o+2]<"210")){n="dark";break}t({size:ue(a.width,a.height,jr.dimensionSuffix),lightness:n})}),a.addEventListener("error",function(e){n(e)}),a.crossOrigin="anonymous",a.src=e.url})}function it(e){return e.find(function(e){return e.density===jr.baseDensity&&"png"===e.format})}function ot(e){return e.filter(function(e){return"png"===e.format&&e.density!==jr.baseDensity}).map(function(e){return e.url+" "+nt(e.density)}).join(", ")}function rt(e,t){var n=document.importNode(lp.content,!0),a=n.querySelector(".assetExporter");if(a.dataset.aid=e.aid,a.dataset.format=e.format,a.querySelector(".assetType").textContent=e.format,a.querySelector(".assetCount").textContent=e.count,"jpg"===e.format||"png"===e.format)a.querySelector(".assetCount").title=Array.from(e.densities).join(", ");else if("svg"===e.format){var i=a.querySelector(".assetStats");e.percent>0&&(i.textContent=e.percent),Zr.b.get(jr.id,"showOptimizedSVG").then(function(e){i.classList.toggle("hidden",!e)})}e.count>1&&a.querySelector(".assetCount").classList.add("plural"),t.appendChild(n)}function st(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(us.a)(e.layerName,t)}function lt(e,t,n){var a=document.importNode(cp.content,!0);return Promise.all([at(t),Sa()]).then(function(i){var o=i[0],r=i[1],s=a.querySelector(".assetPreview img"),l=a.querySelector(".assetExports");a.querySelector(".asset").dataset.id=e._id,a.querySelector(".assetPreview").classList.add(o.lightness),a.querySelector(".assetSize").textContent=o.size,s.src=t.url,s.srcset=ot(e.contents),a.querySelector(".assetName").textContent=st(e,r);var c={},u=new Set;e.contents.forEach(function(e){e.format in c?c[e.format]++:c[e.format]=1,u.add(e.density)}),l.innerHTML="";for(var d in c){var m;"svg"===d&&(m=e.contents.find(function(e){return"svg"===e.format})),rt({aid:e._id,format:d,count:c[d],densities:u,percent:m&&m.optimized.percent},l)}n.appendChild(a)}).catch(function(e){})}function ct(e){var t=new Jr.a(e).toHexString();zd.has(t)||(Ue(e,_l),zd.add(t))}function ut(e){"group"===e.type?("bottom"===e.interactionLevel&&dt(e),e.layers.forEach(function(e){ut(e)}),"top"===e.interactionLevel&&dt(e)):dt(e)}function dt(e){var t=document.importNode(up.content,!0),n=t.querySelector(".layer"),a=ce(e.rect.width),i=ce(e.rect.height),o=Kd.snapshot.width,r=Kd.snapshot.height;n.dataset.id=e._id,n.classList.toggle("wideEnough",a>120),n.classList.toggle("longEnough",i>120),n.classList.toggle("tooNarrow",a<3),n.classList.toggle("tooShort",i<3),n.style.width=me(e.rect.width,o),n.querySelector(".layerWidth").textContent=de(e.rect.width),n.style.height=me(e.rect.height,r),n.querySelector(".layerHeight").textContent=de(e.rect.height),n.style.left=me(e.absoluteRect.x,o),n.style.top=me(e.absoluteRect.y,r),Zc.appendChild(t),"text"===e.type&&e.textStyles&&e.textStyles.forEach(function(e){e.style.color&&ct(e.style.color)}),e.fills.forEach(function(e){switch(e.fillType){case"color":ct(e.color);break;case"gradient":e.gradient.colorStops.forEach(function(e){ct(e.color)})}}),Tl.classList.toggle("empty",!_l.childElementCount)}function mt(e){e.classList.remove("open","resolved")}function pt(e){e.classList.remove("yellow","orange","peach","green","turquoise")}function gt(e){var t=document.createElement("div"),n=Am[new Jr.a(e.color).hexBase()];return t.classList.add("dot",n,e.status||"open"),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",Oc.appendChild(t),Oc.lastElementChild}function ft(e,t){var n=ms.formatEmojiString(Uc.value.trim(),!0);if(n){vm=!1;var a=e._id,i=ei({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:n,created:Date.now(),updated:Date.now()},a);za(t),i.classList.add("loading"),Qa(),Pc.classList.remove("composing"),om.comments=[{note:n}];var o=om;delete o.name,fetch(Zeplin.urls.baseURL+"/v2/projects/"+jr.id+"/screens/"+a+"/dots",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(n){Xd=n,Zr.b.set(Zd.pid,"lastNoteColorUsed",o.color.name),t.dataset.id=Xd._id,t.dataset.name=Xd.name,Ac.dataset.id=Xd._id,e.dots.push(Xd),Oe(e.dots),Mc.innerHTML="&nbsp;",Uc.value="",fm[a]&&fm[a].comment&&(fm[a].comment=null),i.dataset.id=Xd.comments[0]._id,i.querySelector(".commentLink").href=zr.H("project-screen",{url:{pid:jr.id,sid:a},query:{did:Xd._id,cmid:Xd.comments[0]._id}}),i.classList.remove("loading"),vm=!0,mixpanel.track("Created dot")}).catch(function(e){i.remove(),Pc.classList.add("composing"),Uc.focus(),Wr.b(e)})}}function ht(e,t,n,a){var i=document.querySelector(".dot[data-id='"+t+"']"),o=i.dataset.color;if(pt(i),i.classList.add(e),i.dataset.color=e,pt(Ac),Ac.classList.add(e),"undefined"!==t){var r=n._id;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+r+"/dots/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({color:Im[e]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){a.color=Im[e],Oe(n.dots),Zr.b.set(Zd.pid,"lastNoteColorUsed",e),mixpanel.track("Changed dot color")}).catch(function(e){pt(i),i.classList.add(o),i.dataset.color=o,pt(Ac),Ac.classList.add(o),Wr.b(e)})}else om.color=Im[e]}function yt(e){hl.innerHTML="",e.tags=e.tags||[],e.tags.sort().forEach(function(e){var t=document.createElement("a");t.classList.add("tag"),t.dataset.tag=zr.f(e),t.textContent=e,t.href=zr.H("project-dashboard",{url:{pid:jr.id},query:{tag:[e]}}),t.dataset.linkType="inApp",hl.appendChild(t)});var t=document.importNode(Tu.content,!0),n=zr.u.canManageScreens(Sr),a=t.querySelector("#manageTagsButton");a.classList.toggle("disabled",!n),n?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=d(Sr,"organize screens using tags."),a.dataset.tooltipType="html"),a.addEventListener("click",function(){go(e._id)}),hl.appendChild(t)}function bt(e){if(e===Gd){if(Xm.scrollTop=0,Xm.innerHTML="",e.versions.reduce(we,{}),Kd){var t=document.querySelector(".version[data-id='"+Kd._id+"']");t&&t.classList.add("selected")}xc.classList.toggle("oldVersion",e.versions[0]._id!==Kd._id);var n=e.totalVersionCount-jr.allowedVersionCount;if(n>0){var a=document.importNode(document.getElementById("versionLimitExceeded").content,!0),i=a.querySelector(".versionLimitExceeded");i.classList.toggle("plural",n>1),i.querySelector(".remainingVersionCount").textContent=n,i.querySelector("a").addEventListener("click",function(){mixpanel.track("Clicked version limits learn more button")}),Xm.appendChild(a)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);Xm.appendChild(o)}Pu.classList.remove("loading")}}function vt(){Gd.totalVersionCount?bt(Gd):Ce(Gd).then(bt),ad.classList.add("hidden"),Zr.c.set("versionsTutorialSeen",!0),document.querySelector(".versionsToggle").classList.remove("hasNewVersions"),Zr.b.set(jr.id,Gd._id,"versionsLastSeen",new Date(Gd.versions[0].created)),xc.classList.add("versionsShown"),Pu.classList.remove("collapsed"),Bt()}function jt(){Pu.classList.toggle("collapsed")?xc.classList.contains("oldVersion")?Pu.classList.add("compact"):xc.classList.remove("versionsShown"):Pu.classList.contains("compact")?Pu.classList.remove("compact"):xc.classList.remove("versionsShown"),Bt()}function St(e){var t=!("updateSelectedIndex"in(e=e||{}))||e.updateSelectedIndex,n=!("saveZoomLevel"in e)||e.saveZoomLevel;if(Lc.textContent=(100*am).toFixed(),Ec.disabled=am>=5,Dc.disabled=am<=.25,ru.classList.toggle("pixelated",am>=2),t){for(var a=0;a<wc.childElementCount;a++)if(parseFloat(wc.children[a].value)===am){wc.selectedIndex=a;break}wc.childElementCount===a&&(wc.selectedIndex=-1)}pp||(requestAnimationFrame(function(){Kd&&_t(Kd.snapshot,"zoom"),Tc.classList.contains("zooming")?_c.addEventListener("transitionend",function e(){_c.removeEventListener("transitionend",e),Tc.classList.remove("zooming"),Kd&&_t(Kd.snapshot,"zoom"),Za()}):Za(),pp=!1}),pp=!0),n&&(clearTimeout(dp),dp=setTimeout(function(){Zr.b.set(Zd.pid,"zoomLevel",am)},1e3))}function Et(e){if(yl.classList.toggle("hidden",!e),e){if(e.vertical){var t=e.vertical,n=t.numberOfCols,a=t.columnWidth+t.gutterWidth,i=Math.min(230*t.columnWidth/a,206);El.style.width=Math.floor(i)+"px",Ll.style.width=Math.ceil(230-i)+"px",jl.textContent=de(t.columnWidth),Sl.textContent=de(t.gutterWidth),Cl.textContent=de(n*t.columnWidth+(n-!t.guttersOnOutside)*t.gutterWidth),xl.textContent=""+n}else El.removeAttribute("style"),Ll.removeAttribute("style"),Cl.textContent="",xl.textContent="";if(e.horizontal){var o=e.horizontal,r=o.rowHeight+o.gutterHeight,s=Math.min(48*o.rowHeight/r,32);wl.style.height=Math.floor(s)+"px",Dl.style.height=Math.ceil(48-s)+"px",wl.textContent=de(o.rowHeight),Dl.textContent=de(o.gutterHeight)}vl.classList.toggle("v",!!e.vertical),vl.classList.toggle("h",!!e.horizontal)}}function Lt(e){var t=gp.getContext("2d");if(t.clearRect(0,0,gp.width,gp.height),e.grid){gp.width=ce(e.width),gp.height=ce(e.height);var n=e.grid,a="rgba(238, 103, 35, 0.3)";if(n.vertical){var i,o=n.vertical,r=ce(o.columnWidth+o.gutterWidth),s=o.numberOfCols,l=ce(n.horizontalOffset+(o.guttersOnOutside?o.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",i=1):i=ce(o.columnWidth),s=1===i?s+1:s,t.fillStyle=a;for(var c=l,u=0;u<s;u++)t.fillRect(c,0,i,gp.height),c+=r}if(n.horizontal){var d,m=n.horizontal,p=ce(m.rowHeight+m.gutterHeight),g=Math.round(gp.height/p),f=0|ce(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",d=1):d=ce(m.rowHeight),g=gp.height-g*p>p-d?g+1:g,t.fillStyle=a;for(var h=1===d?p:0,y=0;y<g;y++)t.fillRect(f,h,gp.width-2*f,d),h+=p}}}function wt(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};return t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor}),n}function Dt(e){Zc.innerHTML="",ru.width/am===e.width&&ru.height/am===e.height||(ru.src=""),ru.src=e.url}function Ct(e){var t=20*am;Tc.style.width=ce(e.width,{padding:240,unit:"px"}),Tc.style.height=ce(e.height,{padding:120,unit:"px"}),Tc.style.backgroundImage="linear-gradient(to bottom, transparent 0px, transparent "+2*am+"px, #FFF "+2*am+"px, #FFF "+t+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*am+"px, #FFF "+2*am+"px, #FFF "+t+"px)",Tc.style.backgroundPosition=window.innerWidth/2-151-am*e.width/2+"px "+(-3*t+58)+"px",Tc.style.backgroundSize=t+"px "+t+"px",_c.style.width=ce(e.width,{unit:"px"}),_c.style.height=ce(e.height,{unit:"px"}),ru.style.width=ce(e.width,{unit:"px"}),ru.style.height=ce(e.height,{unit:"px"})}function xt(e,t,n){for(var a=0;a<e.length;a++){var i=e[a];if(i[t]===n)return i;if("group"===i.type){var o=xt(i.layers,t,n);if(o)return o}}return null}function kt(e){if(zd=new Set,_l.innerHTML="",ld.innerHTML="",Zc.innerHTML="",e.layers&&(e.layers.forEach(ut),Cr)){var t=xt(e.layers,"sourceId",Cr);Cr=null,t&&(t=document.querySelector(".layer[data-id='"+t._id+"']"))&&Ea(t)}cd.classList.toggle("hidden",!e.backgroundColor),e.backgroundColor&&Ue(e.backgroundColor,ld),Lt(e)}function Tt(e){if(Ol.innerHTML="",Al.innerHTML="",void 0===e.assets);else if(Array.isArray(e.assets)&&!e.assets.length)ql.classList.remove("loading"),ql.classList.add("empty"),vs.a.render(vs.a.h(Ss.a,{source:Gd.source}),Bd,document.querySelector(".noScreenAssets"));else{ml.classList.toggle("densityMismatch",e.density!==jr.density),ql.classList.add("loading"),ql.classList.remove("empty");var t={},n=new Set,a=[];e.assets.forEach(function(e){var i=it(e.contents);i&&(a.push(La(e).then(function(){return lt(e,i,Ol)})),e.contents.forEach(function(e){e.format in t?t[e.format]++:t[e.format]=1,n.add(e.density)}))}),Promise.race(a).then(function(){ql.classList.remove("loading","empty")});for(var i in t)rt({aid:"all",format:i,count:t[i],densities:n},Al)}}function _t(e,t){fp[t=t||"layers"].forEach(function(t){t(e)})}function qt(e,t){hp?zr.B("Already sent!",t):(hp=!0,fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/requests/join",{method:"POST",headers:Zeplin.headers}).then(function(){zr.B("Invitation sent!",t)}).catch(function(){zr.B("Invitation sent!",t)}))}function Ot(e){"dismissed"!==sessionStorage.getItem("transitionBannerStatus"+jr.id)&&Mr.b({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+jr.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),qt(Er._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+jr.id,"dismissed"),Mr.a("transition")}}})}function At(){Zr.b.get(jr.id,"noResourceInfoDismissed").then(function(e){var t=document.getElementById("infoContent");if(!e&&!t.querySelector(".noResourceInfo")){var n=Hr.a({content:"This project belongs to an organization but looks like you're not a member.If you're a developer or a designer and want to access these resources, please <a href='#'>request an invite</a> from admins!",type:"html",hideCallback:function(){Zr.b.set(jr.id,"noResourceInfoDismissed",!0)},bodyCallbacks:{a:function(e){e.preventDefault(),qt(Er._id,Ru)}}});n.classList.add("noResourceInfo"),t.insertBefore(n,document.querySelector(".screenDescriptionContainer"))}})}function It(e){(e.totalVersionCount?Promise.resolve(e):Ce(e)).then(function(e){xc.classList.contains("versionsShown")?(bt(e),Zr.b.set(jr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):Rt(e)})}function Nt(e){clearTimeout(yp),yp=setTimeout(It,300,e)}function Ft(e,t){clearTimeout(bp);var n=(t=t||e.versions[0]).snapshot,a=n?"layers":"initial";if(n&&Kd._id===t._id&&_t(n,"partial"),"pawn"===Sr.role&&Er&&Er.transitionFinished)return n&&(delete n.layers,delete n.assets),_t(n,a),At(),Tl.classList.remove("loading","empty"),Tl.classList.add("restricted"),ql.classList.remove("loading","empty"),void ql.classList.add("restricted");Ee(t._id),n&&"layers"in n?(Et(n.grid),_t(n,a),ge()):bp=setTimeout(function(){pe(),he(e,t).then(function(e){e&&Kd._id===t._id&&(Et(e.grid),_t(e,a),ge())})},300)}function Pt(e){var t;return Oc.innerHTML="","dots"in e?(e.dots.forEach(gt),t=Zr.b.get(jr.id,"dotListingsStatusFilter").then(function(t){document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+t+'"]').checked=!0,Oc.dataset.statusFilter=t,Oe(e.dots)})):t=new Promise(function(t){clearTimeout(vp),vp=setTimeout(function(){Ae(e).then(function(){t()})},300)}),t}function Rt(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,Zr.b.get(jr.id,e._id,"versionsLastSeen").then(function(n){if(!n)return Zr.b.set(jr.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var a=e.versions.filter(function(e){return new Date(e.created)>n});if(document.querySelector(".versionsToggle").classList.toggle("hasNewVersions",a.length),a.length){var i=a.filter(function(e){return e.creator&&e.creator._id===Sr.user._id}),o=i.find(function(e){return!e.commit||!e.commit.message}),r=a.length-i.length;o&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=Hr.a({content:new Date-new Date(o.created)>36e5?"Looks like you uploaded a version <time is='time-ago' datetime='"+o.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):r&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=Hr.a({content:"There "+(r>1?"are ":"is ")+(r>1?r:"a")+" new version"+(r>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function Bt(){return!(!wm||!Cm)&&("dashboard"===$d||"styleguide"===$d?Gr.a.setViewMenuContext($d):xc.classList.contains("versionsShown")?Gr.a.setViewMenuContext("screen-view",{versionsShown:!0}):Gr.a.setViewMenuContext("screen-view"),!0)}function Mt(){wm&&Cm&&jr&&(Gr.a.addRecentProject(jr),Gr.a.bindProjectPreferences(jr,Rr.id,Rr.options,function(e){var t=Pr.find(function(t){return t.id===e});t&&(ws.a.loadExtension(t),A(t.id,!0)),Na(),_a()},function(e,t){ws.a.updateOption(e,t),Na(),_a()}))}function Ut(){if(wm&&Cm){var e=jr.findUser(Zeplin.user._id),t=[],n=[];zr.u.canDeleteProject(e)?t.push("deleteProject"):n.push("deleteProject"),zr.u.canLeaveProject(e)?t.push("leaveProject"):n.push("leaveProject"),Gd?(zr.u.canManageScreens(e)&&(t.push("renameScreen","deleteScreen"),Gd.tags.length?(t.push("manageTags"),n.push("addTag")):(n.push("manageTags"),t.push("addTag"))),!zr.u.canUpdateProject(e)||jr.thumbnail&&jr.thumbnail===Gd.versions[0].snapshot.url?n.push("setAsThumbnail"):t.push("setAsThumbnail")):n.push("renameScreen","deleteScreen","setAsThumbnail","addTag","manageTags"),Gr.a.updateEditCapabilities({on:t,off:n})}}function Ht(e){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(zm),window.removeEventListener("resize",Ne)),window.removeEventListener("resize",An);var t=le(e);if(!t&&(zt().length>0&&(Nn(),In(),t=le(e)),!t))return Ur.a({message:"Screen not available anymore.",defer:!0}),void V(jr.id,Fn());Lr=t,Vd=parseInt(t.dataset.viewIndex,10),Kn(),(Gd=jr.screens.find(function(e){return e._id===Lr.dataset.id})).description=Gd.description||"",$d="screen",Ks.dataset.selection="screen",$s.disabled=0===Vd,Qs.disabled=Vd===Tn()-1,gl.value=Gd.description,li(Gd),fl.setAttribute("datetime",Gd.updated||jr.updated),yt(Gd);var n=Fn();return ud.value.length&&(n.q=ud.value),Js.href=zr.H("project-dashboard",{url:{pid:jr.id},query:n}),Js.querySelector("span").textContent="Dashboard",el.textContent=Gd.name,el.title=Gd.name,E(),D(),x(),Kd=Gd.versions[0],Ft(Gd),Nt(Gd),!Bt()&&Em&&Vr.a.ipcRenderer.send("popout:menuitem:enabled",!0),Ut(),Pt(Gd).then(dr)}function zt(){return Array.from(document.querySelectorAll(".tag.selected:not(.untagged)"),function(e){return zr.F(e.dataset.tag)})}function Zt(){return document.querySelector(".tag.untagged.selected")}function Wt(e){return Array.isArray(e)?function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}:function(t){return t.tags&&t.tags.includes(e)}}function Yt(e,t){var n;return t?("tags"in t?n=Wt(t.tags):"untagged"in t&&(n=function(e){return!e.tags||!e.tags.length}),e.map(function(e){return Object.assign(e,{screens:e.screens.filter(n)})}).filter(function(e){return!!e.screens.length})):e}function Vt(e,t,n,a){e&&zr.u.canManageScreens(Sr)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e+"/screens/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).catch(function(n){Wr.b(n),Xt(e,t,a)})}function Gt(e,t,n){e&&zr.u.canManageScreens(Sr)&&(jr.addScreensToSection(e,t,n),In())}function Kt(e,t,n){if(e&&zr.u.canManageScreens(Sr)){var a=JSON.parse(JSON.stringify(jr.sections));Gt(e,t,n),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).catch(function(e){jr.sections=a,In(),Wr.b(e)})}}function Xt(e,t,n){if(e){jr.updateScreenOrder(e,t,n);var a=wn(e),i=a.querySelector(".screenGrid"),o=parseInt(a.dataset.viewIndexOffset,10);jr.findSection(e).screens.forEach(function(e,t){var n=le(e);n.dataset.index=t,n.dataset.viewIndex=o+t,i.appendChild(n)})}}function Jt(){var e=document.querySelector(".screenMenu");e&&e.remove()}function $t(){var e=document.querySelector(".sectionMenu");e&&e.remove()}function Qt(e){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})})}function en(e,t){if(e){var n=jr.removeSection(e);return In(),Qt(e).catch(function(e){Wr.b(e),jr.addSection(n,t),In()})}}function tn(){function e(e){return e.filter(function(e){var i=e._id!==t&&e.type===n&&("unknown"===e.density||e.density===a),o="active"===e.status,r=!0;if(zr.q(e)){var s=e.users.find(function(e){return e.user._id===Zeplin.user._id});r=s&&zr.u.canManageScreens(s)}return i&&o&&r}).sort(zr.C.name)}var t=jr.id,n=jr.type,a=jr.density,i=Er?Er._id:null;return Promise.all([function(t){return"user"!==(t=t||"user")?Promise.resolve(null):Cs.g().then(function(t){return e(t)})}(i),function(t){var t=t||"user";return Cs.f().then(function(e){return e.filter(function(e){return"active"===e.status&&("user"===t||t===e._id)})}).then(function(e){return Promise.all(e.map(function(e){return Cs.e(e._id,Zeplin.user._id)})).then(function(t){return e.filter(function(e,n){return zr.u.canMoveScreens(t[n])}).sort(zr.C.name)})}).then(function(t){return Promise.all(t.map(function(e){return Cs.g(e._id)})).then(function(n){return n.map(function(n,a){var i=e(n);return[t[a],i]})})})}(i)]).then(function(e){var t=e[0],n=e[1],a=[];return t&&(a.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"}),a=a.concat(t.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))),a=a.concat(n.reduce(function(e,t){var n=t[0],a=t[1];return e.push({type:"header",content:n.name+"'s Projects"},{type:"create",oid:n._id}),e.concat(a.map(function(e){return{type:"project",pid:e._id,name:e.name,density:e.density}}))},[]))})}function nn(e){Wr.b(e,{clientErrorHandler:{402:function(){Ur.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:function(){Dm?location.replace(zr.H("profile-billing",{query:{period:"annual"}})):(document.getElementById("planChooserOverlay").classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}}})},default:Wr.b}})}function an(e,t,n,a,i,o){function r(t){var n=t._id||t.pid;d=n;var a;return a="unknown"===t.density?Cs.i(n,p):Promise.resolve(),e.index=1,a.then(function(){return Cs.b(n,e)})}function s(t){var n=t._id||t.pid;d=n;return("unknown"===t.density?Cs.i(n,p):Promise.resolve()).then(function(){return Cs.h(jr.id,n,e.screens)})}function l(t){var n=t.pid,a=t.seid;return Cs.h(jr.id,n,e.screens).then(function(){return{tseid:a,tpid:n}})}function c(t){var n=t.tseid,a=t.tpid;return m=n,Cs.j(a,n,0,e.screens)}function u(){return Cs.d(jr.id,e._id)}var d,m,p=jr.density,g=jr.type,f="create"===t.type?"a new project":'"'+t.name+'"';Ur.a({message:'Move selected section from "'+jr.name+'" to '+f+"?",done:{name:"MOVE",cb:function(){switch(a(n),t.type){case"create":Cs.a(t.oid,g,zr.j(),p,e.name).then(s).then(u).then(function(){return o(d,m)}).catch(nn);break;case"project":r(t).then(l).then(c).then(u).then(function(){return o(d,m)}).catch(Wr.b)}}},cancel:{name:"KEEP",cb:function(){i&&i()}}})}function on(e,t,n){var a=jr.findSection(t),i=e.querySelector(".sectionHeader"),o=vs.a.h(js.a,{top:n.top,left:n.left,density:jr.density,projectType:jr.type,projectsLoader:tn,onOpen:function(){_s.classList.add("noScroll"),i.classList.add("moveToProjectPopupOpen")},onMove:function(e,t,n,i,o){an(a,e,t,n,o,function(e,t){mixpanel.track("Moved section to project"),location.assign(zr.H("project",{url:{pid:e},query:{seid:t}}))})},onClose:function(){_s.classList.remove("noScroll"),i.classList.remove("moveToProjectPopupOpen")}});return vs.a.render(o,document.body)}function rn(e,t,n){e&&on(t,e,{top:n.top+n.height/2,left:n.right-320})}function sn(e,t){var n=e.querySelector(".sectionHeader"),a=document.importNode(Ep.content,!0),i=a.querySelector(".sectionMenu"),o=n.getBoundingClientRect();i.classList.add("open");var r=n.querySelector(".sectionActions");r.parentElement.insertBefore(a,r);var s=jr.findSection(e.dataset.id),l=zr.u.canMoveScreens(Sr)&&s.screens.length>0;i.querySelector(".menuitem[data-action='move-section-screens']").classList.toggle("hidden",!l);var c=i.getBoundingClientRect();if(o.top+c.height+12>window.innerHeight){i.classList.add("toTop");var u=window.innerHeight-r.getBoundingClientRect().top-12;i.style.transform="translateY(calc(-100% + "+u+"px))"}i.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){var a=t.target.closest(".section");switch(a.classList.contains("collapsed")&&un(a),Uo(),n.dataset.action){case"edit-description":var i=a.querySelector(".sectionHeader .sectionDescription"),o=i.closest(".sectionDescriptionForm");a.classList.contains("hasDescription")||(Cn(i,"A sweet, short description"),a.classList.add("hasDescription")),o.classList.add("editing"),o.querySelector(".counter").textContent=i.maxLength-i.value.length,zr.m(i);break;case"rename":zr.m(a.querySelector(".sectionHeader .sectionName"));break;case"delete":en(a.dataset.id,a.dataset.index);break;case"copy-app-uri":var r="zpl://project?pid="+jr.id+"&seid="+e.dataset.id;zr.d({content:r,toastContainer:document.querySelector(".overviewContent")});break;case"download-screen-images":Lo(s.screens,s.name+".zip");break;case"copy-web-link":var l=zr.H("project",{url:{pid:jr.id},query:{seid:e.dataset.id}});zr.d({content:l,toastContainer:document.querySelector(".overviewContent")});break;case"move-section-screens":rn(a.dataset.id,a,c)}}}})}function ln(e,t,n){n=void 0===n||n;var a="collapse"===t;e.classList.toggle("collapsed",a);var i=e.dataset.id;i&&n&&(Hd[i]=a,Zr.b.set(jr.id,"sectionsCollapseState",Hd))}function cn(e,t){ln(e,"collapse",t)}function un(e,t){ln(e,"expand",t)}function dn(e){return e&&Hd[e]}function mn(e){if(zr.u.canManageScreens(Sr)&&!document.querySelector(".tag.selected")&&!ud.value.toLowerCase().trim()&&!kd.querySelector("input:checked"))if(e.target.classList.contains("screen")){var t,n=e.target.getBoundingClientRect();if(e.clientX<=n.left)Ad.style.left=n.left-24+"px",t=e.target.dataset.id;else{if(!(e.clientX>=n.right))return;Ad.style.left=n.right+"px",t=se(parseInt(e.target.dataset.viewIndex,10)+1).dataset.id}Ad.dataset.nextScreenId=t,Ad.style.top=_s.scrollTop+n.top-30+"px",Ad.classList.remove("hidden")}else Ad.classList.add("hidden")}function pn(e){if(Eo(e)){var t=zt(),n=JSON.parse(JSON.stringify(jr.sections)),a={name:e,screens:jr.screens.filter(Wt([e])).map(function(e){return e._id})};jr.addSection(a,1),t.length>0&&(Nn(),Rn()),Promise.all([In().then(function(){var e=Od.querySelector(".section:not(.default)");return e&&zr.m(e.querySelector(".sectionName")),e}),gn(a,1)]).then(function(t){var n=t[0],i=t[1];a._id=i._id,n&&(n.dataset.id=i._id),jo(e)}).catch(function(e){jr.sections=n,V(jr.id,t.length>0?{tag:t}:{}),Wr.b(e)})}}function gn(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:e.name,screens:e.screens,index:t})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})})}function fn(e,t){if(e){var n=JSON.parse(JSON.stringify(jr.sections)),a=jr.splitSection(e,t,"Untitled section");a.new=!0,In().then(function(){var t=wn(e),i=t?t.nextElementSibling:Od.firstElementChild,o=jr.sections.findIndex(function(t){return t._id===e})+1;zr.m(i.querySelector(".sectionName")),gn(a,o).then(function(e){a._id=e._id,i.dataset.id=e._id}).catch(function(e){jr.sections=n,In(),Wr.b(e)})})}}function hn(e,t){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})})}function yn(e,t){if(e._id){var n=e.name;e.name=t,hn(e._id,{name:t}).catch(function(t){e.name=n,In().then(function(){Wr.b(t,{dialogCallback:function(){var t=wn(e._id);zr.m(t.querySelector(".sectionName"))}})})})}}function bn(e,t){if(e._id){var n=e.description;e.description=t,hn(e._id,{description:t}).catch(function(t){e.description=n,In().then(function(){Wr.b(t,{dialogCallback:function(){var t=wn(e._id);zr.m(t.querySelector(".sectionDescription"))}})})})}}function vn(e){var t=e.querySelector(".screenGrid"),n=e.querySelector(".sectionHeader");n.addEventListener("click",function(t){if(t.target.matches(".sectionDescriptionForm .mirror")){var a=t.target.closest(".sectionDescriptionForm"),i=t.target.nextElementSibling;return Dn(i),a.classList.add("editing"),a.querySelector(".counter").textContent=i.maxLength-i.value.length,void i.focus()}var o=t.target.closest("button[data-action]");if(!o)return e.classList.contains("collapsed")&&(un(e),t.stopPropagation()),void Uo();switch(t.stopPropagation(),o.dataset.action){case"open-menu":n.classList.contains("moveToProjectPopupOpen")||(Uo(),sn(e,o));break;case"collapse":Uo(),e.classList.contains("collapsed")?un(e):cn(e)}}),n.addEventListener("blur",function(t){if(zr.u.canManageScreens(Sr)&&"input"===t.target.tagName.toLowerCase()){t.preventDefault();var n=e.dataset.id,a=jr.findSection(n);if(a)if(t.target.classList.contains("sectionName")){var i=t.target.value.trim();if(!0===a.new&&delete a.new,i===a.name)return;i?(Cn(t.target,i),yn(a,i)):Cn(t.target,a.name)}else if(t.target.classList.contains("sectionDescription")){var o=t.target.value.trim();if(e.classList.toggle("hasDescription",o.length>0),t.target.closest(".sectionDescriptionForm").classList.remove("editing"),Cn(t.target,o),o===a.description)return;bn(a,o)}}},!0),n.addEventListener("submit",function(e){if(zr.u.canManageScreens(Sr)){e.preventDefault();var t=e.target.querySelector("input");t&&t.blur()}}),n.addEventListener("keydown",function(t){if(zr.u.canManageScreens(Sr)){t.stopPropagation();var n=t.target.closest("input");if(n&&-1!==["sectionName","sectionDescription"].indexOf(n.name))switch(t.keyCode){case Zeplin.KEY_CODE.ESC:var a=jr.findSection(e.dataset.id);if(!a)return;if(!0===a.new)return void en(a._id,parseInt(e.dataset.index,10));Cn(n,a["sectionName"===n.name?"name":"description"]),n.blur()}}});var a=n.querySelector(".sectionDescriptionForm .counter");n.addEventListener("input",function(e){Dn(e.target),e.target.classList.contains("sectionDescription")&&(a.textContent=e.target.maxLength-e.target.value.length)}),t.addEventListener("mouseover",mn),t.addEventListener("mouseover",function(e){var t=e.target.closest(".screenLink");t&&(t.classList.add("hover"),t.classList.remove("highlight"))}),t.addEventListener("mouseout",function(e){var t=e.target.closest(".screenLink");t&&t.classList.remove("hover")}),t.addEventListener("keydown",function(e){if(zr.u.canManageScreens(Sr)&&(e.stopPropagation(),e.target.classList.contains("screenName")))switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".screen").dataset.id;e.target.value=jr.screens.find(function(e){return e._id===t}).name,e.target.blur()}}),t.addEventListener("submit",function(e){zr.u.canManageScreens(Sr)&&(e.preventDefault(),e.target.querySelector(".screenName").blur())}),t.addEventListener("blur",function(e){if(zr.u.canManageScreens(Sr)&&(e.preventDefault(),e.target.classList.contains("screenName"))){var t=e.target.closest(".screen").dataset.id,n=jr.screens.find(function(e){return e._id===t}),a=e.target.closest(".screen").querySelector(".screenNameMirror");if(!e.target.value)return a.classList.remove("hidden"),void(e.target.value=n.name);if(n.name!==e.target.value){a.classList.add("hidden");var i=n.name;n.name=e.target.value,In(),Mi(t,n.name,i)}else a.classList.remove("hidden")}},!0),t.addEventListener("contextmenu",function(e){Uo();var t=e.target.closest(".screenLink");if(t){var n=t.parentElement;e.preventDefault();var a=document.importNode(Lp.content,!0),i=a.querySelector(".screenMenu");i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"thumbnail":Hi(n.dataset.id);break;case"delete":Ur.a({title:'Delete  "'+n.querySelector(".screenName").value+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){n.classList.remove("menuOpen"),Gi(n.dataset.id).then(function(){Be(),Pn(zt())})}},cancel:{name:"CANCEL"}});break;case"manageTags":go(n.dataset.id);break;case"download":Zi(n.dataset.id);break;case"move-screen":Vi(n)}setTimeout(function(){Jt()},80)}}});var o=zr.u.canUpdateProject(Sr),r=zr.u.canManageScreens(Sr),s=zr.u.canMoveScreens(Sr);i.querySelector(".menuitem[data-action='thumbnail']").classList.toggle("hidden",!o),i.querySelector(".menuitem[data-action='manageTags']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!r),i.querySelector(".menuitem[data-action='move-screen']").classList.toggle("hidden",!s);var l=po(n.dataset.id);i.classList.toggle("taglessScreen",!l.tags||0===l.tags.length),n.appendChild(a),tr(i,Nu,n,e)}})}function jn(e){return{screens:e,type:"default"}}function Sn(e){var t=[],n={};return e.forEach(function(e){var a,i=zr.k(new Date(e.updated));i in n?a=n[i]:(t.push(i),a=[],n[i]=a),a.push(e)},{}),t.map(function(e){return{name:zr.G(e),screens:n[e],type:"timeline"}})}function En(){var e=jr.sections.map(function(e){return e=Object.assign({},e),e.screens=e.screens.map(function(e){return jr.findScreen(e)}),e.type="user",e});return e[0].screens.length>0?e[0].type="default":e.splice(0,1),e}function Ln(e){if((e=e||{}).searchTerm){var t={},n=jr.screens.filter(function(n){var a=zr.c(e.searchTerm,n.name);return t[n._id]=a.score,n.hasFuzzyMatch=a.hasFuzzyMatch,a.score>0}).sort(function(e,n){return t[e._id]<t[n._id]?1:t[e._id]>t[n._id]?-1:0});return n.length>0?[jn(n)]:[]}var a;return a=e.sortBy?"lastUpdated"===e.sortBy?Sn(jr.screens.sort(zr.C[e.sortBy])):[jn(jr.screens.sort(zr.C[e.sortBy]))]:En(),e.tagFilter&&(a=Yt(a,e.tagFilter)),a}function wn(e){return Od.querySelector(".section[data-id='"+e+"']")}function Dn(e,t){var n=e.parentElement.querySelector(".mirror");t?n.innerHTML=Xa(e.value.replace(/ /g," ")):n.textContent=e.value.replace(/ /g," ")}function Cn(e,t){e.value=t||"",Dn(e,!0)}function xn(e,t,n){var a=document.importNode(qd.content,!0),i=a.querySelector(".section"),o=a.querySelector(".screenGrid"),r=a.querySelector(".sectionName"),s=a.querySelector(".sectionDescription"),l=a.querySelector(".screenCount"),c=zr.u.canManageScreens(Sr);Cn(r,e.name),e._id&&(i.dataset.id=e._id),"user"===e.type&&(r.readOnly=!c,s.readOnly=!c,e.description&&e.description.length&&(Cn(s,e.description),i.classList.add("hasDescription")),e.screens.length>1&&(l.textContent=e.screens.length),i.classList.toggle("empty",0===e.screens.length)),dn(e._id)&&!i.classList.contains("empty")?cn(i):un(i),i.classList.add(e.type),i.dataset.index=t,i.dataset.viewIndexOffset=n,e.screens.forEach(function(e,t){Fe(o,e,t,n)}),Od.appendChild(a),vn(i)}function kn(){var e={};ud.value&&(e.searchTerm=ud.value.toLowerCase().trim());var t=kd.querySelector("input:checked");t&&(e.sortBy=t.name);var n=zt();return n.length?e.tagFilter={tags:n}:Zt()&&(e.tagFilter={untagged:!0}),e}function Tn(){return Od.querySelectorAll(".screen").length}function _n(e,t,n){if(e)return jr.updateSectionOrder(e,t),In(),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/sections/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({sections:[{_id:e,to:parseInt(t,10)}]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).catch(function(t){jr.updateSectionOrder(e,n),In(),Wr.b(t)})}function qn(e,t){var n=e.getBoundingClientRect();wp.style.top=_s.scrollTop+n.top-30+"px",wp.style.left=t?n.right+11+"px":n.left-13+"px",wp.classList.remove("hidden")}function On(){Array.from(Od.querySelectorAll(".screenGrid")).forEach(function(e){gs.a.disable(e.dataset.dragId)}),Od.innerHTML="",Ad.classList.add("hidden");var e=!jr.screens||!jr.screens.length;if(mu.disabled=e,e&&1===jr.sections.length)document.querySelector(".projectOverview").classList.add("empty");else{document.querySelector(".projectOverview").classList.remove("empty"),document.querySelector(".noIntersection").removeAttribute("data-empty-for");var t=kn(),n=Ln(t);"tagFilter"in t&&!n.length&&(document.querySelector(".noIntersection").dataset.emptyFor=Zt()?"untagged":"tagged"),Od.classList.toggle("locked","sortBy"in t);var a=0;n.forEach(function(e,t){xn(e,t,a),a+=e.screens.length}),gs.a.enable({containers:Array.from(Od.querySelectorAll(".screenGrid")),dropTargets:Array.from(Od.querySelectorAll(".section")),root:_s,canGrab:function(){return zr.u.canManageScreens(Sr)},onGrab:function(e,t){t.style.height="",Pe();var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();Sp=parseInt(e.dataset.index,10),jp=e.closest(".section").dataset.id,qn(e,a.left>n.left),document.body.classList.add("dragging")},onDrop:function(e,t,n){wp.classList.add("hidden"),document.body.classList.remove("dragging");var a=t.dataset.id,i=t.closest(".section").dataset.id;if(jp&&i){if(i===jp){var o=parseInt(t.dataset.index,10);if(o===Sp)return;var r={screens:[{_id:a,to:parseInt(Sp,10)}]};Xt(jp,a,Sp),Vt(jp,a,r,o)}else Kt(jp,[a],Sp);jp=null,Sp=null}},onMove:function(e,t,n,a,i){var o;if("sortBy"in kn()?o="Unselect sort option to reorder":document.querySelector(".tag.selected")?o="Unselect tags to reorder":ud.value.toLowerCase().trim()&&(o="Reset search to reorder"),o)document.querySelector(".toastContainer")||zr.B(o,document.querySelector("main"));else{Array.from(Od.querySelectorAll(".section.dropTarget")).forEach(function(e){e.classList.remove("dropTarget")});var r=i.getBoundingClientRect();if(a){var s=a.getBoundingClientRect(),l=parseInt(a.dataset.index,10),c=parseInt(t.dataset.index,10),u=r.left>s.left,d=0;n===e?d=u?l<c?1:0:l<=c?0:-1:u&&(d=1),Sp=l+d,jp=n.closest(".section").dataset.id,qn(a,u)}else if(n){var m=n.querySelectorAll(".screen").length-1;if(n.classList.contains("section")&&(n.classList.contains("empty")||n.classList.contains("collapsed")))return jp=n.dataset.id,Sp=n.classList.contains("collapsed")?m+1:0,wp.classList.add("hidden"),void n.classList.add("dropTarget");var p=n.querySelector('.screen[data-index="'+m+'"]'),g=p.getBoundingClientRect();r.bottom>g.top&&r.left>g.left&&(jp=n.closest(".section").dataset.id,Sp=m,n!==e&&(Sp+=1),qn(p,!0))}}}}),H(),An()}}function An(){var e=Od.querySelector(".section:not(.collapsed) .screenLink");if(e){var t=e.getBoundingClientRect();kp=Math.max(36,t.left)+"px"}Array.from(Od.querySelectorAll(".sectionHeader")).forEach(function(e){e.style.paddingLeft=kp,e.style.paddingRight=kp})}function In(e){var t=!0;return e&&"immediate"in e&&(t=e.immediate),new Promise(function(e,n){t?(On(),e()):(clearTimeout(xp),xp=setTimeout(function(){On(),e()},300))})}function Nn(){Wd="",Array.from(document.querySelectorAll(".tag.selected")).forEach(function(e){e.classList.remove("selected")})}function Fn(){return Zt()?{untagged:"true"}:Wd||{}}function Pn(e){Nn(),e&&(Wd={tag:e},(e=[].concat(e).filter(function(e){return jr.tags.indexOf(e)>-1})).forEach(function(e){document.querySelector(".tag[data-tag='"+decodeURIComponent(zr.f(e)+"']")).classList.add("selected")})),In()}function Rn(){var e=zt();Wd=e.length?{tag:e}:{},Zt()?Zd.untagged="true":delete Zd.untagged,V(jr.id,Fn())}function Bn(){return!Yr.c()||!Ac.classList.contains("hidden")||!cu.classList.contains("hidden")||!bu.classList.contains("hidden")||md.classList.contains("focus")}function Mn(){Kn(),Jn(),Ha(),Ci(),Uo(),gl.submitEdits(),fo(),ps.close(),ms.close()}function Un(){Sm=!1,jm?(qc.src=Zeplin.urls.appURL+"/img/grab.svg",document.body.classList.contains("mac")||(Tc.classList.remove("panMode"),Tc.classList.add("holdingSpace"))):Tc.classList.remove("panMode"),document.removeEventListener("mouseup",Un)}function Hn(){Kn(),Uo(),_p=0,_r=0,qr=0,cu.classList.remove("hidden"),uu.value="",uu.focus(),Object.assign(lm,jr.screens),lm.sort(zr.C.name),pu.classList.toggle("noScreen",!lm.length),du.innerHTML="",lm.forEach(Di),lm.length&&(Tr=lm[0],du.querySelector(".screenSuggestion[data-id='"+Tr._id+"']").classList.add("selected"))}function zn(){if(Ci(),!le(Tr._id))return Nn(),ud.value="",dd.classList.remove("searching"),md.classList.remove("focus"),void In();K(jr.id,Tr._id)}function Zn(e){var t;document.querySelector(".screenSuggestion.selected").classList.remove("selected"),_p=e,Tr=lm[e],(t=document.querySelector(".screenSuggestion[data-id='"+Tr._id+"']")).classList.add("selected"),zr.x(t)}function Wn(){el.style.width=getComputedStyle(el).width,Xs.addEventListener("mouseleave",Yn)}function Yn(){Xs.removeEventListener("mouseleave",Yn),el.removeAttribute("style")}function Vn(){ps.close(),ms.close(),im&&!Xd&&vm&&(im.remove(),om=null),kc.removeEventListener("scroll",Za),Xd=null,im=null,Fc.innerHTML="",Fc.scrollTop=0,Ac.classList.add("hidden")}function Gn(){!Ac.classList.contains("hidden")&&Gd&&(fm[Gd._id]=fm[Gd._id]||{},Xd?(fm[Gd._id].reply=fm[Gd._id].reply||{},fm[Gd._id].reply[Xd._id]=Uc.value):fm[Gd._id].comment=Uc.value)}function Kn(){Gn(),Vn()}function Xn(){if(im){var e=im;Vn(),ua(e)}}function Jn(e){e=e||{},$n(),Wc.classList.add("hidden"),e.willReselect||(ml.classList.add("resourceView"),ml.classList.remove("layerView")),_c.removeEventListener("mouseover",ra),document.removeEventListener("keydown",sa),document.removeEventListener("keyup",sa),document.removeEventListener("keydown",la),Tc.removeEventListener("mousemove",ca),tm=!1,_c.classList.remove("measuring"),Qd&&(Qd.classList.remove("selected"),Qd=null,Dr=null,wr=null,hm=null,ym=null),Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""})}function $n(){Xc.classList.add("hidden"),$c.classList.add("hidden"),eu.classList.add("hidden"),nu.classList.add("hidden")}function Qn(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}function ea(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a],o=i.absoluteRect.x+i.rect.width,r=i.absoluteRect.y+i.rect.height;i.absoluteRect.x<=t.left&&i.absoluteRect.y<=t.top&&o>=t.right&&r>=t.bottom&&(("group"!==i.type||["bottom","top"].includes(i.interactionLevel))&&n.push(i),"group"===i.type&&(n=n.concat(ea(i.layers,t))))}return n}function ta(e,t){if(!t)return[e];var n={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)},a=ea(Kd.snapshot.layers,n);return e===t&&(a=a.filter(function(t){return!Qn(t,e)})),a.length?a.sort(function(e,t){return e.rect.width*e.rect.height-t.rect.width*t.rect.height}):[Kd.snapshot.layers[0]]}function na(e){var t=document.querySelector(".parent");t&&t.classList.remove("parent"),(t=e?document.querySelector(".layer[data-id='"+e+"']"):_c)&&t.classList.add("parent")}function aa(e,t,n){var a=Kd.snapshot.width,i=e.absoluteRect,o=i.x,r=o+i.width,s=t.absoluteRect,l=s.x,c=l+s.width,u=!1,d=-1,m=-1;if(c<o)d=o-c,Xc.style.left=me(c,a);else if(l<o&&c>r)d=o-l,Xc.style.left=me(l,a),m=c-r,$c.style.left=me(r,a),eu.style.left=me((o+r)/2,a),nu.style.left=me((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,Xc.style.left=me(o,a),m=r-c,$c.style.left=me(c,a);else if(c>o&&c<r)d=o-l,Xc.style.left=me(l,a),(p=c-o)>7&&(eu.style.left=me((c+o)/2,a),nu.style.left=me((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,Xc.style.left=me(o,a);var p=r-l;p>7&&(eu.style.left=me((l+r)/2,a),nu.style.left=me((l+r)/2,a),u=!0)}else l>r&&(m=l-r,$c.style.left=me(r,a));-1!==d&&(Xc.style.width=me(d,a),Jc.textContent=nm?de(d/n.rect.width,"%"):de(d),Xc.classList.remove("hidden")),-1!==m&&($c.style.width=me(m,a),Qc.textContent=nm?de(m/n.rect.width,"%"):de(m),$c.classList.remove("hidden")),u||(eu.style.left=me((l+c)/2,a),nu.style.left=me((l+c)/2,a))}function ia(e,t,n){var a=Kd.snapshot.height,i=e.absoluteRect,o=i.y,r=o+i.height,s=t.absoluteRect,l=s.y,c=l+s.height,u=!1,d=-1,m=-1;if(c<o)d=o-c,eu.style.top=me(c,a);else if(l<o&&c>r)d=o-l,eu.style.top=me(l,a),m=c-r,nu.style.top=me(r,a),Xc.style.top=me((o+r)/2,a),$c.style.top=me((o+r)/2,a),u=!0;else if(l>o&&c<r)d=l-o,eu.style.top=me(o,a),m=r-c,nu.style.top=me(c,a);else if(c>o&&c<r)d=o-l,eu.style.top=me(l,a),(p=c-o)>7&&(Xc.style.top=me((c+o)/2,a),$c.style.top=me((c+o)/2,a),u=!0);else if(l>o&&l<r){d=l-o,eu.style.top=me(o,a);var p=r-l;p>7&&(Xc.style.top=me((l+r)/2,a),$c.style.top=me((l+r)/2,a),u=!0)}else l>r&&(m=l-r,nu.style.top=me(r,a));-1!==d&&(eu.style.height=me(d,a),tu.textContent=nm?de(d/n.rect.height,"%"):de(d),eu.classList.remove("hidden")),-1!==m&&(nu.style.height=me(m,a),au.textContent=nm?de(m/n.rect.height,"%"):de(m),nu.classList.remove("hidden")),u||(Xc.style.top=me((l+c)/2,a),$c.style.top=me((l+c)/2,a))}function oa(e,t,n){$n();var a=document.querySelector(".parent");a&&a.classList.remove("parent"),e&&t&&(e&&t&&e===t&&(Qd.querySelector(".layerWidth").textContent=nm?de(e.rect.width/n.rect.width,"%"):de(e.rect.width),Qd.querySelector(".layerHeight").textContent=nm?de(e.rect.height/n.rect.height,"%"):de(e.rect.height)),n&&na(n._id),aa(e,t,n),ia(e,t,n))}function ra(e){if(e.stopPropagation(),nm=e.altKey,Dr=null,$n(),_c.classList.remove("measuring"),e.target.classList.contains("layer")){if(e.target.classList.contains("selected")||_c.classList.add("measuring"),Dr=xt(Kd.snapshot.layers,"_id",e.target.dataset.id),nm){var t=ta(wr,Dr);zr.a(em,t,function(e,t){return e===t})||(em=t,qp=0)}else em=[],qp=0;oa(wr,Dr,em[qp])}else{var n=document.querySelector(".parent");n&&n.classList.remove("parent")}}function sa(e){if(e.keyCode===Zeplin.KEY_CODE.ALT)if(e.preventDefault(),nm=e.altKey,tm&&xr)ca(xr);else{var t;nm?t=(em=ta(wr,Dr))[qp]:(em=[],qp=0),oa(wr,Dr,t)}}function la(e){e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),qp=(qp+1)%em.length,oa(wr,Dr,em[qp])):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),qp=(qp-1+em.length)%em.length,oa(wr,Dr,em[qp]))}function ca(e){var t=_c.getBoundingClientRect(),n=Kd.snapshot.width,a=Kd.snapshot.height,i=wr.absoluteRect.x,o=i+wr.rect.width,r=wr.absoluteRect.y,s=r+wr.rect.height;e!==xr&&(nm=e.altKey),$n(),Dr=null,xr=e,e.clientX<t.left&&(Xc.style.left=0,Xc.style.width=me(i,n),Jc.textContent=nm?de(i/n,"%"):de(i),Xc.style.top=me((r+s)/2,a),Xc.classList.remove("hidden")),e.clientY<t.top&&(eu.style.top=0,eu.style.height=me(r,a),tu.textContent=nm?de(r/a,"%"):de(r),eu.style.left=me((i+o)/2,n),eu.classList.remove("hidden")),e.clientX>t.right&&($c.style.left=me(o,n),$c.style.width=me(n-o,n),Qc.textContent=nm?de((n-o)/n,"%"):de(n-o),$c.style.top=me((r+s)/2,a),$c.classList.remove("hidden")),e.clientY>t.bottom&&(nu.style.top=me(s,a),nu.style.height=me(a-s,a),au.textContent=nm?de((a-s)/a,"%"):de(a-s),nu.style.left=me((i+o)/2,n),nu.classList.remove("hidden"))}function ua(e,t){function n(e){if(zr.o(e,kc))Wa();else{var n=e.getBoundingClientRect(),a=kc.scrollLeft,i=kc.scrollTop;n.left<0?a=kc.scrollLeft+n.left-60:n.right>kc.offsetWidth&&(a=n.right-kc.offsetWidth+60),n.top<92?i=kc.scrollTop+n.top-60-Zp-60:n.bottom>window.innerHeight&&(i=kc.scrollTop+(n.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(kc.scrollTo({left:a,top:i,behavior:"smooth"}),setTimeout(function(){Wa()},450)):(kc.scrollLeft=a,kc.scrollTop=i,Wa())}t?j(t):Fc.lastElementChild.scrollIntoView()}if(e&&jr.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var a="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;a?a!==im?(Cc.checked=!0,Oc.classList.remove("invisible"),Vn(),a.classList.remove("hover"),im=a,pt(Ac),mt(Ac),Ac.classList.remove("left","right"),Ac.classList.add(Am[new Jr.a(Im[im.dataset.color]).hexBase()],im.dataset.position),Ac.classList.toggle("canRemoveNotes",zr.u.canRemoveNotes(Sr)),Mc.innerHTML="&nbsp;",Uc.value="",Pc.classList.remove("hidden"),"undefined"===im.dataset.id?(Ac.classList.add("open"),Ac.dataset.id="undefined",Pc.classList.add("composing"),fm[Gd._id]&&fm[Gd._id].comment&&(Mc.innerHTML=zr.f(fm[Gd._id].comment)+"&nbsp;",Uc.value=fm[Gd._id].comment),setTimeout(function(){Uc.focus(),Uc.setSelectionRange(Uc.value.length,Uc.value.length)},4)):(Xd=Gd.dots.find(function(e){return e._id===im.dataset.id}),Ac.classList.add(Xd.status),im.classList.remove("highlight"),Xd.comments.forEach(function(e){ei(e,Gd._id,Xd._id)}),j(t),Ac.dataset.id=Xd._id,fm[Gd._id]&&fm[Gd._id].reply&&fm[Gd._id].reply[Xd._id]?(Pc.classList.add("composing"),Mc.innerHTML=zr.f(fm[Gd._id].reply[Xd._id])+"&nbsp;",Uc.value=fm[Gd._id].reply[Xd._id],setTimeout(function(){Uc.focus(),Uc.setSelectionRange(Uc.value.length,Uc.value.length)},4)):(Qa(),Pc.classList.remove("composing"))),"undefined"!==im.dataset.id?setTimeout(function(){n(im)},200):Wa()):j(t):Ur.a({message:"Note not available anymore."})}}function da(e){var t=document.importNode(Op.content,!0);switch(t.querySelector(".borderPosition").textContent=e.position,t.querySelector(".borderThickness").textContent=de(e.thickness),Xl.appendChild(t),e.fillType){case"color":Ue(e.color,Xl);break;case"gradient":He(e.gradient,Xl)}}function ma(e){if(wr){var t=new Qr.a(wr),n=Array.from(Zl.children);if("text"===t.type)return"string"==typeof e?Zl.querySelector('.textStyleWrapper[data-id="'+e+'"]'):"object"==typeof e?n.find(function(n){var a=t.textStyles[n.dataset.index];return a&&new $r.a(e).equals(a.font)}):void 0}}function pa(e,t){function n(e,t){e.textContent=de(t,"text")}var a={name:{selector:".layerTextStyle .textStyleName",cb:function(e,t){e.value=t}},fontFace:{selector:".layerFontFace .fontFace"},fontSize:{selector:".layerFontSize",cb:n},textAlign:{selector:".layerTextAlign",cb:function(e,t){e.textContent=t?zr.G(t):""}},lineHeight:{selector:".layerLineHeight",cb:n},letterSpacing:{selector:".layerLetterSpacing",cb:function(e,t){t&&(e.textContent="android"===jr.type?zr.w(t/jr.densityDivisor,2):de(t,"text"))}},color:{selector:".layerTextColor",cb:function(e,t){e.innerHTML="",t&&Ue(t,e)}},header:{selector:".typefaceHeader > h2 > span:nth-child(2)"}};for(var i in t){var o=a[i];if(o){var r=e.querySelector(o.selector);o.cb?o.cb(r,t[i]):r.textContent=t[i]}}}function fa(e){var t=document.getElementById("layerTextStyleTemplate"),n=document.importNode(t.content,!0).querySelector(".textStyleWrapper"),a=n.querySelector(".addTextStyle"),i=jr.findTextStyleEqual(e);i&&(n.classList.add("added"),n.dataset.id=i.id,e.name=i.name),pa(n,e);var o=zr.u.canManageTextStyles(Sr);return n.querySelector(".textStyleName").readOnly=!o,a.classList.toggle("disabled",!o),T(a,!!i),n}function ha(e){return["turquoise","cornflower-blue","light-green","yellow","peach"][parseInt(e,10)]||"warm-gray-"+e}function ya(e,t){function n(e,t){return'<span class="highlightedLayerContent" data-color-group="'+ha(t)+'">'+zr.f(e)+"</span>"}if(!t.length)return e;var a="",i=0;return t.forEach(function(t){var o=t.range,r=e.substring(o.start,o.end);if(o.start>i)a+=zr.f(e.substring(i,o.start));else if(o.start<i)return;-1===t.groupId?a+=zr.f(r):a+=n(r,t.groupId),i=o.end}),a+=zr.f(e.substring(i,e.length))}function ba(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function va(e){function t(t,n,a){var i=fa(t);return i.dataset.index=e.textStyles.findIndex(function(e){return e.font.equals(t)}),n>-1&&(pa(i,{header:a}),i.dataset.colorGroup=ha(n)),Zl.appendChild(i),i}var n=ba(e),a=[];if(Zl.innerHTML="",1===n.length){var i=jr.findTextStyleEqual(n[0].font);"web"===jr.type&&i&&zr.p(i.name)?qa(i.name,e.content):fd.classList.add("hidden")}else fd.classList.add("hidden");n.sort(function(e,t){return e.range.start-t.range.start}).forEach(function(n,i){if(!(a.indexOf(n.groupId)>-1)){var o=n.range,r=e.content.substring(o.start,o.end);t(n.font,n.groupId,r),a.push(n.groupId)}}),Yl.innerHTML=ya(e.content,n)}function ja(e,t,n,a){if(e){at(t).then(function(e){ac.className=e.lightness}),ac.src=t.url,ac.srcset=ot(n.contents),ac.style.height=Math.min(e.rect.height/jr.densityDivisor+4,160)+"px",ic.textContent=st(n,a),ic.title=st(n,a);for(var i={},o=new Set,r=0;r<n.contents.length;r++){var s=n.contents[r];s.format in i?i[s.format]++:i[s.format]=1,o.add(s.density)}oc.innerHTML="";for(var l in i){if("svg"===l)var c=n.contents.find(function(e){return"svg"===e.format});rt({aid:n._id,format:l,count:i[l],densities:o,percent:c&&c.optimized.percent},oc)}nc.classList.remove("hidden"),!("jpg"in i)||"svg"in i||"pdf"in i||(n.percent&&(nc.querySelector(".assetExporter[data-format='"+n.percent.type+"'][data-aid='"+n._id+"']").querySelector(".assetStats").textContent=n.percent.diff),Zr.c.get("hideNoVectorAssetInfo").then(function(e){if(!e){var t=Hr.a({content:"This layer contains bitmap images, so no vector assets were generated.",hideCallback:function(){Zr.c.set("hideNoVectorAssetInfo",!0)}});oc.appendChild(t)}})),"web"===jr.type&&Oa(e,n,i,a)}}function Sa(){return"android"===jr.type?Promise.resolve("snakeCase"):Zr.b.get(Zd.pid,"assetNamingConvention")}function Ea(e){if(getSelection().removeAllRanges(),!jm&&e!==Qd&&(Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""}),$n(),_c.classList.remove("measuring"),Qd&&Qd.classList.remove("selected"),Qd=null,Kd.snapshot.layers&&(wr=xt(Kd.snapshot.layers,"_id",e.dataset.id)))){Qd=e,Dr=wr,Cr=wr.sourceId;var t=wr.rect.width,n=wr.rect.height,a=wr.absoluteRect.x,i=wr.absoluteRect.y,o=wr.rotation,r=wr.opacity,s=wr.borderRadius,l=wr.blendMode;if(Qd.classList.add("selected"),Yc.style.top=me(i,Kd.snapshot.height),Gc.style.top="calc("+me(i+n,Kd.snapshot.height)+" - 1px)",Kc.style.left=me(a,Kd.snapshot.width),Vc.style.left="calc("+me(a+t,Kd.snapshot.width)+" - 1px)",Wc.classList.remove("hidden"),_c.addEventListener("mouseover",ra),document.addEventListener("keydown",sa),document.addEventListener("keydown",la),document.addEventListener("keyup",sa),Nl.textContent=wr.name,Fl.textContent=de(a),Pl.textContent=de(i),Rl.textContent=de(t),Bl.textContent=de(n),Ml.textContent=o||"",Ul.textContent=1===r?"":Math.round(100*r)+"%",Hl.textContent=de(0===s?null:s),zl.textContent="normal"===l?"":l,Xl.innerHTML="",wr.borders.forEach(da),Kl.classList.toggle("hidden",!wr.borders.length),$l.innerHTML="",wr.shadows.forEach(Ze),Jl.classList.toggle("hidden",!wr.shadows.length),wr.blur?(ec.textContent=wr.blur.type,tc.textContent=de(wr.blur.radius),Ql.classList.remove("hidden")):Ql.classList.add("hidden"),"text"===wr.type?va(new Qr.a(wr)):fd.classList.add("hidden"),Il.classList.toggle("textLayer","text"===wr.type),wr.exportable){var c=Kd.snapshot.assets.find(function(e){return e.layerId?e.layerId===wr.sourceId:e.layerName===wr.name});if(c){var u=it(c.contents);u?Sa().then(function(e){ja(wr,u,c,e)}):(nc.classList.add("hidden"),pd.classList.add("hidden"))}else nc.classList.add("hidden"),pd.classList.add("hidden")}else nc.classList.add("hidden"),pd.classList.add("hidden");wr.fills.length?(Gl.innerHTML="",wr.fills.forEach(function(e){ze(e,Gl)}),Vl.classList.remove("hidden")):Vl.classList.add("hidden"),_a(),ml.classList.remove("resourceView"),ml.classList.add("layerView")}}function La(e){for(var t={},n=new Set,a=0;a<e.contents.length;a++){var i=e.contents[a];i.format in t?t[i.format]++:t[i.format]=1,n.add(i.density)}return!("jpg"in t)||"svg"in t||"pdf"in t||t.jpg!==t.png?"svg"in t?wa(e.contents.find(function(e){return"svg"===e.format})):Promise.resolve():Da(e,n)}function wa(e){return e.optimized=Object.assign({},e,{url:Zeplin.urls.imgURL+"/svgo/"+encodeURIComponent(e.url)}),Promise.all([Ca(e),Ca(e.optimized)]).then(function(t){e.optimized.percent=Math.round((t[0].length-t[1].length)/t[0].length*100)})}function Da(e,t){var n=0,a=0,i=0;return Promise.all(e.contents.map(Ca)).then(function(o){t.forEach(function(e){var t=o.filter(function(t){return t.density===e}).reduce(function(e,t){return e[t.format]=t.length,e},{});a+=Number(t.jpg)/Number(t.png),i+=Number(t.png)/Number(t.jpg)}),a=Math.round(100-a/t.size*100),i=Math.round(100-i/t.size*100),a>=10?n={type:"jpg",diff:a}:i>=10&&(n={type:"png",diff:i}),n&&(e.percent=n)}).catch(function(){})}function Ca(e){return fetch(e.url,{method:"HEAD"}).then(function(t){return{format:e.format,density:e.density,length:t.headers.get("Content-Length")}})}function xa(e,t){var n=t||document.getElementById(e+"Style"),a=new ns.a(n,{lineSeparator:"\n",theme:"theme-zeplin",indentUnit:2,lineWrapping:!0,lineNumbers:!0,lineNumberFormatter:function(){return"●"},readOnly:!0,cursorBlinkRate:-1,viewportMargin:1/0,styleSelectedText:!0});"layer"===e?yr=a:"guideline"===e?(vr=a).on("update",function(){var e=bc.querySelectorAll(".cm-comment");if(e&&e.length)for(var t=[hu,yu],n=yc.getBoundingClientRect(),a=0;a<t.length;a++){var i=e[a].getBoundingClientRect();t[a].style.top=i.top-n.top+bc.scrollTop-45+"px"}}):"asset"===e?Sc.push(a):"textLayer"===e&&(br=a)}function ka(e){return Promise.all(e.map(function(e){return Zr.b.get(Zd.pid,e)}))}function Ta(e){Zm=null;var t=Rr.layer(e);if(t)return Zm=t.options,{mode:t.mode,content:t.code}}function _a(){if(wr){var e=Ta(new Qr.a(wr));e?(Ud.classList.add("visible"),yr.setOption("mode",Ap[e.mode]),yr.setValue(e.content),pc.value=e.content,yr.refresh()):Ud.classList.remove("visible")}}function qa(e,t){var n="<"+e+">"+t+"</"+e+">";fd.classList.remove("hidden"),br.setOption("mode","text/html"),br.setValue(n),hd.value=n,br.refresh()}function Oa(e,t,n,a){if(!n.pdf){var i="img/"+encodeURIComponent(st(t,a)),o=zr.z(e.name).replace(".","")||"layer",r=0;pd.classList.remove("hidden");var s=Object.keys(n);s.forEach(function(e){var t="";"png"===e?t='<img src="'+i+'.png"\n     srcset="'+i+"@2x.png 2x,\n             "+i+'@3x.png 3x"\n     class="'+o+'">':"svg"===e?t='<img src="'+i+'.svg"\n     class="'+o+'">':"jpg"===e&&(t='<img src="'+i+'.jpg"\n     srcset="'+i+"@2x.jpg 2x,\n             "+i+'@3x.jpg 3x"\n     class="'+o+'">'),Aa(e,t,r),r++}),document.querySelector(".assetStyle.secondary").classList.toggle("hidden",1===s.length),document.querySelector(".assetStyle.primary").classList.toggle("singleStyle",1===s.length)}}function Aa(e,t,n){var a=!1;Array.from(document.querySelectorAll(".assetStyle")).forEach(function(i){if(!(a||i.dataset.exportType&&i.dataset.exportType!==e)){a=!0,t="\x3c!-- "+e+" --\x3e\n\n"+t,i.dataset.exportType=e,i.querySelector("button").dataset.exportType=e;var o=Sc[n];o.setOption("mode","text/html"),o.setValue(t),i.querySelector("textarea").value=t,o.refresh()}})}function Ia(e,t,n,a){var i,o,r,s=Rr.styleguideColors(t),l=Rr.styleguideTextStyles(a);return Wm=s.options,i=s.code,o=l.code,r=Rr.comment(e)+"\n\n"+i+"\n\n"+Rr.comment(n)+"\n\n"+o,{mode:s.mode,colorStyle:i,textStyle:o,allStyles:r}}function Na(){mc.classList.remove("hidden"),Np[1].name=Ip[jr.type],document.querySelector(".sampleColors .color:nth-child(2) .colorName").textContent=Ip[jr.type];var e,t="color palette";jr.colors&&jr.colors.length?(e=jr.colors,bc.classList.add("projectColor")):(e=Np,t="sample "+t);var n,a="text styles";jr.textStyles&&jr.textStyles.length?(n=jr.textStyles,bc.classList.add("projectTextStyle")):(n=Fp[jr.type],a="sample "+a);var i=Ia(zr.G(t),e,zr.G(a),n);gc.value=i.colorStyle,fc.value=i.textStyle,vr.setOption("mode",Ap[i.mode]),vr.setValue(i.allStyles),hc.value=i.allStyles,vr.refresh()}function Fa(){return document.querySelector('input[type="radio"][name="dotListingsStatusFilter"]:checked').value}function Pa(e,t){e&&(t&&(document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+e+'"]').checked=!0),Oc.dataset.statusFilter=e,Oe(Gd.dots),Zr.b.set(Zd.pid,"dotListingsStatusFilter",e))}function Ra(e){"web"===jr.type&&Jo(e)}function Ba(){for(var e=0;e<wc.childElementCount;e++){var t=parseFloat(wc.children[e].value);if(t>am){am=t;break}}Tc.classList.add("zooming"),St()}function Ma(){for(var e=wc.childElementCount-1;e>=0;e--){var t=parseFloat(wc.children[e].value);if(t<am){am=t;break}}Tc.classList.add("zooming"),St()}function Ua(){Cc.checked=!0,Oc.classList.remove("invisible"),Oc.addEventListener("transitionend",function e(){Oc.removeEventListener("transitionend",e),setTimeout(function(){Oc.classList.remove("flashing")},200)}),Oc.classList.add("flashing"),Tc.classList.add("noteMode"),Rp=!0}function Ha(){Tc.classList.remove("noteMode"),Rp=!1}function za(e){var t=e.getBoundingClientRect(),n=Ac.getBoundingClientRect(),a=Up,i=Up,o=Zp,r=!1;t.right<=0?(r=!0,a=Up):t.left>=kc.offsetWidth?(r=!0,a=kc.offsetWidth-Up-n.width):t.left<=n.width+Up+Hp?(Ac.classList.remove("left"),Ac.classList.add("right"),a=t.right+Hp):t.right+Hp+n.width+Up>=kc.offsetWidth?(Ac.classList.remove("right"),Ac.classList.add("left"),a=t.left-Hp-n.width):(Ac.classList.remove("left","right"),Ac.classList.add(e.dataset.position),a="left"===e.dataset.position?t.left-Hp-n.width:t.right+Hp),t.top<=kc.offsetTop+zp+Up?(r=!0,i=kc.offsetTop+Up):t.bottom>=window.innerHeight-zp?(r=!0,i=window.innerHeight-n.height-Up):t.top>=window.innerHeight-n.height+zp-Up?(i=window.innerHeight-n.height-Up,o=t.top-i+Up):t.top+n.height-Zp>window.innerHeight?(r=!0,i=window.innerHeight-n.height-Up):i=t.top-zp,Ac.classList.toggle("overflown",r),Ac.style.transform="translate("+a.toFixed()+"px, "+i.toFixed()+"px)",Ic.style.top=o+"px"}function Za(){im&&!Wp&&(requestAnimationFrame(function(){za(im),Wp=!1}),Wp=!0)}function Wa(){Ac.classList.remove("hidden"),za(im),kc.addEventListener("scroll",Za)}function Ya(e){var t=(e=new URL(e)).origin===location.origin,n="zpl:"===e.protocol;if(t||n){var a={};if(e.hash||n){var i=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace("&amp;","&").substring(1),o=zr.t(i);if(!("pid"in o))return;return a.url={pid:o.pid[0]},"sid"in o?a.url.sid=o.sid[0]:t&&"styleguide"in o||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?a.subpage="styleguide":a.subpage="dashboard",a}var r=g(e.pathname);if(r){Object.assign(a,{url:r});var s=e.pathname.match(/\/(dashboard|styleguide)$/);return s&&(a.subpage=s[1]),e.search&&Object.assign(a,zr.t(e.search.replace("&amp;","&"))),a}}}function Va(e){return function(t){switch(t.getType()){case"url":if(t.protocolRelativeMatch)return!1;var n=Ya(t.getUrl());if(n&&"pid"in n.url&&n.url.pid===jr.id){var a="project-dashboard",i="Dashboard",o=["link"];if("sid"in n.url){a="project-screen";var r=jr.screens.find(function(e){return e._id===n.url.sid});o.push("screenLink"),i=r?r.name:"unknown"}return"subpage"in n&&"styleguide"===n.subpage&&(a="project-styleguide",i="Styleguide"),delete n.subpage,e.push('<a href="'+zr.H(a,n)+'" class="'+o.join(" ")+'" data-link-type="inApp">'+i+"</a>"),"{{link:"+(e.length-1)+"}}"}var s=t.buildTag();return s.setAttr("rel","nofollow external noopener noreferrer"),e.push(s.toAnchorString()),"{{link:"+(e.length-1)+"}}";case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function Ga(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=jr.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=jr.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})}function Ka(e){return e.replace(kr,function(e){return'<span class="user'+(rm.test(e)?" self":"")+'">'+e+"</span>"})}function Xa(e,t){var n=[],a=new is.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:Va(n)});return(t=t||[]).reduce(function(e,t){return t(e)},a.link(zr.f(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function Ja(e){return Xa(e,[ms.formatEmojiString,zr.D])}function $a(e){return Xa(e,[Ga,Ka,ms.formatEmojiString,zr.D])}function Qa(){Bc.textContent=Fc.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function ei(e,t,n){delete e.status;var a=document.importNode(Yp.content,!0);ti(a.querySelector(".comment"),e,t,n),Fc.appendChild(a);var i=Fc.lastElementChild,o=i.querySelector(".commentNote"),r=i.querySelector(".commentMirror");return o.addEventListener("input",function(){oi(o,r,i)}),o.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:oi(o,r,i)}}),i}function ti(e,t,n,a){zr.A(e.querySelector(".commentAuthorImage"),t.author),e.querySelector(".commentAuthorName").textContent=t.author?t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);var i=new Date(t.created),o=new Date(t.updated);e.querySelector(".commentLink").href=zr.H("project-screen",{url:{pid:jr.id,sid:n},query:{did:a,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",i);var r=e.querySelector(".commentMirror");r.innerHTML=$a(t.note),r.classList.toggle("jumboEmojis",xe(r,t.note)),e.querySelector(".commentEdited").setAttribute("datetime",o-i>3e5?o:"")}function ni(e,t,n){var a=ms.formatEmojiString(Uc.value.trim(),!0);if(ms.close(),ps.close(),a){var i=e._id,o=t._id,r=ei({author:{_id:Zeplin.user._id,email:Zeplin.user.email,username:Zeplin.user.username,emotar:Zeplin.user.emotar,avatar:Zeplin.user.avatar},note:a,created:Date.now(),updated:Date.now()},i,o);za(document.querySelector(".dot[data-id='"+o+"']")),r.classList.add("loading"),zr.x(r),Qa(),Pc.classList.remove("composing"),fetch(Zeplin.urls.baseURL+"/v2/projects/"+jr.id+"/screens/"+i+"/dots/"+o+"/comments",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({note:a})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(i){t.comments.push(i),Oe(e.dots),Mc.innerHTML="&nbsp;",Uc.value="",r.dataset.id=i._id,r.classList.remove("loading"),n?mixpanel.track("Created comment with reaction",{reaction:a}):mixpanel.track("Created comment")}).catch(function(e){r.remove(),Pc.classList.add("composing"),Uc.focus(),Wr.b(e)})}}function ai(e,t,n,a){var i=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),r=ms.formatEmojiString(o.value.trim(),!0);if(ms.close(),ps.close(),r&&(i.innerHTML=$a(r),i.classList.toggle("jumboEmojis",xe(i,r)),e.classList.remove("editing"),Pc.classList.remove("hidden"),za(im),a.note!==r)){var s=t._id,l=n._id,c=e.dataset.id;e.classList.add("loading"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+s+"/dots/"+l+"/comments/"+c+"/note",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({note:r})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){a.note=r,Oe(t.dots),ti(e,a,s,l),e.classList.remove("loading"),mixpanel.track("Edited comment")}).catch(function(t){e.classList.remove("loading","jumboEmojis"),e.classList.add("editing"),Pc.classList.add("hidden"),o.focus(),Wr.b(t)})}}function ii(e,t,n){var a=t._id,i=n._id,o=e.dataset.id,r=Oc.querySelector(".dot[data-id='"+i+"']");1===n.comments.length?(Vn(),r.classList.add("hidden")):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+a+"/dots/"+i+"/comments/"+o,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){1===n.comments.length?(bi(t,i),r.remove(),Xd=null,im=null,Fc.innerHTML="",Fc.scrollTop=0):(vi(n,o),e.remove(),Qa(),za(r)),Oe(t.dots),mixpanel.track("Deleted comment")}).catch(function(t){1===n.comments.length?(Ac.classList.remove("hidden"),r.classList.remove("hidden")):e.removeAttribute("style"),Wr.b(t)})}function oi(e,t,n){if(t.innerHTML=zr.f(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var a=zr.h(e.value.substring(0,e.selectionStart),!0),i=e.value.charAt(a);if("@"===i){var o=ps.manageSuggestedUsers(e,t,jr);o&&ri(o,n,ps)}else if(":"===i){var r=ms.manageSuggestedEmojis(e,t);r&&ri(r,n,ms)}else ps.close(),ms.close()}}function ri(e,t,n){e.style.top="",e.style.bottom="",t.appendChild(e),n.open(),e.getBoundingClientRect().bottom+12>=window.innerHeight?(e.style.bottom=Ac.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=t.getBoundingClientRect().top-Ac.getBoundingClientRect().top+t.offsetHeight+"px",e.style.bottom="")}function si(e){var t=new URL(e.url);ui(t.toString()).then(function(t){var n=new URL(t);e.shortUrl=t,Zs.textContent=n.host+n.pathname,Zs.classList.remove("fetching")}).catch(function(){e.shortUrl=t.toString(),Zs.textContent=t.host+t.pathname,Zs.classList.remove("fetching")})}function li(e){var t=e._id,n=new URL(zr.H("project-screen",{url:{pid:jr.id,sid:t}}));(e.url?Promise.resolve(e.url):ui(n.toString()).catch(function(){return n.toString()})).then(function(t){var n=new URL(t);e.url=t,Dd.querySelector(".screenLink.web").classList.remove("fetching"),Dd.querySelector(".screenLink.web").textContent=n.host+n.pathname}),Dd.querySelector(".screenLink.app").classList.remove("fetching"),Dd.querySelector(".screenLink.app").textContent="zpl://screen?pid="+jr.id+"&sid="+t,Dd.querySelector(".openInApp").href="zpl://screen?pid="+jr.id+"&sid="+t}function ci(){ui(jr.sceneUrl,"scene").then(function(e){jr.sceneUrl=e,Gu.textContent=e,Ku.href=e}).then(function(){zu.classList.remove("loading"),Zu.disabled=!1,Vu.classList.add("hidden"),Yu.classList.remove("hidden")})}function ui(e,t){var n=Zeplin.urls.baseURL+"/urls"+(t?"?path="+t:"");return fetch(n,{method:"POST",headers:Zeplin.headers,body:JSON.stringify({url:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(e){return e.url}).catch(function(e){throw Wr.b(e),e})}function di(e){var t="#text"===e.target.nodeName?e.target.nextElementSibling?e.target.nextElementSibling:e.target.parentElement:e.target,n=(t.id?t.id:t.className).replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}).replace(/^./,function(e){return e.toUpperCase()}).replace(/ with label$/,"");n&&-1===["Sidebar row","No border","No screen colors","No screen assets","No color message"].indexOf(n)&&mixpanel.track("Copied something from "+e.currentTarget.id.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),{type:n})}function mi(){"web"===jr.type?mixpanel.track("Copied layer style",{type:Rr.name,showDimensions:Rr.getOption("showDimensions"),unitlessLineHeight:Rr.getOption("unitlessLineHeight"),useMixin:Rr.getOption("mixin"),showDefaultValues:Rr.getOption("defaultValues")}):"ios"!==jr.type&&"osx"!==jr.type||mixpanel.track("Copied attributed string style",{type:Rr.name,deploymentTarget:Rr.getOption("deploymentTarget")})}function pi(e){mixpanel.track("Copied asset style",{type:e})}function gi(){mixpanel.track("Copied text layer style html")}function fi(e){mixpanel.track("Selected asset naming convention",{projectType:jr.type,convention:e})}function hi(){var e=document.querySelector(".colorMenu");e&&e.remove()}function yi(e){var t,n,a;if("color"===e?(t=Rr.exportStyleguideColors(jr.colors),n="colors_"+jr.name+".zip",a="color"):(t=Rr.exportStyleguideTextStyles(jr.textStyles),n="textstyles_"+jr.name+".zip",a="text styles"),Array.isArray(t)){var i=new rs.a;t.forEach(function(e){i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(function(e){$e({data:URL.createObjectURL(e),name:n})})}else $e({data:URL.createObjectURL(new Blob([t.code],{type:Om[t.mode]})),name:t.filename});to(a,jr.type,Rr.name)}function bi(e,t){return zr.b(e.dots,function(e){return e._id===t})}function vi(e,t){return zr.b(e.comments,function(e){return e._id===t})}function ji(e){jr.removeTextStyle(e);var t=ma(e);if(t&&(t.removeAttribute("data-id"),t.classList.remove("added"),pa(t,{name:""}),T(t.querySelector(".addTextStyle"),!1)),jr.textStyles.length){var n=ou.querySelector(".font[data-id='"+e+"']");n&&n.remove()}else ou.innerHTML="";Na(),_a(),Re()}function Si(e){window.Notification&&"granted"===Notification.permission&&Zr.c.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+ls()(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function Ei(e){jr.name=e,z(),Ns.value=e}function Li(e){B(e),Gd&&(_t(Kd.snapshot,"density"),Et(Kd.snapshot.grid)),_a(),Na(),Re()}function wi(e){e=e.toLowerCase();var t,n=[],a=[],i=[],o=[];jr.screens.forEach(function(r){var s=r.name.toLowerCase();s.startsWith(e)?n.push(r):zr.E(s,e)?a.push(r):(t=xi(r,e))?i.push(Object.assign({filterTag:t},r)):s.includes(e)&&o.push(r)}),lm=n.sort(zr.C.name).concat(a.sort(zr.C.name)).concat(i.sort(zr.C.name)).concat(o.sort(zr.C.name)),pu.classList.toggle("noScreen",!lm.length),du.innerHTML="",lm.forEach(Di),lm.length&&(Tr=lm[0],du.querySelector(".screenSuggestion[data-id='"+Tr._id+"']").classList.add("selected"))}function Di(e,t){var n=document.importNode(Kp.content,!0),a=n.querySelector(".screenSuggestion");a.dataset.id=e._id,a.dataset.index=t,n.querySelector(".screenName").textContent=e.name,n.querySelector(".tagName").textContent=e.filterTag||"",du.appendChild(n)}function Ci(){uu.value="",uu.blur(),du.innerHTML="",cu.classList.add("hidden")}function xi(e,t){return e.tags&&e.tags.find(function(e){return e.toLowerCase().includes(t)})}function ki(e){e.target.parentElement.classList.contains("added")?Ti(e.target.parentElement):_i(e)}function Ti(e){if(zr.u.canManageColors(Sr)){var t=e.dataset.id;"colorPalette"===e.parentElement.id?e.classList.add("hidden"):e.classList.remove("added"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){cm=!0,Oi(e.dataset.id)}).catch(function(t){Wr.b(t),cm=!0,"colorPalette"===e.parentElement.id?e.classList.remove("hidden"):(e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"))})}}function _i(e){if(zr.u.canManageColors(Sr)){var t=e.target.parentElement,n=new Jr.a(JSON.parse(t.dataset.rgbcolor)),a={r:n.r,g:n.g,b:n.b,a:n.a,name:jr.getColorName(n)};t.querySelector(".colorName").value="#"+a.name,t.classList.add("added"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(e){cm=!0,a._id=e._id,qi(a),zr.B("Added to Styleguide!",ml)}).catch(function(e){Wr.b(e),cm=!0,t.querySelector(".colorName").value="",t.classList.remove("added")})}}function qi(e){var t=new Jr.a(e);jr.addColor(t),Me(t);var n=document.querySelectorAll(".color[data-color='"+t.toHexString()+"']");Array.from(n).forEach(function(e){e.dataset.id=t.id,e.querySelector(".colorName").value="#"+t.name,e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"),k(e.querySelector(".addColor"),!0)}),_a(),Na(),Re(),Xn()}function Oi(e){jr.removeColor(e);var t=ml.querySelectorAll(".color[data-id='"+e+"']");if(Array.from(t).forEach(function(e){e.querySelector(".colorName").value="",e.classList.remove("added"),k(e.querySelector(".addColor"),!1)}),jr.colors.length){var n=dl.querySelector(".color[data-id='"+e+"']");n&&n.remove()}else dl.innerHTML="";_a(),Na(),Re(),Xn()}function Ai(e,t){jr.updateColor(e,t);var n=dl.querySelector(".color[data-id='"+e+"']");if("name"in t){var a=ml.querySelectorAll(".color[data-id='"+e+"'] .colorName");Array.from(a).forEach(function(e){e.value="#"+t.name}),n.querySelector(".colorName").value=t.name}if("r"in t||"g"in t||"b"in t||"a"in t){var i=jr.findColorById(e),o=ml.querySelectorAll(".color[data-id='"+e+"']");Array.from(o).forEach(function(e){e.querySelector(".colorName").textContent="",e.classList.remove("added"),e.removeAttribute("data-id"),k(e.querySelector(".addColor"),!1)}),o=ml.querySelectorAll(".color[data-color='"+i.toHexString()+"']"),Array.from(o).forEach(function(t){t.querySelector(".colorName").value="#"+i.name,t.classList.add("added"),t.dataset.id=e,k(t.querySelector(".addColor"),!0)}),n.querySelector(".colorPreview").style.backgroundColor=i.toCSS(),n.querySelector(".colorHex").value=i.hexBase(),n.querySelector(".colorAlpha").value=Math.round(100*i.a),n.querySelector(".colorRGB").textContent=i.toRGBAString()}_a(),Na(),Re(),Xn()}function Ii(e,t,n){if(zr.u.canManageColors(Sr)){var a=n.dataset.id;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/colors/"+a,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){Ai(a,e)}).catch(function(e){Wr.b(e),n.querySelector(".colorName").value=(n.querySelector(".colorNameForm")?"#":"")+t.name,n.querySelector(".colorHex").value=t.hexBase(),n.querySelector(".colorAlpha").value=t.a?100*t.a:100})}}function Ni(e){Uo();var t=document.importNode(Xp.content,!0),n=t.querySelector(".memberMenu"),a=e.dataset.id;n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"assign":Pi(a,"admin",e);break;case"unassign":Pi(a,"user",e);break;case"transfer":Ur.a({message:'Transfer ownership of "'+jr.name+'" to '+e.querySelector(".memberName").textContent+"?",done:{name:"TRANSFER",cb:function(){Bi(a)}},cancel:{name:"CANCEL"}});break;case"remove":var i,o;a===Zeplin.user._id?(i='Leave "'+jr.name+'"?',o="LEAVE"):(i='Remove "'+e.querySelector(".memberName").textContent+'" ?',o="REMOVE"),Ur.a({message:i,done:{name:o,cb:function(){Ri(a)}},cancel:{name:"CANCEL"}})}setTimeout(function(){Fi()},80)}}});var i=Te(a);zr.q(jr)?(n.querySelector(".menuitem[data-action='assign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='unassign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='transfer']").classList.add("hidden")):(n.querySelector(".menuitem[data-action='assign']").classList.toggle("hidden","user"===Sr.role||"user"!==i.role),n.querySelector(".menuitem[data-action='unassign']").classList.toggle("hidden","user"===Sr.role||"admin"!==i.role),n.querySelector(".menuitem[data-action='transfer']").classList.toggle("hidden",!zr.u.canTransferOwnership(Sr))),n.querySelector(".menuitem[data-action='remove']").classList.toggle("hidden","owner"===i.role||zr.u.isSuperior(i,Sr)),e.classList.add("memberMenuOpen"),e.appendChild(t)}function Fi(){var e=document.querySelector(".memberMenu");e&&(e.parentElement.classList.remove("memberMenuOpen"),e.remove())}function Pi(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e+"/role",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({role:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){n.dataset.role=t,jr.changeUserRole(e,t),p(jr.users)}).catch(Wr.b)}function Ri(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){jr.removeUser(e),e===Zeplin.user._id?(Vn(),W()):(p(jr.users),Yr.d(jr.id,e))}).catch(Wr.b)}function Bi(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/users/"+e+"/ownership",{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){jr.changeUserRole(Zeplin.user._id,"admin"),jr.changeUserRole(e,"owner"),p(jr.users)}).catch(Wr.b)}function Mi(e,t,n){zr.u.canManageScreens(Sr)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).catch(function(t){jr.screens.find(function(t){return t._id===e}).name=n,In().then(function(){Wr.b(t,{dialogCallback:function(){var t=le(e);t.querySelector(".screenNameMirror").classList.add("hidden"),zr.m(t.querySelector(".screenName"))}})})})}function Ui(e){zr.u.canUpdateProject(Sr)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/name",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(e){Ei(e.name),U(e.prefix,!0,!0)}).catch(function(e){Wr.b(e,{dialogCallback:function(){zr.m(Ns)}})})}function Hi(e){if(zr.u.canUpdateProject(Sr)){var t=po(e),n=le(e),a=Od.querySelector(".screen.thumbnail");return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/thumbnail",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({thumbnail:t.versions[0].snapshot.url})}).then(function(){jr.thumbnail=t.versions[0].snapshot.url,a&&a.classList.remove("thumbnail"),n&&n.classList.add("thumbnail")})}}function zi(e){var t=po(e);return Ye(t.versions[0].snapshot).then(function(e){var n=new Blob([e.data],{type:Om.png});return{name:t.name+".png",blob:n}})}function Zi(e){if(document.body.classList.contains("canDownload"))zi(e).then(function(e){return $e({data:URL.createObjectURL(e.blob),name:e.name})});else{var t=po(e).versions[0].snapshot.url;t.includes("raven-warehouse")||(t="https://cdn.zeplin.io"+new URL(t).pathname),s(t)}}function Wi(e,t,n,a,i,o,r){function s(t){var n=t._id||t.pid;return("unknown"===t.density?M(n,l):Promise.resolve()).then(function(){return Cs.h(jr.id,n,[e])})}var l=jr.density,c="create"===t.type?"a new project":'"'+t.name+'"';Ur.a({message:'Move selected screen from "'+jr.name+'" to '+c+"?",done:{name:"MOVE",cb:function(){a(n);var e;switch(t.type){case"create":e=Cs.a(t.oid,jr.type,zr.j(),l);break;case"project":e=Promise.resolve(t)}e.then(s).then(r).catch(nn).then(i,i)}},cancel:{name:"KEEP",cb:function(){o&&o()}}})}function Yi(e,t){var n=vs.a.h(js.a,{top:t.top,left:t.left,density:jr.density,projectType:jr.type,projectsLoader:tn,onOpen:function(){_s.classList.add("noScroll")},onMove:function(t,n,a,i,o){Wi(e.dataset.id,t,n,a,i,o,function(){mixpanel.track("Moved screens to project");var t=jr.findScreenSection(e.dataset.id);jr.removeScreen(t._id,e.dataset.id),Be(),Pn(zt())})},onClose:function(){e.classList.remove("menuOpen"),_s.classList.remove("noScroll")}});return vs.a.render(n,document.body)}function Vi(e){if(e){var t=e.getBoundingClientRect();Yi(e,{top:t.top+t.height/2,left:t.left+172})}}function Gi(e){var t=le(e),n=jr.findScreenSection(e);return t&&t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){jr.removeScreen(n._id,e)},function(e){Wr.b(e),t&&t.classList.remove("hidden")})}function Ki(e,t){var n=Rd.querySelector(".integration[data-id='"+t+"']");n&&n.classList.add("hidden"),Cs.c(jr.id,e,t).then(function(){n&&n.remove(),jr.removeIntegration(e,t),jr.integration[e].length||(Rd.classList.add("hidden"),wd.classList.remove("hidden"))}).catch(function(e){Wr.b(e),n&&n.classList.remove("hidden")})}function Xi(){var e=document.querySelector(".slackSettingsMenu");e&&(e.parentElement.classList.remove("slackMenuOpen"),e.remove())}function Ji(e){Rd.innerHTML="",e.reverse().forEach($i),wd.classList.add("hidden"),Rd.classList.remove("hidden")}function $i(e){var t=document.importNode($p.content,!0).querySelector(".integration"),n=t.querySelector(".slackChannel"),a=new URL(e.incomingWebHook.configurationURL),i=t.querySelector(".slackSettingsButton"),o=zr.u.canUpdateProject(Sr);i.classList.toggle("disabled",!o),o?(i.removeAttribute("data-tooltip"),i.removeAttribute("data-tooltip-type")):(i.dataset.tooltip=d(Sr,"update Slack integration."),i.dataset.tooltipType="html"),n.textContent=e.incomingWebHook.channel,n.href=a.origin+"/messages/"+(e.incomingWebHook.channelId||e.incomingWebHook.channel.replace("#","")),t.dataset.id=e._id,Rd.appendChild(t)}function Qi(e,t){t.value=t.value.trim();var n=jr.findTextStyleById(e),a=t.value;a.length?n.name!==a&&lo(e,{name:a}):t.value=n.name}function eo(e,t,n){if(t.name!==e){var a=(n.querySelector(".colorNameForm")?"#":"")+t.name;e&&!Nm[jr.type].test(e)?jr.checkDuplicateColorName(e,t)?(Ur.a({title:e+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),n.querySelector(".colorName").value=a):Ii({name:e},t,n):n.querySelector(".colorName").value=a}}function to(e,t,n){mixpanel.track("Exported styleguide "+e,{projectType:Br.b[t],type:n})}function no(e){jr.addTextStyle(e),Na(),_a(),Re();var t=ma(e);t&&(t.classList.add("added"),pa(t,{name:e.name}),t.dataset.id=e._id,T(t.querySelector(".addTextStyle"),!0))}function ao(e){if(zr.u.canManageTextStyles(Sr))return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(function(e){var t={};return["name","fontFace","fontSize","lineHeight","letterSpacing","textAlign","color"].forEach(function(n){t[n]=e[n]}),t}(e))}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(t){e._id=t._id,no(e)})}function io(e){if(zr.u.canManageTextStyles(Sr)){var t=new Qr.a(wr).textStyles[e.dataset.index],n=t&&t.font;return n.name=jr.getTextStyleName(),um=!1,e.classList.add("added"),pa(e,{name:n.name}),ao(n).then(function(e){um=!0,zr.B("Added to Styleguide!",ml),_a()}).catch(function(t){Wr.b(t),um=!0,e.classList.remove("added"),pa(e,{name:""})})}}function oo(e){if(zr.u.canManageTextStyles(Sr))return fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){ji(e)})}function ro(e){return oo(e).catch(function(e){Wr.b(e)})}function so(e){return um=!1,e.classList.remove("added"),oo(e.dataset.id).then(function(){um=!0}).catch(function(t){Wr.b(t),e.classList.add("added"),um=!0})}function lo(e,t){zr.u.canManageTextStyles(Sr)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/textStyles/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){jr.updateTextStyle(e,t),Na(),_a(),Re(),"name"in t&&Zl&&1===Zl.querySelectorAll(".textStyleWrapper").length&&zr.p(t.name)?qa(t.name,Yl.textContent):fd.classList.add("hidden")}).catch(function(n){Wr.b(n);var a=document.querySelector(".font[data-id='"+e+"']");"name"in t&&zr.m(a.querySelector(".styleName")),"color"in t&&a.querySelector(".colorContainer").classList.remove("hidden")})}function co(){var e=document.querySelector(".textStyleMenu");e&&e.remove()}function uo(e,t){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return!0;return!1}function mo(e,t,n){if(!bu.classList.toggle("taglessProject",0===e.length&&!n)){t=t||[],Cu.innerHTML="";var a=0;eg=0,e.forEach(function(e){if(-1===t.indexOf(e)&&(!n||-1!==e.toLowerCase().indexOf(n.toLowerCase()))){var i=document.importNode(wu.content,!0);0===Cu.childElementCount&&i.querySelector(".tagSuggestion").classList.add("selected"),i.querySelector(".tagSuggestion").dataset.tag=zr.f(e),i.querySelector(".tagSuggestion").dataset.suggestionIndex=a,a++,i.querySelector(".tagSuggestion .tagSuggestionText").textContent=e,Cu.appendChild(i)}}),!n||uo(e,n)?(vu.classList.add("hidden"),vu.classList.remove("selected")):(vu.classList.remove("hidden"),vu.dataset.suggestionIndex=a,vu.dataset.tag=zr.f(n),ju.textContent=n,vu.classList.toggle("selected",0===Cu.childElementCount)),bu.classList.toggle("taglessScreen",0===t.length)||(Du.innerHTML="",t.forEach(function(e){var t=document.importNode(Lu.content,!0);t.querySelector(".tagOfScreen").dataset.tag=zr.f(e),t.querySelector(".tagButtonText").textContent=e,Du.appendChild(t)}))}}function po(e){if(jr.screens)return jr.screens.find(function(t){return t._id===e})}function go(e){zr.u.canManageScreens(Sr)&&(_r=0,qr=0,Kn(),Uo(),bu.classList.remove("hidden"),bu.dataset.sid=e,ku.value="",ku.focus(),mo(jr.tags,po(e).tags))}function fo(){ku.value="",ku.blur(),bu.classList.add("hidden")}function ho(e){Gd&&yt(po(Gd._id)),Be(),e&&("dashboard"===$d?Rn():In()),bu.classList.contains("hidden")||mo(jr.tags,po(bu.dataset.sid).tags,ku.value)}function yo(e){zr.u.canManageScreens(Sr)&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/tags",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).catch(function(t){Wr.b(t),e.forEach(function(e){var t=po(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags),Ut()}),ho()})}function bo(e,t,n){zr.u.canManageScreens(Sr)&&(ku.value="",yo([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),Ut(),ho(Zt()||"remove"===n&&!!Os.querySelector(".tag.selected[data-tag='"+zr.f(t)+"']")))}function vo(e){var t=Eu.querySelector(".tagSuggestion[data-suggestion-index='"+e+"']");t&&(Eu.querySelector(".tagSuggestion.selected").classList.remove("selected"),t.classList.add("selected"),zr.x(t),eg=e)}function jo(e){zr.u.canManageScreens(Sr)&&(yo(jr.deleteTag(e)),ho(Zt()||!!Os.querySelector(".tag.selected[data-tag='"+zr.f(e)+"']")))}function So(){var e=document.querySelector(".tagMenu");e&&e.remove()}function Eo(e){var t=jr.screens.filter(Wt([e]));return 0!==t.length&&t.every(function(e){var t=jr.findScreenSection(e._id);return jr.isDefaultSection(t._id)})}function Lo(e,t){var n=new rs.a,a=e.map(zi),i=[];Promise.all(a).then(function(e){if(1===e.length){var a=e[0];return t=a.name,a.blob}return e.forEach(function(e){var t=e.name,a=e.blob;if(i[t]>0){var o=i[t];i[t]++,t=t.replace(/(.*)\.(.*$)/,"$1 ("+o+").$2")}else i[t]=1;n.file(t,a)}),n.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:t}}).then($e)}function wo(e){return jr.screens.filter(Wt(e)).map(function(e){return e._id})}function Do(e,t,n,a){var i=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>i/2))return;t.classList.remove("collapsed"),a&&a(t)}t.style.width=e+"px",e<i?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<i/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}function Co(e,t,n){function a(t){t.preventDefault&&t.preventDefault(),Do(i="left"===e.dataset.side?t.clientX||t.changedTouches[0].clientX:window.innerWidth-(t.clientX||t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{};var i;document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(Nr,a),document.addEventListener(Fr,function n(){e.style.width=e.clientWidth+"px",Zr.b.set(Zd.pid,t,i),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),setTimeout(function(){vr.refresh(),Object.keys(Sc).forEach(function(e){Sc[e].refresh()}),yr&&yr.refresh()},8),document.removeEventListener(Nr,a),document.removeEventListener(Fr,n)})}function xo(e,t){var n=t.dataset.id;t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+e._id+"/dots/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){bi(e,n),Oe(e.dots),t.remove(),mixpanel.track("Deleted dot")}).catch(function(e){t.classList.remove("hidden"),Wr.b(e)})}function ko(){var e=document.querySelector(".dotMenu"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}function To(e){function t(t){var a=e.getBoundingClientRect();if(r){t.preventDefault();var l=Oc.getBoundingClientRect();Vn(),e.classList.add("moving"),e.style.zIndex=gm+5,pm=!0,s.x=Math.max(0,Math.min((t.clientX-l.left)/l.width,1)),s.y=Math.max(0,Math.min((t.clientY-l.top)/l.height,1)),e.dataset.position=s.x<=.5?"left":"right",e.style.left="calc("+100*s.x+"% - 13px)",e.style.top="calc("+100*s.y+"% - 13px)",n=requestAnimationFrame(function(){e.classList.toggle("overlap",Io(e))})}else o={x:Math.abs(t.clientX-a.left+13),y:Math.abs(t.clientY-a.top+13)},Math.hypot(o.x,o.y)>i&&(r=!0)}var n,a={},i=12,o={},r=!1;ko();var s=Gd.dots.find(function(t){return t._id===e.dataset.id});a.x=s.x,a.y=s.y,document.addEventListener("mousemove",t),document.addEventListener("mouseup",function i(o){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),r?(cancelAnimationFrame(n),r=!1,o.target.classList&&o.target.classList.contains("dot")||(pm=!1),e.classList.remove("moving","overlap"),e.style.zIndex=++gm,Io(e)?(e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("backToFuture")}),e.classList.remove("hover"),e.classList.add("backToFuture"),e.dataset.position=a.x<=.5?"left":"right",e.style.left="calc("+100*a.x+"% - 13px)",e.style.top="calc("+100*a.y+"% - 13px)",s.x=a.x,s.y=a.y):a.x===s.x&&a.y===s.y||Ao({x:s.x,y:s.y},a,e),a=null):Ac.classList.remove("hidden")})}function _o(e){var t=kl.lastElementChild.getBoundingClientRect();e.style.left=t.left-233+"px",e.style.top=t.top+32+"px",e.style.bottom="initial"}function qo(){Ru.classList.contains("collapsed")&&Do(300,Ru);var e,t;t=new MutationObserver(function(t){t.forEach(function(t){_o(e)})}),_o(e=Hr.a({content:"Ping ping! You can access the resolved notes from this tab.",popover:!0,anchor:"top",noControls:!0,hideCallback:function(){t.disconnect(),Zr.c.set("resolvedDotsTutorialSeen",!0)}})),t.observe(Ru,{attributes:!0,attributeFilter:["style"]}),document.body.appendChild(e),setTimeout(function(){t.disconnect(),e.remove(),Zr.c.set("resolvedDotsTutorialSeen",!0)},1e4)}function Oo(e,t){var n=Gd.dots.find(function(t){return t._id===e}),a=n.status;n.status=t;var i=document.querySelector(".dot[data-id='"+e+"']");Ac.dataset.id===e&&Vn(),mt(i),i.classList.add(t),Oe(Gd.dots),Zr.c.get("resolvedDotsTutorialSeen").then(function(e){!e&&"resolved"===t&&ml.classList.contains("resourceView")&&"dot"!==kl.dataset.selection&&qo()}),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+Gd._id+"/dots/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({status:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){return Wr.a(e.status,t)});mixpanel.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=a,i.classList.remove(t),i.classList.add(a),Oe(Gd.dots),Wr.b(e)})}function Ao(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+Gd._id+"/dots/"+n.dataset.id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){mixpanel.track("Moved dot",{distance:Math.hypot(_c.offsetWidth*(e.x-t.x),_c.offsetHeight*(e.y-t.y))/am})}).catch(function(e){n.dataset.position=t.x<=.5?"left":"right",n.style.left="calc("+100*t.x+"% - 13px)",n.style.top="calc("+100*t.y+"% - 13px)",Wr.b(e)})}function Io(e){if(document.elementsFromPoint){for(var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+13,t.top+13),a=0;a<n.length;a++)if(n[a].classList.contains("dot")&&n[a]!==e)return!0;return!1}return No(e)}function No(e){for(var t=e.getBoundingClientRect(),n=document.querySelectorAll(".dot"),a=t.left+13,i=t.top+13,o=0;o<n.length;o++){var r=n[o].getBoundingClientRect();if(n[o]!==e&&a>r.left&&a<r.right&&i>r.top&&i<r.bottom)return!0}return!1}function Fo(e){e.stopPropagation(),Uo();var t,n,a=document.importNode(Mu.content,!0).querySelector(".shortLinkMenu");t=jr.shortUrl,n="zpl://project?pid="+jr.id,Bu.classList.add("menuOpen"),a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){e.stopPropagation();var i;switch(a.dataset.action){case"copy-app-uri":i=n;break;case"copy-web-link":i=t}zr.d({content:i,toastContainer:Nu}),setTimeout(function(){Po()},80)}}}),Bu.appendChild(a)}function Po(){var e=document.querySelector(".shortLinkMenu");e&&e.remove(),Bu.classList.remove("menuOpen")}function Ro(e){fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/public",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({public:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){jr.public=e,e?ci(jr):zr.B("Unshared the Scene link.",Nu)}).catch(Wr.b)}function Bo(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}function Mo(){var e=document.querySelector(".moveToProjectPopup");e&&vs.a.render(null,e.parentElement,e)}function Uo(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(ar),Array.from(document.querySelectorAll(".exportOptionsMenu")).forEach(function(e){e.remove()}),Array.from(document.querySelectorAll(".optionsOpen")).forEach(function(e){e.classList.remove("optionsOpen")}),Yr.a(),Nu.removeEventListener("scroll",or),Fu.removeEventListener("listRefreshed",rr),hi(),co(),Jt(),So(),Fi(),ko(),Po(),Bo(),Xo(),Xi(),$t(),Mo(),ps.close(),ms.close()}function Ho(e){jr.screens.find(function(t){return t._id===e.body._id})||(e.body.dots=e.body.dots||[],e.body.tags=e.body.tags||[],e.body.versions=[e.body.latestVersion],delete e.body.latestVersion,delete e.body.versions[0].snapshot.layers,jr.addScreen(e.body),In(),"dashboard"!==$d||CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ie())}function zo(e){var t=jr.screens.find(function(t){return t._id===e.params.sid});if(t&&!t.versions.find(function(t){return t._id===e.body._id})){var n=t.versions[0]._id,a=jr.addVersion(e.params.sid,e.body),i=t.versions[0],o=le(e.params.sid);o&&(zr.v(o.querySelector(".screenImage"),e.body.snapshot,"url"),o.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated),Gd===t&&(fl.setAttribute("datetime",t.updated),(Kd._id===n||a&&a._id===Kd._id)&&(ml.classList.add("resourceView"),ml.classList.remove("layerView"),Kd=i,Ft(t),a&&a._id===Kd._id&&zr.B("Displayed version is not available anymore.",document.querySelector("main"))),xc.classList.contains("versionsShown")?(bt(t),Zr.b.set(jr.id,t._id,"versionsLastSeen",new Date(i.created))):Rt(t)))}}function Zo(){var e=arguments[arguments.length-1].body.integration.slacks.filter(function(e){return!jr.integration.slacks.find(function(t){return t._id===e._id})});e.length&&(e.forEach(function(e){jr.addIntegration("slacks",e)},jr),Ji(jr.integration.slacks),q())}function Wo(){var e=Q("slackEmojis");return(e?Promise.resolve(e):fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/integrations/slacks/emojis",{headers:Zeplin.headers}).then(function(e){if(e.ok)return e.json()}).catch(function(){})).then(function(e){e&&"emoji"in e&&hs.a.addCustomEmojis(e.emoji)})}function Yo(e){return{createScreen:"project:"+e+":createScreen",createVersion:"project:"+e+":createVersion",authSlack:"project:"+e+":authSlack"}}function Vo(){ng&&(Vr.a.ipcRenderer.removeAllListeners(ng.createScreen),Vr.a.ipcRenderer.removeAllListeners(ng.createVersion),Vr.a.ipcRenderer.removeAllListeners(ng.authSlack)),jr&&jr.id&&(ng=Yo(jr.id),Vr.a.ipcRenderer.on(ng.createScreen,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.latestVersion.creator){var t=Te(e.body.latestVersion.creator,!0);e.body.latestVersion.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if("string"==typeof e.body.latestVersion.commit.author){var n=Te(e.body.latestVersion.commit.author,!0);e.body.latestVersion.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}Ho(e)}),Vr.a.ipcRenderer.on(ng.createVersion,function(){var e=arguments[arguments.length-1];if("string"==typeof e.body.creator){var t=Te(e.body.creator,!0);e.body.creator={_id:t.user._id,email:t.user.email,username:t.user.username,emotar:t.user.emotar,avatar:t.user.avatar}}if(e.body.commit&&"string"==typeof e.body.commit.author){var n=Te(e.body.commit.author,!0);e.body.commit.author={_id:n.user._id,email:n.user.email,username:n.user.username,emotar:n.user.emotar,avatar:n.user.avatar}}zo(e)}),Vr.a.ipcRenderer.on(ng.authSlack,Zo))}function Go(e){jr.updateUserInfo(e.params.uid,e.body),p(jr.users),Xn(),Gd&&(Oe(Gd.dots),bt(Gd))}function Ko(e){function t(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void W();var n=Te(t.params.uid,!0),a=n?n.user.username:"Anonymous";Ur.a({title:a+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+a},{defer:!0}),W()}else e.removeUser(t.params.mid),p(e.users)}Or&&Br.c.unsubscribe(Or),Or="private-project@"+e.id;var n=Br.c.subscribe(Or);n.bind("UpdateProjectDensity",function(e){Li(e.body.density)}),n.bind("UpdateProjectName",function(e){Ei(e.body.name),U(e.body.prefix,!0,!0)}),n.bind("UpdateProjectPrefix",function(e){U(e.body.prefix,!0,!0)}),n.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Te(t.params.uid,!0),a=n?n.user.username:"Anonymous";Ur.a({title:a+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}W()}),n.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Te(t.params.uid,!0),a=n?n.user.username:"Anonymous";Ur.a({title:a+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}W()}),n.bind("InviteUser",function(t){e.addUser(t.body),p(e.users)}),n.bind("CreateUser",function(t){e.updateUserInfo(t.params.uid,{username:t.body.username,status:"registered"}),p(e.users)}),n.bind("UpdateUsername",Go),n.bind("UpdateEmail",Go),n.bind("UpdateUserEmotar",Go),n.bind("UpdateUserAvatar",Go),n.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&Br.a().then(function(t){var a=t.find(function(e){return e._id===n.user.paymentPlan}),i=e.allowedVersionCount;e.allowedVersionCount=a.allowedVersionCount,i>e.allowedVersionCount?(e.screens.forEach(function(t){t.versions.length>e.allowedVersionCount&&(t.versions.length=e.allowedVersionCount)}),Gd&&(Gd.versions.some(function(e){return e._id===Kd._id})||(ml.classList.add("resourceView"),ml.classList.remove("layerView"),Kd=Gd.versions[0],xc.classList.remove("oldVersion"),Ft(Gd),zr.B("Displayed version is not available anymore.",document.querySelector("main"))),Gd.versions.length===e.allowedVersionCount&&xc.classList.contains("versionsShown")&&bt(Gd))):i<e.allowedVersionCount&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),Gd&&(!Gd.totalVersionCount||Gd.totalVersionCount>i)&&Ce(Gd).then(function(e){xc.classList.contains("versionsShown")&&bt(e)}))}))}),n.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),p())}),n.bind("CreateColor",function(e){qi(e.body)}),n.bind("UpdateColor",function(e){Ai(e.params.cid,e.body)}),n.bind("DeleteColor",function(e){Oi(e.params.cid)}),n.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(Gd===n&&(z(),el.textContent=t.body.name,el.title=t.body.name),In()),"description"in t.body&&Gd===n&&(gl.value=t.body.description)}),n.bind("UpdateSectionScreens",function(t){if(e.findSection(t.params.seid)){var n=t.body.screens.filter(function(t){return!!e.findScreen(t)});Gt(t.params.seid,n,t.body.index)}}),n.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),dd.classList.contains("searching")||dd.querySelector('#sortOptions input[type="checkbox"]:checked')||In())}),n.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}Gd===n&&(yt(Gd),Ut()),bu.classList.contains("hidden")||mo(e.tags,po(bu.dataset.sid).tags,ku.value)}}),Be(),"dashboard"===$d?Rn():In()}),n.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var a=e.removeScreen(n._id,t.params.sid);if(a&&(Be(),"dashboard"===$d?Rn():In(),Gd===a)){var i=Te(t.params.uid,!0),o=i?i.user.username:"Anonymous";Ur.a({title:o+" deleted this screen",message:"You won't be able to access \""+a.name+'" from now on.'}),V(e.id,Fn())}}}),n.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),In()}),n.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),dd.classList.contains("searching")||dd.querySelector('#sortOptions input[type="checkbox"]:checked')||In()}),n.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),In())}),n.bind("DeleteSection",function(t){e.removeSection(t.params.seid),In()}),n.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did}),i=document.querySelector(".dot[data-id='"+a._id+"']");if(Object.assign(a,t.body),"color"in t.body){var o=Am[new Jr.a(t.body.color).hexBase()];Xd===a&&(pt(Ac),Ac.classList.add(o)),i&&(pt(i),i.classList.add(o),i.dataset.color=o)}"x"in t.body&&"y"in t.body&&i&&(Kn(),ko(),i.addEventListener("transitionend",function e(){i.removeEventListener("transitionend",e),i.classList.remove("backToFuture")}),i.classList.add("backToFuture"),i.dataset.position=t.body.x<=.5?"left":"right",i.style.left="calc("+100*t.body.x+"% - 10px)",i.style.top="calc("+100*t.body.y+"% - 10px)"),"status"in t.body&&(Xd===a&&Ac.classList.contains(t.body.status)&&Vn(),i&&(mt(i),i.classList.add(t.body.status))),Oe(n.dots)}}),n.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(bi(n,t.params.did),le(t.params.sid))){var a=document.querySelector(".dot[data-id='"+t.params.did+"']");a&&(im===a&&Vn(),a.remove()),Oe(n.dots)}}),n.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a,i=n.dots.find(function(e){return e._id===t.params.did});i&&1!==i.comments.length?(vi(i,t.params.cmid),a=document.querySelector(".comment[data-id='"+t.params.cmid+"']")):(bi(n,t.params.did),Xd===i&&Vn(),a=document.querySelector(".dot[data-id='"+t.params.did+"']")),a&&a.remove(),Oe(n.dots)}}),n.bind("AuthSlack",Zo),n.bind("DeleteIntegration",function(t){if(e.removeIntegration("slacks",t.params.inid),e.integration.slacks.length){var n=Rd.querySelector(".integration[data-id='"+t.params.inid+"']");n&&n.remove()}else Rd.classList.add("hidden"),wd.classList.remove("hidden")}),n.bind("CreateTextStyle",function(e){no(new $r.a(e.body))}),n.bind("UpdateTextStyle",function(t){if(e.removeTextStyle(t.params.tsid),e.addTextStyle(t.body),"name"in t.body){var n=ma(t.params.tsid);n&&pa(n,{name:t.body.name})}Na(),_a(),Re()}),n.bind("DeleteTextStyle",function(e){ji(e.params.tsid)}),n.bind("UpdateProjectAccessibility",function(t){e.public=t.body.public,e.public&&ci(e)}),n.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),p(e.users),_(),Ut(),"pawn"!==Sr.role&&Mr.a("transition")}),n.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(n){e.changeUserRole(n.user._id,n.role),n.user._id===Sr.user._id&&(Zeplin.user.paymentPlan=n.user.paymentPlan),n.user._id!==t.params.mid&&n.user._id!==t.params.uid||e.changeUserPaymentPlan(n.user._id,n.user.paymentPlan)}),p(e.users),_(),t.params.oid?te(e.id).then(function(){"pawn"===Sr.role&&(Er.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===$d&&Ft(Gd))}):(Er&&"screen"===$d&&Ft(Gd),Mr.a("transition"),Er=null)}),n.bind("RemoveUserFromProject",t),n.bind("RemoveMemberFromOrganization",t),n.bind("CreateScreenV3",Ho),n.bind("CreateVersionV2",zo),n.bind("UpdateVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),Gd===n&&xc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;var o=Am[new Jr.a(a.commit.color).hexBase()];pt(i),i.classList.add(o);var r=i.querySelector(".commitMessage");pt(r),r.classList.add(o)}}}),n.bind("UpdateVersionCommitMessageV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),Gd===n&&xc.classList.contains("versionsShown"))){var i=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!i)return;Km.get(i).value=a.commit.message}}}),n.bind("DeleteVersion",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions[0]._id;e.removeVersion(t.params.sid,t.params.vid);(!n.versions.length||n.versions.length<e.allowedVersionCount&&n.totalVersionCount>=e.allowedVersionCount?Ce(n):Promise.resolve(n)).then(function(e){var i=le(t.params.sid);i&&a===t.params.vid&&zr.v(i.querySelector(".screenImage"),n.versions[0].snapshot,"url"),Gd===n&&(Kd._id===t.params.vid&&(ml.classList.add("resourceView"),ml.classList.remove("layerView"),Kd=e.versions[0],Ft(n,Kd),zr.B("Displayed version is not available anymore.",document.querySelector("main"))),xc.classList.contains("versionsShown")?bt(e):Rt(n))})}}),n.bind("CreateDotV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});n&&n.dots&&(n.dots.push(t.body),Gd===n&&gt(t.body),Oe(n.dots));var a=t.body.comments[0];t.params.uid!==Zeplin.user._id&&rm.test(a.note)&&Si({title:a.author.username+" mentioned you",body:a.note,notifier:a.author,handler:function(){Y(zr.H("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:a._id}}))}})}),n.bind("CreateDotCommentV2",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o,r=i._id;i.comments.push(t.body),Oe(n.dots),Xd===i&&(o=ei(t.body,n._id,r)),a&&Gd===n&&Xd===i&&(j(o),za(document.querySelector(".dot[data-id='"+r+"']")))}}a&&rm.test(t.body.note)&&Si({title:t.body.author.username+" mentioned you",body:t.body.note,notifier:t.body.author,handler:function(){Y(zr.H("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}),n.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var i=n.dots.find(function(e){return e._id===t.params.did});if(i){var o=i.comments.find(function(e){return e._id===t.params.cmid}),r=new Date(o.created),s=t.body.updated?new Date(t.body.updated):new Date;if(o.note=t.body.note,o.updated=s,Oe(n.dots),a&&Gd===n&&Xd===i){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']"),c=l.querySelector(".commentMirror");c.innerHTML=$a(t.body.note),c.classList.toggle("jumboEmojis",xe(c,t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",s-r>3e5?s:""),j(l),za(document.querySelector(".dot[data-id='"+i._id+"']"))}}}if(a&&rm.test(t.body.note)){var u=Te(t.params.uid,!0);if(!u)return;Si({title:u.user.username+" mentioned you",body:t.body.note,notifier:u.user,handler:function(){Y(zr.H("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),n.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),n.bind("RequestPaymentFail",function(e){if(!e.params.oid||"pawn"!==Sr.role){var t={currentRole:Sr.role};Object.assign(t,e.params),e.params.oid||"owner"===Sr.role||(t.ownerEmail=e.body.email),Br.d(t)}})}function Xo(){id.classList.contains("hidden")||(Zr.c.set("tabTutorialSeen",!0),id.classList.add("hidden"))}function Jo(e){Array.from(ml.querySelectorAll(".color")).forEach(function(t){var n=new Jr.a(JSON.parse(t.dataset.rgbcolor));t.querySelector(".colorValue").textContent=n.toCSS(e)})}function $o(e){if(Qo(),e){e.classList.add("subMenuOpen");var t=e.closest(".sidebarMenu").getBoundingClientRect().top,n=e.getBoundingClientRect().top,a=document.querySelector(".subMenu."+e.id+"s");a.style.transform="translateY("+(n-t)+"px)",a.classList.add("open")}}function Qo(){Array.from(document.querySelectorAll(".mainMenu.subMenuOpen")).forEach(function(e){e.classList.remove("subMenuOpen")}),Array.from(document.querySelectorAll(".subMenu.open")).forEach(function(e){e.classList.remove("open")})}function er(e,t){if(null!==t.querySelector(".subMenu")){var n=t.getBoundingClientRect().width;e.offsetWidth>=n+56+120?(t.classList.remove("toLeft"),t.classList.add("toRight")):(t.classList.remove("toRight"),t.classList.add("toLeft"))}}function tr(e,t,n,a){var i=n.getBoundingClientRect();e.style.top=a.clientY-i.top+2+"px",e.style.left=a.clientX-i.left+2+"px",a.clientX+t.getBoundingClientRect().width+e.offsetWidth>window.innerWidth&&e.classList.add("toLeft"),a.clientY+e.offsetHeight>window.innerHeight&&e.classList.add("toTop")}function nr(e,t){var n,a,i=parseInt(e.dataset.menuOffsetX,10),o=parseInt(e.dataset.menuOffsetY,10),r=e.closest(".sidebarOptionRealm").getBoundingClientRect(),s=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=s.bottom-60-o,u=s.right-r.left-i;a=c<12?12:c+l.height+12>window.innerHeight-60?window.innerHeight-l.height-12-60:c,n=u+l.width+12>r.width?r.width-l.width-12:u,t.style.transform="translate3d("+n+"px, "+a+"px, 0)"}function ar(e){var t=e.closest(".sidebarOptionRealm");if(t.classList.contains("optionsOpen")&&(t.classList.remove("optionsOpen"),"menuId"in e.dataset)){var n=document.getElementById(e.dataset.menuId);n.classList.remove("open"),n.dataset.submenu="",n.style.transform="",Qo();var a=t.closest(".optionsOpen");a||(a=t),a.classList.remove("optionsOpen")}}function ir(){var e=(al.getBoundingClientRect().height-mg)/2,t=dg+mg+e;rg=dg-e>lg&&t<window.innerHeight-cg?e:pg,or()}function or(){var e=nl.getBoundingClientRect(),t=Math.max(e.top-rg,ug)-sg;al.style.transform="translate3d(0, "+t+"px, 0)",rr()}function rr(){var e=al.getBoundingClientRect(),t=nl.getBoundingClientRect(),n=t.top+t.height/2-e.top-11;il.classList.toggle("hidden",e.bottom<t.bottom)||(il.style.top=n+"px")}function sr(){md.classList.remove("focus"),dd.classList.toggle("searching",!!ud.value.length)}function lr(e){Array.from(Ol.querySelectorAll(".asset")).forEach(function(t){var n=Kd.snapshot.assets.find(function(e){return e._id===t.dataset.id});t.querySelector(".assetName").textContent=st(n,e)})}function cr(e){var t={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer"};fetch(Zeplin.urls.baseURL+"/intercom/users/tags",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:t[e]})})}function ur(e){if(!e||!zr.I(e,"project"))return Ur.a({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void W();var t=Promise.resolve(jr);return jr&&jr.id===e||(Zr.b.get(e,"layoutGridEnabled").then(function(e){bl.checked=e,iu.classList.toggle("hidden",!e)}),Zr.b.get(e,"zoomLevel").then(function(e){am=e,Lc.textContent=(100*am).toFixed(),Ec.disabled=5===am,Dc.disabled=.25===am,St({saveZoomLevel:!1})}),Zr.b.get(e,"noteVisibility").then(function(e){Cc.checked=e,Oc.classList.toggle("invisible",!e)}),Zr.b.get(e,"sectionsCollapseState").then(function(e){Hd=e}),t=ie(e)),t}function dr(){hg||(hg=!0,es.a.measure("page.interactive"),es.a.measureFirstInteraction())}function mr(){Nd.style.width=244*Math.floor(Id.clientWidth/244)+"px",fg=setTimeout(mr,1e3)}function pr(){_m||(_m=!0,document.body.classList.add("loading"),qm.start(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||mr())}function gr(){_m=!1,clearTimeout(fg),document.body.classList.remove("loading"),qm.stop()}function fr(){setTimeout(function(){Ks.classList.remove("online")},1e4)}function hr(){Zr.c.get("slackReconnectionAuntieSeen").then(function(e){if(!e){var t=Rd.querySelector(".hideableInfo");t&&vs.a.render(null,t.parentElement,t);var n=jr.integration.slacks.filter(function(e){return!e.scope.includes("emoji")});if(0!==n.length){var a;a=n.length>1?Hr.a({content:"You can now use your custom Slack emojis in Zeplin! Remove an existing integration and re-add it to get started.",hideCallback:function(){Zr.c.set("slackReconnectionAuntieSeen",!0)}}):Hr.a({content:"You can now use your custom Slack emojis in Zeplin! Reconnect Slack to get started.",actionButton:{text:"Reconnect",callback:function(){if(Zr.c.set("slackReconnectionAuntieSeen",!0),!(0===jr.integration.slacks.length||jr.integration.slacks.length>1)){var e=jr.integration.slacks[0]._id;Cs.c(jr.id,"slacks",e).then(function(){Lm?Vr.a.ipcRenderer.send("add-to-slack",{id:jr.id,name:jr.name}):(y(),s(Ar,{inNewTab:!1}))}).catch(Wr.b)}}},hideCallback:function(){Zr.c.set("slackReconnectionAuntieSeen",!0)}}),Rd.appendChild(a)}}})}Object.defineProperty(t,"__esModule",{value:!0});n(42),n(30),n(27),n(32),n(43);var yr,br,vr,jr,Sr,Er,Lr,wr,Dr,Cr,xr,kr,Tr,_r,qr,Or,Ar,Ir,Nr,Fr,Pr,Rr,Br=n(8),Mr=n(12),Ur=n(2),Hr=n(87),zr=n(0),Zr=n(9),Wr=n(1),Yr=n(44),Vr=n(10),Gr=n(22),Kr=n(91),Xr=n(92),Jr=n(17),$r=n(25),Qr=n(93),es=n(46),ts=n(99),ns=n.n(ts),as=n(100),is=n.n(as),os=n(101),rs=n.n(os),ss=n(4),ls=n.n(ss),cs=n(102),us=n(26),ds=n(103),ms=n(104),ps=n(106),gs=n(107),fs=n(108),hs=n(53),ys=n(47),bs=n(3),vs=n.n(bs),js=n(109),Ss=n(115),Es=n(117),Ls=n(119),ws=n(55),Ds=n(128),Cs=n(141),xs=document.getElementById("loading"),ks=document.getElementById("userMenu"),Ts=document.getElementById("notificationContainer"),_s=document.querySelector(".projectOverview"),qs=document.getElementById("screenCount"),Os=document.getElementById("tags"),As=document.getElementById("taglessProjectInfoLine"),Is=document.getElementById("resetTags"),Ns=document.getElementById("projectName"),Fs=document.getElementById("projectNameForm"),Ps=document.getElementById("projectType"),Rs=document.getElementById("projectDensity"),Bs=document.getElementById("changeDensityButton"),Ms=document.getElementById("densityDialog"),Us=document.getElementById("densityDialogSubmitButton"),Hs=document.getElementById("densityHelp"),zs=document.getElementById("densityTooltip"),Zs=document.getElementById("projectLink"),Ws=document.getElementById("copyProjectLinkButton"),Ys=document.querySelector("title"),Vs=document.getElementById("dashboardTab"),Gs=document.getElementById("styleguideTab"),Ks=document.querySelector("header"),Xs=document.querySelector(".headerTitle"),Js=document.getElementById("upLink"),$s=document.getElementById("arrowLeft"),Qs=document.getElementById("arrowRight"),el=document.getElementById("header"),tl=document.getElementById("headerExtra"),nl=document.getElementById("addUserButton"),al=document.getElementById("inviteUserPopup"),il=document.getElementById("inviteUserPopupAnchor"),ol=document.getElementById("noOtherMembers"),rl=document.getElementById("members"),sl=document.getElementById("iosCategoryName"),ll=document.getElementById("iosCategoryPrefix"),cl=document.getElementById("osxCategoryName"),ul=document.getElementById("osxCategoryPrefix"),dl=document.getElementById("colorPalette"),ml=document.getElementById("rightSidebar"),pl=document.getElementById("screenDescription"),gl=new Kr.a(pl,Ja),fl=document.getElementById("screenLastUpdated"),hl=document.getElementById("screenTags"),yl=document.getElementById("layoutGridInfoContainer"),bl=document.getElementById("layoutGridCheckbox"),vl=document.getElementById("gridViz"),jl=document.getElementById("gridColumnWidth"),Sl=document.getElementById("gridGutterWidth"),El=document.getElementById("gridColumnViz"),Ll=document.getElementById("verticalGutterViz"),wl=document.getElementById("gridRowHeight"),Dl=document.getElementById("gridGutterHeight"),Cl=document.getElementById("gridTotalWidth"),xl=document.getElementById("gridNumberOfCols"),kl=document.getElementById("resourceTabs"),Tl=document.getElementById("colorContent"),_l=document.getElementById("screenColors"),ql=document.getElementById("assetContent"),Ol=document.getElementById("screenAssets"),Al=document.getElementById("screenAssetExports"),Il=document.getElementById("layerView"),Nl=document.getElementById("layerName"),Fl=document.getElementById("layerPositionX"),Pl=document.getElementById("layerPositionY"),Rl=document.getElementById("layerWidth"),Bl=document.getElementById("layerHeight"),Ml=document.getElementById("layerRotation"),Ul=document.getElementById("layerOpacity"),Hl=document.getElementById("layerRadius"),zl=document.getElementById("layerBlendMode"),Zl=document.getElementById("textLayerInfo"),Wl=document.getElementById("copyLayerContent"),Yl=document.getElementById("layerContent"),Vl=document.getElementById("layerFillContainer"),Gl=document.getElementById("layerFills"),Kl=document.getElementById("layerBorderContainer"),Xl=document.getElementById("layerBorders"),Jl=document.getElementById("layerShadowContainer"),$l=document.getElementById("layerShadows"),Ql=document.getElementById("layerBlurContainer"),ec=document.getElementById("layerBlurType"),tc=document.getElementById("layerBlurRadius"),nc=document.getElementById("layerAssetContainer"),ac=document.getElementById("layerAssetPreview"),ic=document.getElementById("layerAssetName"),oc=document.getElementById("layerAssetExports"),rc=document.querySelector("input[type='checkbox'][name='showOptimizedSVG']"),sc=document.querySelector("input[type='checkbox'][name='allAssetsShowOptimizedSVG']"),lc=document.getElementById("styleOptionsButton"),cc=document.getElementById("selectedStyleExportType"),uc=document.getElementById("copyLayerStyleContent"),dc=document.getElementById("layerStyle"),mc=document.getElementById("guidelineStyle"),pc=document.getElementById("layerStyleMirror"),gc=document.getElementById("colorStyleMirror"),fc=document.getElementById("textStyleMirror"),hc=document.getElementById("styleguideStyleMirror"),yc=document.getElementById("generatorContainer"),bc=document.getElementById("guidelineStyleExportContainer"),vc=document.getElementById("guidelineSelectedStyleExportType"),jc=document.getElementById("shareSceneDialog"),Sc=[],Ec=document.getElementById("zoomIn"),Lc=document.getElementById("zoomDropdownLabel"),wc=document.getElementById("zoomDropdown"),Dc=document.getElementById("zoomOut"),Cc=document.getElementById("maymusCheckbox"),xc=document.querySelector(".screenContent"),kc=document.getElementById("screenView"),Tc=document.getElementById("dotgrid"),_c=document.getElementById("screenContainer"),qc=document.getElementById("cursorImage"),Oc=document.getElementById("dots"),Ac=document.getElementById("dotPopup"),Ic=document.getElementById("dotPopupAnchor"),Nc=document.getElementById("dotColors"),Fc=document.getElementById("dotComments"),Pc=document.getElementById("newComment"),Rc=document.getElementById("newCommentButtons"),Bc=document.getElementById("newCommentButton"),Mc=document.getElementById("newCommentMirror"),Uc=document.getElementById("newCommentNote"),Hc=document.getElementById("newCommentSendButton"),zc=document.getElementById("newCommentArea"),Zc=document.getElementById("layers"),Wc=document.getElementById("rulers"),Yc=document.getElementById("topRuler"),Vc=document.getElementById("rightRuler"),Gc=document.getElementById("bottomRuler"),Kc=document.getElementById("leftRuler"),Xc=document.getElementById("leftDistance"),Jc=document.getElementById("leftDistanceValue"),$c=document.getElementById("rightDistance"),Qc=document.getElementById("rightDistanceValue"),eu=document.getElementById("topDistance"),tu=document.getElementById("topDistanceValue"),nu=document.getElementById("bottomDistance"),au=document.getElementById("bottomDistanceValue"),iu=document.getElementById("layoutGridContainer"),ou=document.getElementById("fontBook"),ru=document.getElementById("screenImage"),su=document.getElementById("suggestedUsersContainer"),lu=document.getElementById("suggestedEmojisContainer"),cu=document.getElementById("searchScreenContainer"),uu=document.getElementById("screenSearchText"),du=document.getElementById("suggestedScreensContainer"),mu=document.getElementById("jumpToScreen"),pu=document.getElementById("searchPopup"),gu=document.getElementById("namingTip"),fu=document.getElementById("slackButton"),hu=document.getElementById("exportColors"),yu=document.getElementById("exportTextStyles"),bu=document.getElementById("manageTagsContainer"),vu=document.getElementById("createTagContainer"),ju=vu.querySelector("span"),Su=document.getElementById("manageTagsPopup"),Eu=document.getElementById("selectTags"),Lu=document.getElementById("tagOfScreenTemplate"),wu=document.getElementById("tagSuggestionTemplate"),Du=document.getElementById("tagsOfScreen"),Cu=document.getElementById("tagSuggestions"),xu=document.getElementById("manageTagsDone"),ku=document.getElementById("tagSearchText"),Tu=document.getElementById("manageTagsButtonTemplate"),_u=document.getElementById("tagMenuTemplate"),qu=document.getElementById("projectInfoResizer"),Ou=document.getElementById("versionsSidebarResizer"),Au=document.getElementById("rightSidebarResizer"),Iu=document.getElementById("generatorResizer"),Nu=document.getElementById("projectInfo"),Fu=document.getElementById("projectInfoWrapper"),Pu=document.querySelector(".versionsSidebarWrapper"),Ru=document.getElementById("rightSidebarWrapper"),Bu=document.getElementById("projectLinkRow"),Mu=document.getElementById("shortLinkMenuTemplate"),Uu=document.getElementById("openSceneDialogButton"),Hu=document.getElementById("shareSceneMenuTemplate"),zu=document.getElementById("shareSceneButton"),Zu=document.getElementById("cancelShareSceneButton"),Wu=document.getElementById("shareSceneRow"),Yu=document.getElementById("sharedSceneContainer"),Vu=document.getElementById("unsharedSceneContainer"),Gu=document.getElementById("sceneShortLink"),Ku=document.getElementById("openSceneNewTab"),Xu=document.getElementById("copySceneShortLink"),Ju=document.getElementById("dotListingTemplate"),$u=document.getElementById("dotListings"),Qu=document.getElementById("dotListingsOptions"),ed=document.getElementById("dotContent"),td=document.getElementById("otherAuthorAvatarFrameTemplate"),nd=document.getElementById("tabsTutorialCircle"),ad=document.getElementById("versionsTutorialCircle"),id=document.getElementById("tabsTutorialPopup"),od=document.getElementById("currentUser"),rd=document.getElementById("notificationsButton"),sd=document.getElementById("importProgressesButton"),ld=document.getElementById("screenBgColor"),cd=document.getElementById("screenBgColorContainer"),ud=document.getElementById("screenSearch"),dd=document.querySelector(".menuBar"),md=document.querySelector(".searchArea"),pd=document.getElementById("assetStyleExportContainer"),gd=document.getElementById("popoutWidget"),fd=document.getElementById("textLayerStyleExportContainer"),hd=document.getElementById("textLayerStyleMirror"),yd=document.getElementById("copyTextLayerStyle"),bd=document.getElementById("textLayerStyle"),vd=document.getElementById("sourceFile"),jd=document.getElementById("sourceFileName"),Sd=document.getElementById("sourceFilePath"),Ed=document.getElementById("sourceFileActions"),Ld=document.getElementById("slackContainer"),wd=document.getElementById("slackIntegrationRow"),Dd=document.getElementById("screenLinks"),Cd=document.getElementById("allAssetsNamingConvention"),xd=document.getElementById("assetNamingConvention"),kd=document.getElementById("sortOptions"),Td=document.getElementById("androidResFolderReminderDialog"),_d=document.getElementById("androidResFolderReminderDoneButton"),qd=document.getElementById("sectionTemplate"),Od=document.getElementById("sections"),Ad=document.getElementById("sectionDivider"),Id=document.querySelector(".projectOverviewLoading"),Nd=document.querySelector(".screenGridLoading"),Fd=document.getElementById("screenStatusIndicator"),Pd=document.getElementById("projectStatusIndicator"),Rd=document.getElementById("integrations"),Bd=document.getElementById("noScreenAssetsRoot"),Md=document.querySelector(".noScreensElectronRoot"),Ud=document.querySelector("#layerView > .styleExportContainer"),Hd={},zd=new Set,Zd={},Wd="",Yd=!1,Vd=-2,Gd=null,Kd=null,Xd=null,Jd=null,$d="",Qd=null,em=[],tm=!1,nm=!1,am=1,im=null,om=null,rm=new RegExp("(?:"+[Zeplin.user.username,"everyone","all","tutti"].join("|")+")\\b"),sm=!1,lm=[],cm=!0,um=!0,dm={},mm=!1,pm=!1,gm=75,fm={},hm=null,ym=null,bm=r(1100,Fd),vm=!0,jm=!1,Sm=!1,Em=!!Vr.a&&!!Vr.a.features&&"popout"in Vr.a.features,Lm=!!Vr.a&&!!Vr.a.features&&!!Vr.a.features.integrations&&Vr.a.features.integrations.slack,wm=!!Vr.a&&!!Vr.a.features&&!!Vr.a.features.revampedMenu,Dm=!!Vr.a&&!!Vr.a.features&&!!Vr.a.features.webviews,Cm=!Dm,xm=!1,km=Em&&Vr.a.features.popout,Tm=new cs.a({mac:document.body.classList.contains("mac")}),_m=!1,qm=r(700,Pd),Om={jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},Am={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise"},Im={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1}},Nm={ios:/([^a-zA-Z0-9])/g,osx:/([^a-zA-Z0-9])/g,web:/([^a-zA-Z0-9-_])/g,android:/([^a-z0-9_])/g},Fm={default:"Default",camelCase:"camelCase",snakeCase:"snake_case",kebabCase:"kebab-case",original:"Original"},Pm={android:"android_xml",ios:"ios_swift4",osx:"osx_swift4",web:"stylesheet_css"};Ur.b.registerDialog(Ms),Ur.b.registerDialog(jc),Ur.b.registerDialog(Td),document.body.classList.contains("electron")&&vs.a.render(vs.a.h(Es.a,{photoshopAndFigma:!!Vr.a&&!!Vr.a.features&&!!Vr.a.features.figma}),Md),ys.a(function(){xs.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+jr.id,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){W()}).catch(function(e){xs.classList.add("hidden"),Wr.b(e)})}),document.body.classList.toggle("features-popout",Em)?km&&(gd.classList.remove("disabled"),gd.dataset.tooltip="Pop screen out",Vr.a.ipcRenderer.on("open-popout",a),gd.addEventListener("click",a)):!!gd&&gd.remove(),document.body.classList.toggle("features-integrations-slack",Lm),wm&&(Vr.a.ipcRenderer.on("new-project",function(){location.assign(zr.H("projects",{query:{newProject:"true"}}))}),Vr.a.ipcRenderer.on("leave-project",function(){Ur.a({message:'Leave "'+jr.name+'"?',done:{name:"LEAVE",cb:function(){Ri(Zeplin.user._id)}},cancel:{name:"CANCEL"}})}),Vr.a.ipcRenderer.on("delete-project",function(){ys.b(jr.id,jr.name)}),Vr.a.ipcRenderer.on("delete-screen",function(){Ur.a({message:'Delete "'+Gd.name+'"?',done:{name:"DELETE SCREEN",cb:function(){Gi(Gd._id).then(function(){V(jr.id,Fn())})}},cancel:{name:"CANCEL"}})}),Vr.a.ipcRenderer.on("set-as-thumbnail",function(){Hi(Gd._id).then(function(){Ut()})}),Vr.a.ipcRenderer.on("add-tag",function(){go(Gd._id)}),Vr.a.ipcRenderer.on("manage-tags",function(){go(Gd._id)}),Vr.a.ipcRenderer.on("dashboard",function(){V(jr.id,Fn())}),Vr.a.ipcRenderer.on("styleguide",function(){G(jr.id)}),Vr.a.ipcRenderer.on("zoom-in",Ba),Vr.a.ipcRenderer.on("zoom-out",Ma),Vr.a.ipcRenderer.on("actual-size",function(){am=1,Tc.classList.add("zooming"),St()}),Vr.a.ipcRenderer.on("jump-to-screen",function(){Ad.classList.add("hidden"),jr.screens&&jr.screens.length&&cu.classList.contains("hidden")&&Hn()}),Vr.a.ipcRenderer.on("show-versions",vt),Vr.a.ipcRenderer.on("hide-versions",jt),Array.from(document.querySelectorAll("input.windows-app-pref-menu-item")).forEach(function(e){e.addEventListener("change",function(){var t=e.dataset.windowsAppPrefName||e.name,n="radio"===e.type?e.value:e.checked,a={};a[t]=n,Gr.a.updateProjectPreferences(a,jr.type),i()})}),ws.b.addListener(function(){var e=ws.b.getState(),t={};Object.keys(e.options).forEach(function(n){t[n]=e.options[n]}),Gr.a.updateProjectPreferences(t,jr.type,e.extension.id),i()}),Gr.a.onOpenRecentProject=function(e){Y(zr.H("project",{url:{pid:e}}))},Gr.a.onProjects=W),document.body.classList.toggle("features-webviews",Dm)&&(Vr.a.ipcRenderer.on("load-url",function(e,t){jr&&new URL(t).href.match(/\/project\/([0-9a-z]+)/)[1]===jr.id||(xm=!0),Y(t)}),Vr.a.ipcRenderer.on("projects",Z),Vr.a.ipcRenderer.on("active",function(e,t){if(!(Cm=t))return jr&&"dashboard"!==$d&&V(jr.id,Fn()),Mn(),void pr();xm||(gr(),o())}));var Rm={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"",owner:"Owner",admin:"Admin",user:""},Bm=document.getElementById("memberTemplate"),Mm=(new TextDecoder).decode(new Uint8Array(Array.from(crypto.getRandomValues(new Uint8Array(16)),function(e){return e%94+33})));fu.addEventListener("click",function(){zr.u.canUpdateProject(Sr)&&(Lm?Vr.a.ipcRenderer.send("add-to-slack",{id:jr.id,name:jr.name}):(y(),s(Ar,{inNewTab:!1})))});var Um=document.querySelector(".styleContainer"),Hm={styleColorFormat:"colorFormat",showDefaultValues:"showDefaultValues",showDimensions:"showDimensions",webUnitlessLineHeight:"unitlessLineHeight",webMixin:"mixin",androidLineSpacingType:"lineSpacingType",attributedStringShowDefaultAttributes:"showDefaultAttributes",iosDeploymentTarget:"deploymentTarget",osxDeploymentTarget:"deploymentTarget"};Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Bs.addEventListener("click",function(e){zr.u.canUpdateProject(Sr)&&Ms.showModal()}),Us.addEventListener("click",function(){var e=document.querySelector("input[name='"+R()+"']:checked");e&&e.value!==jr.density&&M(e.value)}),Ms.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&zs.classList.add("hidden")}),Ms.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:zs.classList.contains("hidden")||(e.preventDefault(),e.stopPropagation(),zs.classList.add("hidden"));break;case Zeplin.KEY_CODE.SPACE:var t=Ms.querySelector("label:focus");t&&t.click();break;case Zeplin.KEY_CODE.ENTER:Us.click()}}),Hs.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),e.preventDefault(),zs.classList.toggle("hidden"))}),zs.addEventListener("click",function(e){e.stopPropagation()});var zm,Zm,Wm;document.getElementById("guidelineStyleOptionsButton").addEventListener("click",ae),document.getElementById("styleOptionsButton").addEventListener("click",ae),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":G(jr.id);break;case"dashboard":default:V(jr.id,Fn())}})}),nl.addEventListener("click",function(e){e.stopPropagation(),Yr.c()&&(Uo(),Yr.e(Fu,jr.id,jr.users,Er&&"pawn"!==Sr.role),ir(),Nu.addEventListener("scroll",or),Fu.addEventListener("listRefreshed",rr),mixpanel.track("Showed invite user pop up",{type:"project"}))});var Ym,Vm=Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}),Gm=Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}),Km=new WeakMap,Xm=document.querySelector(".versions"),Jm=document.getElementById("versionTemplate"),$m=document.getElementById("nodeColorChooserTemplate");Xm.addEventListener("click",function(e){e.stopPropagation()});var Qm=document.getElementById("versionHeaderTemplate"),ep={open:"noOpenDots",resolved:"noResolvedDots"};$u.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){e.stopPropagation();var t=e.target.closest(".dotListing");ua(t.dataset.did,t.dataset.cmid)}}),window.requestIdleCallback=window.requestIdleCallback||function(e,t){var n=4;return t&&"timeout"in t&&(n=t.timeout),setTimeout(e,n)},window.cancelIdleCallback=window.cancelIdleCallback||clearTimeout;var tp={},np=new IntersectionObserver(function(e,t){e.forEach(function(e){var n=e.target;if(0===e.intersectionRatio)return cancelIdleCallback(tp[n.dataset.id]),void delete tp[n.dataset.id];var a=jr.findScreen(n.dataset.id);tp[n.dataset.id]=requestIdleCallback(function(){t.unobserve(n),delete tp[n.dataset.id],zr.v(n.querySelector(".screenImage"),a.versions[0].snapshot,"url")},{timeout:300})})},{root:_s,threshold:[0,.01]}),ap=document.getElementById("screenTemplate"),ip=document.getElementById("textStyleTemplate"),op=document.getElementById("guidelineColorTemplate"),rp=document.getElementById("colorTemplate"),sp=document.getElementById("layerShadowTemplate");Al.addEventListener("click",et),Ol.addEventListener("click",tt),nc.addEventListener("click",tt);var lp=document.getElementById("assetExportTemplate"),cp=document.getElementById("assetTemplate"),up=document.getElementById("layerTemplate");Nc.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&ht(e.target.dataset.color,Ac.dataset.id,Gd,Xd)}),document.querySelector(".versionsToggle").addEventListener("click",vt),document.querySelector(".versionsCollapser").addEventListener("click",jt);var dp,mp,pp=!1;bl.addEventListener("change",function(){iu.classList.toggle("hidden",!bl.checked),clearTimeout(mp),mp=setTimeout(function(){Zr.b.set(Zd.pid,"layoutGridEnabled",bl.checked)},1e3)});var gp=document.getElementById("gridCanvas"),fp={partial:[Dt,Ct],initial:[Dt,Ct,kt,Tt],zoom:[Ct],density:[Ct,kt,Tt],layers:[kt,Tt]},hp=!1;document.querySelector(".screenColorsRestricted a").addEventListener("click",function(e){e.preventDefault(),qt(Er._id,Ru)}),document.querySelector(".screenAssetsRestricted a").addEventListener("click",function(e){e.preventDefault(),qt(Er._id,Ru)});var yp,bp,vp,jp,Sp,Ep=document.getElementById("sectionMenuTemplate"),Lp=document.getElementById("screenMenuTemplate"),wp=document.getElementById("moveCubuk");Ad.addEventListener("click",function(){var e=Ad.dataset.nextScreenId,t=le(e),n=jr.findScreenSection(e);Ad.classList.add("hidden"),n&&zr.u.canManageScreens(Sr)&&fn(n._id,t.dataset.index)});var Dp,Cp;_s.addEventListener("scroll",function(){Dp||(Dp=!0,Ad.classList.add("hidden"),clearTimeout(Cp),Cp=setTimeout(function(){Dp=!1},200))}),Od.addEventListener("dragstart",function(e){e.target.closest(".screenLink")&&e.preventDefault()});var xp,kp="36px";gs.a.enable({containers:Od,root:_s,allowX:!1,canGrab:function(e,t){return!!(zr.u.canManageScreens(Sr)&&e.classList.contains("user")&&t.closest(".sectionHeader"))},onGrab:function(e,t){e.classList.contains("collapsed")||(cn(e,!1),t.classList.add("collapsed")),Pe(),document.body.classList.add("dragging"),t.classList.add("grabbed")},onDrop:function(e,t,n,a,i){return new Promise(function(e){var n=t.getBoundingClientRect(),a=i.getBoundingClientRect(),o=n.left-a.left,r=n.top-a.top,s=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),l=150*Math.max(Math.sqrt(s/n.height),1);i.classList.remove("grabbed"),i.style.transition="transform "+l+"ms ease-out, box-shadow "+l+"ms ease-in",i.style.transform="translate("+o+"px, "+r+"px)",i.style.boxShadow="none",i.addEventListener("transitionend",function n(){i.removeEventListener("transitionend",n);var a=parseInt(t.dataset.index,10),o=Array.prototype.indexOf.call(t.parentNode.children,t);Od.firstElementChild.classList.contains("default")||(a++,o++),o!==a&&_n(t.dataset.id,o,a),document.body.classList.remove("dragging"),e()})})},onMove:function(e,t,n,a,i){if(n){var o=t.getBoundingClientRect();if(n!==e){var r=n.getBoundingClientRect();t.remove(),o.bottom>r.bottom?n.appendChild(t):n.insertBefore(t,n.firstElementChild)}else if(a&&a!==t){if(a.classList.contains("default"))return;var s=a.getBoundingClientRect(),l=i.getBoundingClientRect();o.top>=s.bottom?l.height<=s.top&&l.top<s.top+s.height/2&&(t.remove(),n.insertBefore(t,a)):l.bottom>s.top+s.height/2&&s.bottom<=window.innerHeight&&(t.remove(),n.insertBefore(t,a.nextElementSibling))}}}}),Os.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("tag")&&!dd.classList.contains("searching")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):(e.target.classList.contains("untagged")?Nn():((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)||Nn(),document.querySelector(".tag.untagged").classList.remove("selected")),e.target.classList.add("selected")),Rn())}),Is.addEventListener("click",function(){Nn(),Rn()}),od.addEventListener("click",Mn),sd.addEventListener("click",Mn),rd.addEventListener("click",Mn);var Tp={};Tc.addEventListener("mousedown",function(e){Sm=!0,Tp={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",Un),jm&&(Tc.classList.remove("holdingSpace"),Tc.classList.add("panMode"),qc.src=Zeplin.urls.appURL+"/img/grabbing.svg")}),Tc.addEventListener("mousemove",function(e){if(e.preventDefault(),jm&&Sm){Ha();var t=kc.scrollTop-e.clientY+Tp.y;t=t>0?t:0;var n=kc.scrollLeft-e.clientX+Tp.x;n=n>0?n:0,kc.scrollTop=t,kc.scrollLeft=n}qc.style.transform="translate("+(e.clientX-8+kc.scrollLeft)+"px, "+(e.clientY-68+kc.scrollTop)+"px)",Tp={x:e.clientX,y:e.clientY}}),document.addEventListener("keyup",function(e){e.keyCode===Zeplin.KEY_CODE.SPACE&&(e.preventDefault(),jm=!1,Tc.classList.remove("panMode","holdingSpace"),qc.classList.add("hidden"))}),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)Mn();else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){if(Bn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),Mn(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),Vd-1>=0&&(Vd--,K(jr.id,se(Vd).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){if(Bn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),Mn(),window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),Vd>=0&&Vd+1<Tn()&&(Vd++,K(jr.id,se(Vd).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(Bn()||document.querySelector(".optionsOpen")||nm)return;if(!xc.classList.contains("versionsShown"))return;e.preventDefault(),Mn(),(t=Gd.versions.findIndex(function(e){return e._id===Kd._id})-1)>=0&&je(Gd,Gd.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(Bn()||document.querySelector(".optionsOpen")||nm)return;if(!xc.classList.contains("versionsShown"))return;e.preventDefault(),Mn();var t=Gd.versions.findIndex(function(e){return e._id===Kd._id})+1;t<Gd.versions.length&&je(Gd,Gd.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.SPACE){if(Bn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),jm||(jm=!0,document.body.classList.contains("mac")?(Tc.classList.add("panMode"),qc.src=Sm?Zeplin.urls.appURL+"/img/grabbing.svg":Zeplin.urls.appURL+"/img/grab.svg",qc.classList.remove("hidden"),qc.style.transform="translate("+(Tp.x-8+kc.scrollLeft)+"px, "+(Tp.y-68+kc.scrollTop)+"px)"):Sm?Tc.classList.add("panMode"):Tc.classList.add("holdingSpace"))}else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:e.preventDefault(),e.stopPropagation(),V(jr.id,Fn());break;case Zeplin.KEY_CODE.KeyS:e.preventDefault(),e.stopPropagation(),G(jr.id);break;case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation(),Ba();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation(),Ma();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),am=1,Tc.classList.add("zooming"),St();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),Ad.classList.add("hidden"),jr&&jr.screens&&jr.screens.length&&cu.classList.contains("hidden")&&Hn();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),jr&&jr.screens&&Gd&&go(Gd._id)}else if(e.keyCode===Zeplin.KEY_CODE.KeyF&&(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){if("dashboard"!==$d)return;e.preventDefault(),Ad.classList.add("hidden"),_s.scrollTop=0,md.classList.add("focus"),setTimeout(function(){zr.m(ud)},500)}});var _p=0;pu.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("screenSuggestion")&&(Tr=lm[e.target.dataset.index],zn())}),du.addEventListener("mousemove",function(e){if(e.stopPropagation(),_r!==e.clientX||qr!==e.clientY){var t=du.querySelector(".selected");t&&t.classList.remove("selected"),e.target.classList.add("selected"),_p=parseInt(e.target.dataset.index,10),Tr=lm[e.target.dataset.index],_r=e.clientX,qr=e.clientY}}),pu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),lm.length&&_p<lm.length-1&&Zn(_p+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),lm.length&&_p>0&&Zn(_p-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),zn();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Ci()}}),uu.addEventListener("input",function(e){e.preventDefault(),wi(e.target.value)}),mu.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),jr.screens&&jr.screens.length&&cu.classList.contains("hidden")&&Hn()}),$s.addEventListener("click",function(){Vd-1>=0&&(Wn(),Vd--,K(jr.id,se(Vd).dataset.id))}),Qs.addEventListener("click",function(){Vd+1<jr.screens.length&&(Wn(),Vd++,K(jr.id,se(Vd).dataset.id))}),document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||mm||Mn(),mm=!1}),document.getElementById("closeLayerView").addEventListener("click",function(){Vn(),Jn()});var qp=0,Op=document.getElementById("layerBorderTemplate");Zl.addEventListener("mouseover",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Yl.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.add("hovered")})}}),Zl.addEventListener("mouseout",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Yl.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.remove("hovered")})}});var Ap={css:"css",javascript:"text/javascript",less:"text/x-less",objc:"text/x-objectivec",react:"text/javascript",sass:"sass",scss:"text/x-scss",stylus:"stylus",swift:"text/x-swift",xml:"application/xml"},Ip={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},Np=[new Jr.a({r:254,g:207,b:51,a:1,name:"yellow"}),new Jr.a({r:253,g:189,b:57,a:1,name:"lightOrange"}),new Jr.a({r:238,g:103,b:35,a:1,name:"peach"})],Fp=Object.freeze({android:[new $r.a({name:"header",fontFace:"Roboto-Regular",fontSize:24,color:{r:87,g:71,b:81}})],ios:[new $r.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],osx:[new $r.a({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],web:[new $r.a({name:"header",fontFace:"system-ui",fontSize:24,color:{r:87,g:71,b:81}})]});Array.from(document.querySelectorAll('input[type="radio"][name="dotListingsStatusFilter"]')).forEach(function(e){e.addEventListener("change",function(e){Pa(e.target.value)})}),Array.from(document.querySelectorAll(".sidebarOptionsButton[data-menu-id]")).forEach(function(e){e.addEventListener("click",function(t){t.stopPropagation(),Kn(),Uo();var n=e.closest(".sidebarOptionRealm"),a=document.getElementById(e.dataset.menuId);if(n.classList.contains("optionsOpen"))ar(e);else{var i=zr.i(e)||n;Uo(),n.classList.add("optionsOpen"),i.classList.add("optionsOpen"),a.classList.add("open"),er(i,a),nr(e,a)}})});var Pp;rc.addEventListener("change",function(){clearTimeout(Pp),Pp=setTimeout(function(){sc.checked=rc.checked,Zr.b.set(Zd.pid,"showOptimizedSVG",rc.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!rc.checked)})})})}),sc.addEventListener("change",function(){clearTimeout(Pp),Pp=setTimeout(function(){rc.checked=sc.checked,Zr.b.set(Zd.pid,"showOptimizedSVG",sc.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!sc.checked)})})})});var Rp=!1;if(_c.addEventListener("click",function(e){if(Uo(),pm)pm=!1;else{var t=!1;if(e.target.classList.contains("dot"))e.stopPropagation(),t=!0,Gn(),ua(e.target);else if(Rp||(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){e.stopPropagation(),t=!0,Ha(),Cc.checked=!0,Oc.classList.remove("invisible"),Zr.b.set(Zd.pid,"noteVisibility",!0),Gn(),Vn(),Pa("open",!0);var n=Oc.getBoundingClientRect(),a=Gd.dots&&Gd.dots.length?""+(parseInt(Gd.dots[Gd.dots.length-1].name,10)+1):"1";Xd=null,Zr.b.get(Zd.pid,"lastNoteColorUsed").then(function(t){ua(gt(om={name:a,x:Math.max(0,Math.min((e.clientX-n.left)/n.width,1)),y:Math.max(0,Math.min((e.clientY-n.top)/n.height,1)),color:Im[t]}))})}else if(e.target.classList.contains("layer")){e.stopPropagation(),t=!0,Kn();var i=e.target;if(document.elementsFromPoint){var o=document.elementsFromPoint(e.clientX,e.clientY).filter(function(e){return e.classList.contains("layer")});if(hm&&ym){var r=document.elementsFromPoint(hm,ym).filter(function(e){return e.classList.contains("layer")}),s=function(e,t){if(e.dataset.index===t.dataset.index)return!0};i=Math.hypot(hm-e.clientX,ym-e.clientY)>40||!zr.a(o,r,s)?o[0]:o[(o.findIndex(function(e){return e.classList.contains("selected")})+1)%o.length]}else i=o[0];hm=e.clientX,ym=e.clientY}Ea(i)}t&&(ks.classList.add("hidden"),Ts.classList.add("hidden"),ar(lc),gl.submitEdits())}}),_c.addEventListener("mouseleave",function(){if(Qd){Tc.addEventListener("mousemove",ca),_c.classList.add("measuring"),tm=!0;var e=document.querySelector(".parent");e&&e.classList.remove("parent")}}),_c.addEventListener("mouseenter",function(e){Tc.removeEventListener("mousemove",ca),tm=!1}),Tc.addEventListener("mouseenter",function(){jm&&document.body.classList.contains("mac")&&qc.classList.remove("hidden"),_c.classList.add("measuring"),tm=!0}),Tc.addEventListener("mouseleave",function(){qc.classList.add("hidden"),tm=!1,_c.classList.remove("measuring"),$n()}),Ec.addEventListener("click",function(e){e.stopPropagation(),Ba()}),Dc.addEventListener("click",function(e){e.stopPropagation(),Ma()}),wc.addEventListener("click",function(e){e.stopPropagation()}),wc.addEventListener("change",function(){am=parseFloat(wc.value),Tc.classList.add("zooming"),St({updateSelectedIndex:!1})}),Tc.addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),am=Math.max(.25,Math.min(am-e.deltaY/100,5)),St())}),"GestureEvent"in window){var Bp;Tc.addEventListener("gesturestart",function(e){e.preventDefault(),Bp=am}),Tc.addEventListener("gesturechange",function(e){e.preventDefault(),am=Math.max(.25,Math.min(Bp*e.scale,5)),St()})}var Mp;Cc.addEventListener("change",function(){Oc.classList.toggle("invisible",!Cc.checked),clearTimeout(Mp),Mp=setTimeout(function(){Zr.b.set(Zd.pid,"noteVisibility",Cc.checked)},1e3)}),document.getElementById("addNoteButton").addEventListener("click",function(e){e.stopPropagation(),Ua()}),Array.from(document.querySelectorAll(".addFirstNoteButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Ua()})});var Up=6,Hp=13,zp=26,Zp=29,Wp=!1,Yp=document.getElementById("commentTemplate");Ac.addEventListener("click",function(e){e.stopPropagation();var t=Gd.dots.find(function(e){return e._id===Ac.dataset.id});if(e.target.classList.contains("dotResolveButton"))Oo(Ac.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))Oo(Ac.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var n=Ac.querySelector(".comment.editing");if(n){var a=n.querySelector(".commentMirror");a.innerHTML=$a(Jd.note),a.classList.toggle("jumboEmojis",xe(a,Jd.note)),n.classList.remove("editing")}ps.close(),ms.close(),Pc.classList.add("hidden"),Pc.classList.remove("composing"),Mc.innerHTML="&nbsp;",Uc.value="";var i=(c=e.target.closest(".comment")).querySelector(".commentMirror"),o=c.querySelector(".commentNote"),r=c.dataset.id;Jd=t.comments.find(function(e){return e._id===r}),i.innerHTML=zr.f(Jd.note)+"&nbsp",i.classList.remove("jumboEmojis"),o.value=Jd.note,c.classList.add("editing"),o.setSelectionRange(Jd.note.length,Jd.note.length),o.focus(),za(im)}else if(e.target.classList.contains("commentDeleteButton")){var s,r=(c=e.target.closest(".comment")).dataset.id,l=t.comments.find(function(e){return e._id===r});s=l.author?l.author._id===Zeplin.user._id?"Delete your comment?":"Delete "+l.author.username+"'s comment?":"Delete Anonymous's comment?",Ur.a({title:s,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){ii(c,Gd,t)}},cancel:{name:"CANCEL",cb:function(){Vn()}}})}else if(e.target.classList.contains("commentDoneButton")){var c=e.target.closest(".comment");ai(c,Gd,t,Jd)}}),Ac.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=Gd.dots.find(function(e){return e._id===Ac.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&ai(t,Gd,n,Jd);break;case Zeplin.KEY_CODE.ESC:ps.close(),ms.close(),t.classList.remove("editing"),Pc.classList.remove("hidden");var a=t.querySelector(".commentMirror");a.innerHTML=$a(Jd.note),a.classList.toggle("jumboEmojis",xe(a,Jd.note)),e.target.blur(),za(im)}}});var Vp={positive:"👍",neutral:"🤔",negative:"😩"};Rc.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(Ac.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return Pc.classList.add("composing"),void Uc.focus();var n=e.target.closest(".newCommentReaction"),a=Gd.dots.find(function(e){return e._id===Ac.dataset.id}),i=a.comments[a.comments.length-1];if(!i.author||i.author._id!==Zeplin.user._id||i.note!==Vp[n.dataset.reaction]){var o=Uc.value;Uc.value=Vp[n.dataset.reaction],ni(Gd,a,!0),Uc.value=o}}}),Uc.addEventListener("input",function(){oi(Uc,Mc,zc)}),Uc.addEventListener("click",function(e){e.stopPropagation(),oi(Uc,Mc,zc)}),Hc.addEventListener("click",function(){Xd?ni(Gd,Xd):ft(Gd,im)}),Uc.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:oi(Uc,Mc,zc)}}),Uc.addEventListener("keydown",function(e){if(e.stopPropagation(),su.classList.contains("hidden")&&lu.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(Xd?ni(Gd,Xd):ft(Gd,im));break;case Zeplin.KEY_CODE.ESC:fm[Gd._id]&&(Xd?fm[Gd._id].reply&&(fm[Gd._id].reply[Xd._id]=null):fm[Gd._id].comment=null),Pc.classList.remove("composing"),Mc.innerHTML="&nbsp;",Uc.value="",Xd||Vn()}}),Fc.addEventListener("mouseover",function(e){e.target!==Fc&&e.target.closest(".comment").classList.remove("highlight")}),Dd.querySelector(".screenLink.app").addEventListener("mouseleave",function(e){e.target.scrollLeft=0}),document.queryCommandSupported("copy")?(Wl.addEventListener("click",function(){wr&&zr.d({content:wr.content,toastContainer:ml})}),Yl.addEventListener("focus",function(){wr&&(zr.d({content:wr.content,toastContainer:ml}),setTimeout(function(){zr.y(Yl)},40))}),Zs.addEventListener("focus",function(){zr.d({content:jr.shortUrl,toastContainer:Nu}),setTimeout(function(){zr.y(Zs)},40)}),Xu.addEventListener("click",function(e){e.stopPropagation(),zr.d({content:jr.sceneUrl,toastContainer:Nu,container:Yu}),Xu.classList.add("copied")}),Ws.addEventListener("click",function(e){Fo(e)}),Dd.addEventListener("click",function(e){var t;if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&(t=e.target.closest(".copyLink"))){var n=t.classList.contains("web")?Gd.url:Dd.querySelector(".screenLink.app").textContent;zr.d({content:n,toastContainer:ml})}}),Dd.querySelector(".screenLink.web").addEventListener("focus",function(e){zr.d({content:Gd.url,toastContainer:ml}),setTimeout(function(){zr.y(e.target)},4)}),Dd.querySelector(".screenLink.app").addEventListener("focus",function(e){zr.d({content:e.target.textContent,toastContainer:ml}),setTimeout(function(){zr.y(e.target)},4)}),uc.addEventListener("click",function(){zr.d({content:pc.value,toastContainer:ml}),mi(),cr(jr.type)}),pd.addEventListener("click",function(e){if(e.target.classList.contains("copyAssetStyleButton")){var t=document.querySelector(".assetStyle[data-export-type='"+e.target.dataset.exportType+"'] textarea").value;t=t.split("--\x3e")[1],zr.d({content:t.trim(),toastContainer:ml}),pi(e.target.dataset.exportType),cr("web")}}),yd.addEventListener("click",function(){zr.d({content:hd.value,toastContainer:ml}),gi(),cr("web")})):(Ws.remove(),Wl.remove(),uc.remove(),Xu.remove(),yd.remove(),Array.from(document.querySelector(".copyAssetStyleButton")).forEach(function(e){e.remove()}),Array.from(Dd.querySelectorAll(".copyLink")).forEach(function(e){e.remove()}),Array.from(Dd.querySelectorAll(".screenLink")).forEach(function(e){e.addEventListener("click",function(e){zr.y(e.target)}),e.parentElement.dataset.tooltip="Click to select all",e.parentElement.dataset.tooltipType="text"})),ml.addEventListener("click",function(e){if(e.stopPropagation(),Uo(),Kn(),e.target.classList.contains("addColor"))cm&&(cm=!1,ki(e));else if(e.target.classList.contains("addTextStyle")){if(!um)return;var t=e.target.closest(".textStyleWrapper");if(!t)return;t.classList.contains("added")?so(t):io(t)}window.ImportProgresses&&ImportProgresses.hideImportProgressesContainer(),ks.classList.add("hidden"),Ts.classList.add("hidden"),ar(lc),gl.submitEdits(),Uo()}),ml.addEventListener("contextmenu",function(e){e.stopPropagation()}),ml.addEventListener("blur",function(e){if(e.preventDefault(),e.target.classList.contains("textStyleName")){if(!zr.u.canManageTextStyles(Sr))return;var t=e.target.closest(".textStyleWrapper");t&&Qi(t.dataset.id,e.target)}else if(e.target.classList.contains("colorName")){if(!zr.u.canManageColors(Sr))return;var n=e.target.closest(".color");if(!n)return;var a=jr.findColorById(n.dataset.id);eo(e.target.value.substr(1),a,n)}},!0),ml.addEventListener("submit",function(e){e.preventDefault(),e.target.classList.contains("textStyleNameForm")?e.target.querySelector(".textStyleName").blur():e.target.classList.contains("colorNameForm")&&e.target.querySelector(".colorName").blur()}),ml.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:if(e.target.classList.contains("textStyleName")){var t=e.target.closest(".textStyleWrapper");if(t){var n=jr.findTextStyleById(t.dataset.id);e.target.value=n.name,e.target.blur()}}else if(e.target.classList.contains("colorName")){var a=e.target.closest(".color");if(!a)return;var i=jr.findColorById(a.dataset.id);e.target.value="#"+i.name,e.target.blur()}}}),ml.addEventListener("input",function(e){if(e.preventDefault(),e.target.classList.contains("colorName")){var t=e.target.selectionStart,n=e.target.selectionEnd;"#"!==e.target.value.charAt(0)&&(t+=1,n+=1);var a=e.target.value;e.target.value="#"+e.target.value.replace(Nm[jr.type],"");var i=a.length-e.target.value.length;i>0&&(t-=i,n-=i),e.target.setSelectionRange(t,n)}}),pl.addEventListener("autocomplete",function(){var e=ms.manageSuggestedEmojis(pl.querySelector("textarea"),pl.querySelector(".mirror"));e&&(e.style.top=pl.getBoundingClientRect().top+pl.offsetHeight-90+"px",ml.appendChild(e),ms.open())}),ml.addEventListener("copy",di),dl.addEventListener("copy",di),dc.addEventListener("copy",mi),pd.addEventListener("copy",function(e){pi(e.target.closest(".assetStyle").dataset.exportType)}),bd.addEventListener("copy",gi);var Gp=document.getElementById("colorMenuTemplate");dl.addEventListener("contextmenu",function(e){if(zr.u.canManageColors(Sr)){Uo();var t=e.target.closest(".color");if(t){e.preventDefault();var n=t.querySelector(".colorName").value,a=document.importNode(Gp.content,!0),i=a.querySelector(".colorMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"delete":Ti(t)}setTimeout(function(){hi()},80)}}}),t.appendChild(a),tr(i,yc,t,e)}}}),dl.addEventListener("mouseover",function(e){e.target!==dl&&e.target.closest(".color").classList.remove("highlight")}),dl.addEventListener("input",function(e){var t=e.target.selectionStart,n=e.target.selectionEnd,a=e.target.value;if(e.preventDefault(),e.target.classList.contains("colorName"))e.target.value=e.target.value.replace(Nm[jr.type],"");else if(e.target.classList.contains("colorHex"))e.target.value=e.target.value.replace(/([^a-fA-F0-9])/g,"");else{if(!e.target.classList.contains("colorAlpha"))return;e.target.value=e.target.value.replace(/([^0-9])/g,"")}t-=a.length-e.target.value.length,n-=a.length-e.target.value.length,e.target.setSelectionRange(t,n)}),dl.addEventListener("submit",function(e){e.target.classList.contains("colorInfoForm")&&e.target.checkValidity()&&(e.preventDefault(),e.target.querySelector("input[type='text']").blur())}),dl.addEventListener("blur",function(e){if(zr.u.canManageColors(Sr)){e.preventDefault();var t=e.target.closest(".color");if(t){var n,a=t.dataset.id,i=e.target,o=e.target.value,r=jr.findColorById(a);if(i.classList.contains("colorName"))eo(o,r,t);else if(i.classList.contains("colorHex")){if(r.hexBase()===o)return;if(!o||!/^[\da-f]{6}$/i.test(o))return void(e.target.value=r.hexBase());if(n=jr.checkDuplicateColorHex(o,r))Ur.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=r.hexBase();else{var s=Jr.a.fromHex(o);Ii({r:s.r,g:s.g,b:s.b},r,t)}}else if(i.classList.contains("colorAlpha")){if(100*r.a===o)return;if(!o||/\D/.test(o)||o/100>1)return void(e.target.value=Math.round(100*r.a));(n=jr.checkDuplicateColorAlpha(o,r))?(Ur.a({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=Math.round(100*r.a)):Ii({a:o/100},r,t)}}}},!0),dl.addEventListener("keydown",function(e){e.stopPropagation();var t=e.target.closest(".color");if(t)switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var n=jr.findColorById(t.dataset.id);e.target.classList.contains("colorName")?e.target.value=n.name:e.target.classList.contains("colorHex")?e.target.value=n.hexBase():e.target.classList.contains("colorAlpha")&&(e.target.value=Math.round(100*n.a)),e.target.blur()}else e.target.blur()}),document.body.classList.contains("canDownload")&&(hu.addEventListener("click",function(e){var t="osx"===jr.type?"mac":jr.type;yi("color"),cr(t)}),yu.addEventListener("click",function(e){var t="osx"===jr.type?"mac":jr.type;yi("textstyle"),cr(t)})),ll.addEventListener("blur",function(){zr.u.canUpdateProject(Sr)&&ll.value!==jr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:ll.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(e){U(e.prefix,!0,!0)}).catch(Wr.b)}),ll.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),ll.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),ll.value=jr.prefix,dm.iosCategoryPrefix=jr.prefix,ll.blur()}}),ll.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?dm.iosCategoryPrefix=e.target.value:e.target.value=dm.iosCategoryPrefix}),[cl,sl].forEach(function(e){e.addEventListener("blur",function(t){t.preventDefault(),t.target.value?(ws.a.updateOption("categoryName",t.target.value),Na()):Zr.b.get(Zd.pid,"osxCategoryName").then(function(t){e.value=t,dm[e.id]=t})})}),[cl,sl].forEach(function(e){e.addEventListener("keydown",function(t){switch(t.stopPropagation(),t.keyCode){case Zeplin.KEY_CODE.ENTER:e.blur();break;case Zeplin.KEY_CODE.ESC:var n=ws.b.getState();e.value=n.options.categoryName,dm[e.id]=n.options.categoryName,e.blur()}})}),[cl,sl].forEach(function(e){e.addEventListener("input",function(t){t.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(t.target.value)?dm[e.id]=t.target.value:t.target.value=dm[e.id]})}),ul.addEventListener("blur",function(){zr.u.canUpdateProject(Sr)&&ul.value!==jr.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:ul.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Wr.a(e.status,t)})}).then(function(e){U(e.prefix,!0,!0)}).catch(Wr.b)}),ul.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),ul.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),ul.value=jr.prefix,dm.osxCategoryPrefix=jr.prefix,ul.blur()}}),ul.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?dm.osxCategoryPrefix=e.target.value:e.target.value=dm.osxCategoryPrefix}),window.addEventListener("offline",function(){"screen"===Ks.dataset.selection&&(tl.textContent="Looks like there is a problem with the connection.",Ks.className="offline")});var Kp=document.getElementById("screenSuggestionTemplate"),Xp=document.getElementById("memberMenuTemplate");rl.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".memberActionsButton"),n=t&&t.parentElement;t&&!n.classList.contains("memberMenuOpen")&&(e.stopPropagation(),Ni(n))}),Ns.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:e.target.value=jr.name,e.target.blur()}}),Ns.addEventListener("blur",function(e){e.preventDefault(),e.target.value!==jr.name&&Ui(e.target.value)}),Fs.addEventListener("submit",function(e){e.preventDefault(),Ns.blur()});var Jp=document.getElementById("slackSettingsMenuTemplate");Ld.addEventListener("click",function(e){if(e.stopPropagation(),Uo(),e.target.classList.contains("slackSettingsButton")&&!e.target.classList.contains("disabled")){var t=e.target.closest(".integration"),n=jr.integration.slacks.find(function(e){return e._id===t.dataset.id}),a=document.importNode(Jp.content,!0).querySelector(".slackSettingsMenu");a.querySelector("a").href=n.incomingWebHook.configurationURL,a.addEventListener("click",function(e){switch(e.target.dataset.action){case"add":if(Lm)return void Vr.a.ipcRenderer.send("add-to-slack",{id:jr.id,name:jr.name});y(),s(Ar,{inNewTab:!1});break;case"preferences":fs.b(t.dataset.id,n.incomingWebHook.channel);break;case"remove":Ki("slacks",t.dataset.id)}}),t.classList.add("slackMenuOpen"),t.appendChild(a)}});var $p=document.getElementById("slackIntegrationTemplate");ou.addEventListener("mouseover",function(e){e.target!==ou&&e.target.closest(".font").classList.remove("highlight")}),ou.addEventListener("submit",function(e){e.preventDefault(),e.target.querySelector(".styleName").blur()}),ou.addEventListener("blur",function(e){if(zr.u.canManageTextStyles(Sr)){e.stopPropagation();var t=e.target.closest(".font");t&&(e.target.selectionEnd-e.target.selectionStart&&e.target.setSelectionRange(0,0),Qi(t.dataset.id,e.target))}},!0),ou.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".font").dataset.id,n=jr.findTextStyleById(t);e.target.value=n.name,e.target.blur()}}),ou.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".font");t&&(e.target.classList.contains("deleteTextStyle")?Ur.a({title:'Delete "'+t.querySelector(".styleName").value+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){ro(t.dataset.id)}},cancel:{name:"CANCEL"}}):e.target.classList.contains("deleteTSColor")&&Ur.a({message:'Delete color of "'+t.querySelector(".styleName").value+'"?',done:{name:"DELETE",cb:function(){e.target.parentElement.classList.add("hidden"),lo(t.dataset.id,{color:null})}},cancel:{name:"CANCEL"}}))}});var Qp=document.getElementById("textStyleMenuTemplate");ou.addEventListener("contextmenu",function(e){if(zr.u.canManageTextStyles(Sr)){Uo();var t=e.target.closest(".font");if(t){e.preventDefault();var n=t.querySelector(".styleName").value,a=document.importNode(Qp.content,!0),i=a.querySelector(".textStyleMenu");Array.from(i.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),i.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){switch(e.stopPropagation(),a.dataset.action){case"rename":zr.m(t.querySelector(".styleName"));break;case"delete":Ur.a({title:'Delete "'+n+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){ro(t.dataset.id),co()}},cancel:{name:"CANCEL"}})}setTimeout(function(){co()},80)}}}),t.appendChild(a),tr(i,yc,t,e)}}});var eg=0;Eu.addEventListener("click",function(e){e.stopPropagation(),ku.focus();var t=po(bu.dataset.sid);if(e.target.classList.contains("removeTag"))bo(t,zr.F(e.target.parentElement.dataset.tag),"remove");else{var n=e.target.closest(".tagSuggestion");if(!n)return;bo(t,zr.F(n.dataset.tag),"add")}}),Su.addEventListener("click",function(e){ku.focus(),e.stopPropagation()}),Su.addEventListener("keydown",function(e){e.stopPropagation();var t=Cu.querySelectorAll(".tagSuggestion");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault();var n=Eu.querySelector(".tagSuggestion.selected");n&&bo(po(bu.dataset.sid),zr.F(n.dataset.tag),"add"),(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&fo();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),t.length&&eg<t.length-1&&vo(eg+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),t.length&&eg>0&&vo(eg-1);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),fo()}}),Eu.addEventListener("mousemove",function(e){if(e.stopPropagation(),_r!==e.clientX||qr!==e.clientY){ku.focus();var t=e.target.closest(".tagSuggestion");t&&(vo(parseInt(t.dataset.suggestionIndex,10)),_r=e.clientX,qr=e.clientY)}}),xu.addEventListener("click",fo),ku.addEventListener("input",function(e){mo(jr.tags,po(bu.dataset.sid).tags,e.target.value)}),Os.addEventListener("contextmenu",function(e){if(zr.u.canManageScreens(Sr)&&(Uo(),e.target.classList.contains("tag")&&!e.target.classList.contains("untagged"))){e.preventDefault();var t,n=document.importNode(_u.content,!0),a=n.querySelector(".tagMenu"),i=zr.F(e.target.dataset.tag),o=zr.H("project-dashboard",{url:{pid:jr.id},query:{tag:[i]}});ui(o).then(function(e){t=e}),a.querySelector('.menuitem[data-action="create-section"]').classList.toggle("hidden",!Eo(i)),a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"copy-web-link":zr.d({content:t||o,toastContainer:document.querySelector(".projectOverview")});break;case"copy-app-uri":zr.d({content:"zpl://project?pid="+jr.id+"&tag="+encodeURI(i),toastContainer:document.querySelector(".projectOverview")});break;case"download-screen-images":Lo(wo(i),i+".zip");break;case"create-section":pn(i);break;case"delete":jo(i)}setTimeout(function(){So()},80)}}}),Os.appendChild(n),tr(a,Fu,Os,e)}}),"PointerEvent"in window?(Ir="pointerdown",Nr="pointermove",Fr="pointerup"):"ontouchstart"in document?(Ir="touchstart",Nr="touchmove",Fr="touchend"):(Ir="mousedown",Nr="mousemove",Fr="mouseup"),qu.addEventListener(Ir,function(e){e.preventDefault(),Co(Fu,"projectInfoWidth",{onResize:An})}),Ou.addEventListener(Ir,function(e){e.preventDefault(),mm=!0,Kn(),Uo(),Co(Pu,"versionsSidebarWrapperWidth",{location:"left",onCollapse:function(){xc.classList.contains("oldVersion")?Pu.classList.add("compact"):xc.classList.remove("versionsShown")},onExpand:function(){Pu.classList.remove("compact"),xc.classList.add("versionsShown")}})}),Au.addEventListener(Ir,function(e){e.preventDefault(),mm=!0,Kn(),Uo(),Co(Ru,"rightSidebarWrapperWidth")}),Iu.addEventListener(Ir,function(e){e.preventDefault(),Co(yc,"generatorContainerWidth")});var tg=document.getElementById("dotMenuTemplate");_c.addEventListener("contextmenu",function(e){if(!pm&&(Uo(),Kn(),e.target.classList.contains("dot")&&"undefined"!==e.target.dataset.id)){e.preventDefault();var t=document.importNode(tg.content,!0).querySelector(".dotMenu"),n=e.target,a=Gd.dots.find(function(e){return e._id===n.dataset.id});t.style.zIndex=gm+1,document.queryCommandSupported("copy")||t.querySelector("button[data-action='copy-link']").remove(),n.classList.contains("open")?t.querySelector("button[data-action='reopen']").remove():t.querySelector("button[data-action='resolve']").remove(),n.classList.add("menuOpen"),n.classList.remove("hover"),t.addEventListener("click",function(e){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"reopen":Oo(a._id,"open");break;case"resolve":Oo(a._id,"resolved");break;case"copy-link":zr.d({content:zr.H("project-screen",{url:{pid:jr.id,sid:Gd._id},query:{did:a._id}}),toastContainer:kc});break;case"delete":var i;i=a.creator?a.creator._id===Zeplin.user._id?"Delete your note?":"Delete "+a.creator.username+"'s note?":"Delete Anonymous's note?",Ur.a({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){xo(Gd,n)}},cancel:{name:"CANCEL"}})}setTimeout(function(){ko()},80)}}),t.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!(a.creator&&a.creator._id===Zeplin.user._id||zr.u.canRemoveNotes(Sr))),Oc.appendChild(t),tr(t,Ru,Oc,e)}}),_c.addEventListener("mousedown",function(e){e.target.classList.contains("dot")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&"undefined"!==e.target.dataset.id&&To(e.target)}),_c.addEventListener("mouseenter",function(e){e.target.classList.contains("dot")&&e.target.classList.add("hover")},!0),_c.addEventListener("mouseout",function(e){e.target.classList.contains("dot")&&e.target.classList.remove("hover")}),pl.addEventListener("submit",function(){if(zr.u.canManageScreens(Sr)){ms.close();var e=ms.formatEmojiString(gl.value.trim(),!0);if(gl.value=e,Gd&&Gd.description!==e){var t=Gd;fetch(Zeplin.urls.baseURL+"/projects/"+jr.id+"/screens/"+t._id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({description:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Wr.a(e.status,t)})}).then(function(){t.description=e}).catch(function(e){Wr.b(e,{dialogCallback:function(){gl.startEditing()}})})}}}),jc.querySelector(".organizationRules .minRole").textContent=Rm.rook,Uu.addEventListener("click",function(e){zu.disabled=!1,Xu.classList.remove("copied");var t=zr.u.canChangeProjectAccesibility(Sr);if(jr.public){if(e.stopPropagation(),Uo(),!t&&!document.queryCommandSupported("copy"))return void s(jr.sceneUrl);var n=document.importNode(Hu.content,!0),a=n.querySelector(".shareSceneMenu");a.querySelector("button[data-action='copy-scene-link'] > span").textContent=document.queryCommandSupported("copy")?"Copy link":"Open in new tab",a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"unshare":Ro(!1);break;case"copy-scene-link":document.queryCommandSupported("copy")?zr.d({content:jr.sceneUrl,toastContainer:Nu}):s(jr.sceneUrl)}setTimeout(function(){Bo()},80)}}}),n.querySelector(".menuitem[data-action='unshare']").classList.toggle("hidden",!t),Wu.appendChild(n)}else zu.disabled=!t,Yu.classList.add("hidden"),Vu.classList.remove("hidden"),jc.showModal()}),zu.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),zu.classList.contains("loading")||(zu.classList.add("loading"),Zu.disabled=!0,Ro(!0))}),Zu.addEventListener("click",function(e){zu.classList.contains("loading")&&(e.preventDefault(),e.stopPropagation())}),Gu.addEventListener("click",function(){zr.y(Gu)}),Ku.addEventListener("click",function(){jc.close()});var ng;id.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".sidebarMenu")).forEach(function(e){e.addEventListener("mouseenter",function(e){e.target.closest(".sidebarMenuItems")&&$o(e.target.closest(".mainMenu"))},!0),e.addEventListener("click",function(t){t.button===Zeplin.MOUSE_BUTTON.LEFT&&(t.stopPropagation(),t.target.closest(".mainMenu")||ar(document.querySelector(".sidebarOptionsButton[data-menu-id='"+e.id+"']")))})});var ag,ig=document.getElementById("invitePopupContainer"),og=new MutationObserver(function(e){e.forEach(function(e){if(e.oldValue&&e.oldValue.includes("sticky")||!e.target.classList.contains("sticky"))e.oldValue.includes("sticky")&&!e.target.classList.contains("sticky")&&(ig.style.right=0);else{var t=ig.clientWidth-ag;ig.style.right=t?t+"px":0}})});CSS.supports("position","sticky")||(og.observe(Nu,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),Nu.addEventListener("scroll",function(){ag=ig.offsetWidth,Nu.classList.toggle("sticky",Nu.scrollTop>=242+Ld.offsetHeight)}));var rg,sg=60,lg=108,cg=12,ug=12,dg=359,mg=26,pg=dg-lg;ud.addEventListener("search",function(e){dd.classList.toggle("searching",!!ud.value.length),In({immediate:!1})});var gg;ud.addEventListener("input",function(){Nn(),dd.classList.toggle("searching",!!ud.value.length),clearTimeout(gg),gg=setTimeout(function(){if(dd.classList.toggle("searching",!!ud.value.length),!ud.value)return delete Zd.q,void V(jr.id);var e="q"in Zd;Y(zr.H("project-dashboard",{url:{pid:Zd.pid},query:{q:ud.value}}),{shouldReplace:e})},200)}),ud.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),ud.value.trim()?(ud.value="",dd.classList.remove("searching"),V(jr.id)):sr())}),ud.addEventListener("focus",function(e){e.preventDefault(),md.classList.add("focus"),dd.classList.toggle("searching",!!ud.value.length)}),ud.addEventListener("blur",sr),Array.from(kd.querySelectorAll('input[type="checkbox"]')).forEach(function(e){e.addEventListener("change",function(e){var t="lastUpdated"===e.target.name?"name":"lastUpdated";document.querySelector('#sortOptions input[name="'+t+'"]').checked=!1,In(),e.target.checked&&e.preventDefault()})}),Array.from(document.querySelectorAll("input[name='allAssetsNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){xd.querySelector("span").textContent=Fm[e.target.value],Cd.querySelector("span").textContent=Fm[e.target.value],document.querySelector("input[name='assetNamingConvention'][value='"+e.target.value+"']").checked=!0,fi(e.target.value),lr(e.target.value),Zr.b.set(Zd.pid,"assetNamingConvention",e.target.value)})}),Array.from(document.querySelectorAll("input[name='assetNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){xd.querySelector("span").textContent=Fm[e.target.value],Cd.querySelector("span").textContent=Fm[e.target.value],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e.target.value+"']").checked=!0,fi(e.target.value),lr(e.target.value);var t=Kd.snapshot.assets.find(function(e){return e.layerId?e.layerId===wr.sourceId:e.layerName===wr.name});if(t){var n=it(t.contents);n&&ja(wr,n,t,e.target.value)}Zr.b.set(Zd.pid,"assetNamingConvention",e.target.value)})});var fg,hg=!1;Tm.route(/\/project\/([0-9a-z]+)\/screen\/([0-9a-z]+)/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");var t=e.match[0],n=e.match[1];Zd=Object.assign({pid:t,sid:n},e.query);var a=ur(t);a&&a.then(function(){if(jr){if(zr.I(n,"screen")){if(!Gd||Gd._id!==n)return Ht(n)}else Ur.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),V(jr.id,Fn());return Promise.resolve()}}).then(function(){if(Gd){if(z(),!("dots"in Gd))return;e.query.did&&1===e.query.did.length?(Pa($(e.query.did[0]),!0),ua(e.query.did[0],e.query.cmid)):v(e.query.did)}})}),Tm.route(/\/project\/([0-9a-z]+)(?:\/(dashboard|styleguide))?/i,function(e){var t=e.match[0],n=e.match[1]||"dashboard";ga("set","location",location.href),ga("set","title",zr.G(n)+" - Zeplin"),ga("send","pageview"),Zd=Object.assign({pid:t},e.query);var a=ur(t);a&&a.then(function(){jr&&("sid"in e.query?("dashboard"!==$d&&X(),zt().length&&(Nn(),In()),S(e.query.sid)):"seid"in e.query?("dashboard"!==$d&&X(),L(e.query.seid)):"dashboard"===n?("dashboard"!==$d&&X(),"tag"in e.query?Pn(e.query.tag):(Nn(),"untagged"in e.query&&Os.childElementCount&&document.querySelector(".tag.untagged").classList.add("selected"),"q"in e.query?(ud.value=e.query.q||"",dd.classList.toggle("searching",!!ud.value.length)):(ud.value="",dd.classList.remove("searching")),In())):"cid"in e.query?("styleguide"!==$d&&J(),w(e.query.cid)):"tsid"in e.query?("styleguide"!==$d&&J(),C(e.query.tsid)):"styleguide"===n&&"styleguide"!==$d&&J(),hr(),z(),dr())})}),Tm.start(document.body,function(){es.a.measurePageDefaults(),es.a.measure("page.start"),pr(),window.addEventListener("online",function(){Cookies.get("userToken")&&(h(),"screen"===Ks.dataset.selection&&(tl.textContent="Keep working! Connection is back…",Ks.className="online",document.hidden?document.addEventListener("visibilitychange",function e(){document.removeEventListener("visibilitychange",e),fr()}):fr()),sm=!0,setTimeout(function(){ie(Zd.pid).then(function(){"sid"in Zd&&Ht(Zd.sid)})},1e3))}),kl.dataset.selection=document.querySelector(".resourceTab:checked").value,Array.from(document.querySelectorAll(".resourceTab")).forEach(function(e){e.addEventListener("change",function(e){kl.dataset.selection=e.target.value})}),Zr.c.get("tabTutorialSeen").then(function(e){e||(nd.classList.remove("hidden"),nd.addEventListener("click",function(e){e.stopPropagation(),nd.classList.add("hidden"),id.classList.remove("hidden")}))}),Zr.c.get("versionsTutorialSeen").then(function(e){e||(ad.classList.remove("hidden"),ad.addEventListener("click",function(e){e.stopPropagation(),ad.classList.add("hidden");var t=Hr.a({content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:function(){Zr.c.set("versionsTutorialSeen",!0)}});document.body.appendChild(t)}))})})},function(e,t,n){"use strict";t.a=function(e){var t=i.a.h(o.a,e);return i.a.render(t,null)};var a=n(3),i=n.n(a),o=n(88)},function(e,t,n){"use strict";var a=n(89);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(11),r=n(90);n.n(r);class s extends i.a.Component{constructor(e){super(e),this.stopPropagation=this.stopPropagation.bind(this),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}stopPropagation(e){e.stopPropagation()}closePopup(){i.a.render(null,this.base.parentElement,this.base)}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(e,t){const n=["hideableInfo"];e.popover&&n.push("popover");let a;a="html"===e.type?i.a.h("div",{dangerouslySetInnerHTML:{__html:e.content},class:"infoText"}):i.a.h("div",{class:"infoText"},e.content);let r=null;e.actionButton&&e.actionButton.text&&e.actionButton.callback&&(r=i.a.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},e.actionButton.text));let s=null;return e.noControls||(s=i.a.h("div",{class:"infoButtons"},i.a.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.a.h("div",null,i.a.h("img",{src:o.a("img/icGuidelineRemove.svg"),alt:"×"}),i.a.h("span",{class:"infoHideButtonText"},e.buttonText?e.buttonText:"OK, hide it!"))),r)),i.a.h("div",{class:n.join(" "),onClick:this.stopPropagation},i.a.h("img",{width:"20",height:"20",src:o.a("img/icTip.png"),srcset:`${o.a("img/icTip@2x.png")} 2x, ${o.a("img/icTip@3x.png")} 3x`,alt:"💁"}),i.a.h("div",{class:"infoBody"},a,s),i.a.h("div",{class:`anchor ${e.anchor?e.anchor:"bottom"}`}))}}t.a=s},function(e,t){},function(e,t,n){"use strict";function a(e,t){var n=this,a=e,o=a.querySelector(".formattedText"),r=a.querySelector(".mirror"),s=a.querySelector("textarea"),l=a.querySelector(".counter"),c=s.maxLength,u=s.value;Object.defineProperties(this,{root:{value:a},textarea:{value:s},counter:{value:l},mirror:{value:r},placeholder:{get:function(){return s.placeholder},set:function(e){r.innerHTML=i.f(e)+"&nbsp;",o.dataset.placeholder=i.f(e),s.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return s.readOnly},set:function(e){s.readOnly=e}},_originalValue:{value:u,writable:!0},value:{get:function(){return s.value},set:function(e){r.innerHTML=i.f(e||s.placeholder)+"&nbsp;",o.innerHTML=t(e),s.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),a.classList.add("zplTextarea"),r.innerHTML="&nbsp;",a.classList.contains("autoedit")&&(a.addEventListener("click",function(e){e.stopPropagation()}),o.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),a.classList.contains("autosubmit")&&s.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")&&n.submitEdits()}),s.addEventListener("keydown",function(e){if(!s.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),s.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),s.addEventListener("input",function(e){s.readOnly||(n._setMaxLength(),l.textContent=c-s.value.length,r.innerHTML=i.f(s.value)+"&nbsp;",o.innerHTML=t(s.value),n.checkAutoComplete())}),s.addEventListener("drop",function(){s.readOnly||setTimeout(function(){s.focus()},4)}),s.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),a.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}t.a=a;var i=n(0);a.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},a.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},a.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},a.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},a.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))}},function(e,t,n){"use strict";function a(e,t){var n,a;if("unknown"===e)n="px",a="px";else switch(t){case"android":n="dp",a="sp";break;case"ios":case"osx":n="pt",a="pt";break;case"web":default:n="px",a="px"}return{textDimensionSuffix:a,dimensionSuffix:n}}function i(e){var t;switch(e){case"mdpi":case"1x":case"web":case"unknown":default:t=1;break;case"hdpi":t=1.5;break;case"xhdpi":case"2x":t=2;break;case"xxhdpi":case"3x":t=3;break;case"xxxhdpi":case"4x":t=4}return t}function o(e,t){if(e.length){var n=e[0].fontSize/t,a=e[e.length-1].fontSize/t;if(n<=36&&a>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var i,o;n<14?(i=24,o=14):a>36?(i=36,o=24):(i=Math.min(36,n),o=Math.max(14,a));var r=n===a?0:(i-o)/(n-a);e[0].scaledFontSize=Math.round(i);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*r)}}}}function r(e,t,n){switch(n){case"ios":case"osx":t=t.replace(/\s/,"");break;case"web":t="-"+t.replace(/\s/,"-").toLowerCase();break;case"android":t="_"+t.replace(/\s/,"_").toLowerCase()}return e+t}function s(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(e>19){var a=e%10;return n[Math.floor(e/10)]+(a?" "+t[a]:"")}return t[e]}function l(e){var t,n,r,s,l=Object.assign({},e);l.users.sort(c.C.role),l.integration&&l.integration.slacks||(l.integration={slacks:[]}),n="https://scene.zeplin.io/project/"+l._id,s=l.colors.map(function(e){return new u.a(e)}),(t=l.textStyles.map(function(e){return new d.a(e)})).sort(c.g),o(t,i(l.density)),delete l.textStyles,delete l.colors;var m=l.screens.map(function(e){return e._id});l.sections.forEach(function(e){e.screens=e.screens.filter(function(e){return m.includes(e)})}),Object.defineProperties(this,{id:{value:l._id},type:{value:l.type},name:{get:function(){return l.name},set:function(e){l.name=e}},colors:{get:function(){return s}},density:{get:function(){return l.density},set:function(e){l.density=e}},icon:{value:l.icon},integration:{get:function(){return l.integration},set:function(e){l.integration=e}},prefix:{get:function(){return l.prefix},set:function(e){l.prefix=e}},public:{get:function(){return l.public},set:function(e){l.public=e}},allowedVersionCount:{value:3,writable:!0},screens:{get:function(){return l.screens},set:function(e){l.screens=e}},sections:{get:function(){return l.sections},set:function(e){l.sections=e}},status:{get:function(){return l.status},set:function(e){l.status=e}},textStyles:{get:function(){return t}},thumbnail:{get:function(){return l.thumbnail},set:function(e){l.thumbnail=e}},users:{get:function(){return l.users}},url:{value:c.H("project",{url:{pid:l._id}})},shortUrl:{get:function(){return r},set:function(e){r=e}},sceneUrl:{get:function(){return n},set:function(e){n=e}},slackTeamId:{get:function(){if(l.integration.slacks.length)return l.integration.slacks[0].teamId}},tags:{get:function(){var e=[];return new Set(l.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort(c.C.naturally)}},baseDensity:{value:"android"===l.type?"mdpi":"1x"},densityDivisor:{get:function(){return i(l.density)}},dimensionSuffix:{get:function(){return a(l.density,l.type).dimensionSuffix}},textDimensionSuffix:{get:function(){return a(l.density,l.type).textDimensionSuffix}},updated:{get:function(){return l.updated},set:function(e){l.updated=e}}})}t.a=l;var c=n(0),u=n(17),d=n(25);l.prototype.addTextStyle=function(e){this.textStyles.push(new d.a(e)),this.textStyles.sort(c.g),o(this.textStyles,this.densityDivisor)},l.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(c.g),o(this.textStyles,this.densityDivisor))},l.prototype.removeTextStyle=function(e){var t=c.b(this.textStyles,function(t){return t.id===e});return o(this.textStyles,this.densityDivisor),t},l.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},l.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},l.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},l.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},l.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},l.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},l.prototype.addUser=function(e){this.users.push(e),this.users.sort(c.C.role)},l.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(c.C.role))},l.prototype.removeUser=function(e){return c.b(this.users,function(t){return t.user._id===e})},l.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(c.C.role)),this.screens.forEach(function(n){n.dots&&n.dots.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach(function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)})}),n.versions.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)})})},l.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},l.prototype.addColor=function(e){this.colors.push(new u.a(e))},l.prototype.removeColor=function(e){return c.b(this.colors,function(t){return t.id===e})},l.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},l.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},l.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},l.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},l.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},l.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},l.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},l.prototype._checkProjectColors=function(e){for(var t,n=0;n<this.colors.length;n++){var a=this.colors[n];if(a.hexBase()===e.hexBase()){var i=a.name.length,o=parseInt(a.name.substr(i-2),10);t=o&&o===Math.round(100*a.a)?a.name.substr(0,i-2):a.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(r(t,Math.round(100*e.a).toString(),this.type))},l.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=r(e,s(++n),this.type);return t},l.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},l.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var a;return n.tags&&-1!==(a=n.tags.indexOf(e))?(n.tags.splice(a,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},l.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&c.b(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},l.prototype.splitSection=function(e,t,n){var a=this.findSection(e);if(a){var i=this.sections.findIndex(function(t){return e===t._id}),o=a.screens.splice(t,a.screens.length-t);return this.sections.splice(i+1,0,{name:n,screens:o}),this.sections[i+1]}},l.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},l.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),c.b(this.sections,function(t){return t._id===e})}},l.prototype.updateSectionOrder=function(e,t){var n=this,a=[].concat(e).map(function(e){return c.b(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(a))},l.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},l.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},l.prototype.addScreensToSection=function(e,t,n){var a=this,i=this.findSection(e);i&&(t.forEach(function(e){var t=a.findScreenSection(e);t&&c.b(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(i.screens,[n,0].concat(t)))},l.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},l.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},l.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&c.b(n.screens,function(e){return e===t}))return c.b(this.screens,function(e){return e._id===t})},l.prototype.updateScreenOrder=function(e,t,n){var a=this.findSection(e);a&&(t=[].concat(t).map(function(e){return c.b(a.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},l.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.allowedVersionCount?n.versions.pop():void 0},l.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var a=c.b(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,a}},l.prototype.addIntegration=function(e,t){this.integration[e].push(t)},l.prototype.removeIntegration=function(e,t){return c.b(this.integration[e],function(e){return e._id===t})},l.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var a=new u.a(n),i=a.toCSS(e);t[i]=a.name}),t}},function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.blur=new o.a(t.blur),t.borders=t.borders.map(function(e){return new r.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new s.a(e,t.rect.width,t.rect.height)}).reverse(),t.shadows=t.shadows.map(function(e){return new c.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new l.a(e.style)}}),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===u.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(u));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new o.a(e)}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type?t.content||"":""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows}})}t.a=a;var i=n(51),o=n(94),r=n(95),s=n(52),l=n(25),c=n(98),u=["text","shape","group"];a.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},a.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},a.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(a){var i=t.find(function(e){return e.font.equals(a.font)}),o=a.range.end-a.range.start;i||(i={font:a.font,totalLength:0},t.push(i)),i.totalLength+=o,i.totalLength>n&&(n=i.totalLength,e=i)}),e&&e.font}}},function(e,t,n){"use strict";t.a=function(e){if(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(a));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}};var a=["gaussian","background"]},function(e,t,n){"use strict";t.a=function(e,t,n){var i=Object.assign({},e);i.fill=new a.a({fillType:i.fillType,color:i.color,gradient:i.gradient,opacity:i.opacity,blendMode:i.blendMode},t,n),delete i.fillType,delete i.color,delete i.gradient,delete i.opacity,delete i.blendMode,Object.defineProperties(this,{position:{get:function(){return i.position},set:function(e){i.position=e}},thickness:{get:function(){return i.thickness},set:function(e){i.thickness=e}},fill:{get:function(){return i.fill},set:function(e){i.fill=e}}})};var a=n(52)},function(e,t,n){"use strict";t.a=function(e,t,n){var o=Object.assign({},e);if("angle"in o){var r=Math.cos(o.angle*Math.PI/180),s=Math.sin(o.angle*Math.PI/180);o.angle=(360+Math.round(180*Math.atan2(r,s)/Math.PI))%360}else{var l=(o.from.x-o.to.x)*t,c=(o.from.y-o.to.y)*n;o.angle=(360-Math.round(180*Math.atan2(l,c)/Math.PI))%360}o.colorStops=o.colorStops.map(function(e){return new a.a(e)}),Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===i.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(i));o.type=e},enumerable:!0},from:{get:function(){return o.from},set:function(e){o.from=e},enumerable:!0},to:{get:function(){return o.to},set:function(e){o.to=e},enumerable:!0},angle:{get:function(){return o.angle},set:function(e){o.angle=e},enumerable:!0},scale:{get:function(){return o.scale},set:function(e){o.scale=e},enumerable:!0},colorStops:{value:o.colorStops,enumerable:!0}})};var a=n(97),i=["linear","radial","angular"]},function(e,t,n){"use strict";t.a=function(e){var t=Object.assign({},e);t.color=new a.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new a.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})};var a=n(17)},function(e,t,n){"use strict";t.a=function(e){var t=Object.assign({},e);t.color=new a.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===i.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(i));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new a.a(e)}}})};var a=n(17),i=["outer","inner"]},function(e,t){e.exports=CodeMirror},function(e,t){e.exports=Autolinker},function(e,t){e.exports=JSZip},function(e,t,n){"use strict";function a(e){this._isMac=e&&e.mac,this._routes=[],this._history=new i,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function i(){this._history=window.history,this._listeners={},this._listenerCount=0,window.addEventListener("popstate",this._handlePopState.bind(this))}function o(e,t){this._element=e,this._router=t,this._element.addEventListener("click",this._clickHandler.bind(this))}var r=n(0);Object.defineProperties(a.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t,n){var a=Promise.resolve();return this._hookAppLinks(e),t&&(a=a.then(t)),a=a.then(function(){this._handle(window.location.href)}.bind(this)),n&&a.then(n),this}},_createLink:{value:function(e){new o(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var t=this._findRoute(e);if(t)return t.handler({url:e,match:e.href.match(t.regex).slice(1),query:Object(r.t)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});var a={attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,a)}}}),Object.defineProperties(i.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,t){this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,t){this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(o.prototype,{element:{get:function(){return this._element}},_shouldReplace:{get:function(){return!!this._element.dataset.replace}},_clickHandler:{value:function(e){!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)||(e.preventDefault(),this._shouldReplace?this._router.history.replace(this._element.href):this._router.history.push(this._element.href))}}}),t.a=a},function(e,t,n){"use strict";function a(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s&&(e.target.classList.contains("assetExportTargetProjectFolder")?(o(l,!0),u.a.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})):e.target.classList.contains("openInExplorer")&&u.a.ipcRenderer.send("open-item",s))}function i(e,t){t?m.forEach(function(e){var n=e.querySelector(".assetExportTargetProjectName span"),a=e.querySelector(".assetExportTargetProjectFolder");s=t.projectFolder,n.title=t.projectName,n.textContent=t.projectName,a.title=t.projectFolder,a.textContent=t.projectFolderPathParts.join("▸"),e.classList.remove("android","custom","hidden"),e.classList.add(t.projectFolderType)}):m.forEach(function(e){e.classList.add("hidden"),e.classList.remove("android","custom")})}function o(e,t){l=e,m.forEach(function(e){t||(e.classList.add("hidden"),e.classList.remove("android","custom"))}),u.a.ipcRenderer.removeAllListeners(e+":asset-download-target"),u.a.ipcRenderer.once(e+":asset-download-target",i)}function r(e,t){d.B("Exported to "+t.projectName,p),"android"===c&&mixpanel.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}t.b=function(e,t){c=t,o(e),u.a.ipcRenderer.send("query-asset-download-target",e)},t.a=function(e){o(e.projectId,!0),u.a.ipcRenderer.removeAllListeners("assets-downloaded"),u.a.ipcRenderer.once("assets-downloaded",r),u.a.ipcRenderer.send("download-assets",e)};var s,l,c,u=n(10),d=n(0),m=Array.from(document.querySelectorAll(".assetExportTargetProject")),p=document.querySelector("main");m.forEach(function(e){e.addEventListener("click",a)})},function(e,t,n){"use strict";function a(e){return e?(f=e,(L=y.a.getSuggestedEmojis(e)).length?(L.forEach(i),v.appendChild(j),!m||o(m)?(E=0,m=L[0]):E=v.querySelector(".suggestedItem[data-emoji='"+m.emoji+"']").dataset.index,v):void(m=null)):(m=null,E=0,void d())}function i(e,t){var n=document.importNode(S.content,!0),a=n.querySelector(".suggestedItem"),i=e.alias.replace(/\s/gi,"_");a.dataset.index=t,a.dataset.emoji=e.emoji,e.customEmoji?(a.querySelector(".emojiImg").src=e.emoji,a.classList.add("customEmoji")):a.querySelector(".emojiChar").textContent=e.emoji,a.querySelector(".emojiAlias").textContent=i,a.querySelector(".emojiAlias").title=i,j.appendChild(n)}function o(e){return!L.some(function(t){return t.emoji===e.emoji})}function r(e){var t=p.selectionStart,n=p.value.substring(0,t),a=n.length-n.split("").reverse().join("").search(/:/)-1,i=p.value.substring(a,t),o=e.alias.replace(/\s/g,"_");p.value=p.value.substring(0,a)+i.replace(f,o+": ")+p.value.substring(t),g.innerHTML=Object(h.f)(p.value)+"&nbsp;";var r=t-f.length+o.length+2;p.focus(),p.setSelectionRange(r,r),d()}function s(e,t,n){return e.replace(w,function(e,a){var i=y.a.searchEmoji(a);if(i){if(n)return"";if(!i.customEmoji)return i.emoji;if(!t)return'<img class="customEmoji" src="'+i.emoji+'" title="'+a+'">'}return e})}function l(e,t){if(p=e,g=t,!v.classList.contains("hidden")){var n=v.querySelector(".suggestedItem.selected");n&&(m=L[n.dataset.index])}var i=e.value.substring(0,e.selectionStart),o=i.lastIndexOf(":"),r=e.value.substring(o,e.selectionStart).match(/^:(.+)/);if(r){var s=r[0].substring(1);if(f===s&&!v.classList.contains("hidden"))return;d();var l=i.substring(0,o).lastIndexOf(":"),c=i.substring(l,o+1).match(w);if(c&&y.a.searchEmoji(c[0].substring(1,c[0].length-1)))return;return a(s)}E=0,m=null,d()}function c(e,t){return s(e,t)}function u(){var e={elements:{textContainer:p,suggestedListContainer:v},cb:{autoComplete:r},index:E,list:L};b.b(e)}function d(){b.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return l}),n.d(t,"open",function(){return u}),n.d(t,"close",function(){return d}),n.d(t,"formatEmojiString",function(){return c}),n.d(t,"replace",function(){return s});var m,p,g,f,h=n(0),y=n(53),b=n(54),v=document.getElementById("suggestedEmojisContainer"),j=v.querySelector(".suggestedListBox"),S=document.getElementById("suggestedEmojiTemplate"),E=0,L=[],w=/:(\S+?):/g},function(e,t,n){"use strict";t.a=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";function a(){var e=[{user:{username:"everyone",_id:"everyone"},icon:g.icon.type,projectName:g.name}].concat(g.users);if(e.length>1)return""===L?(S=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status}),E=1,p=S[1]):S=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status&&t.username.startsWith(L)}),S.length?(S.forEach(i),b.appendChild(v),!p||o(p)?(E=0,p=S[0]):E=b.querySelector(".suggestedItem[data-id='"+p.user._id+"']").dataset.index,b):void u();u()}function i(e,t){var n=document.importNode(j.content,!0),a=n.querySelector(".suggestedItem"),i=n.querySelector(".suggestedUserName"),o=n.querySelector(".everyoneInfo"),r=n.querySelector(".suggestedUserImage"),s=n.querySelector(".projectIcon");a.dataset.id=e.user._id,a.dataset.index=t,i.textContent=e.user.username||e.user.email,i.title=e.user.username||e.user.email,"everyone"===e.user._id?(o.textContent="Notify everyone in "+e.projectName,s.dataset.type=e.icon,r.parentElement.classList.add("hidden")):(o.textContent="",h.A(r,e.user)),v.appendChild(n)}function o(e){return!S.some(function(t){return t.user._id===e.user._id})}function r(e){var t=d.value.substring(0,d.selectionStart),n=d.value.substring(d.selectionStart),a=e.user.username,i=t.substr(0,t.lastIndexOf("@"))+"@"+a+" ";d.value=i+n,m.innerHTML=h.f(d.value)+"&nbsp;",d.focus(),d.setSelectionRange(i.length+1,i.length+1),u()}function s(e,t,n){if(d=e,m=t,g=n,!b.classList.contains("hidden")){var i=b.querySelector(".suggestedItem.selected");i&&(p=S[i.dataset.index])}var o,r=h.h(d.value.substring(0,d.selectionStart),!0);return o=h.h(d.value.substr(d.selectionStart)),o=o>-1?d.selectionStart+o:0,u(),L=null,"everyone"===(L=o?d.value.substring(r+1,o):d.value.substring(r+1))&&(L=""),a()}function l(){L&&y.b(f)}function c(){f={elements:{textContainer:d,suggestedListContainer:b},cb:{autoComplete:r},index:E,list:S},y.b(f)}function u(){y.a()}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return s}),n.d(t,"checkStatus",function(){return l}),n.d(t,"open",function(){return c}),n.d(t,"close",function(){return u});var d,m,p,g,f,h=n(0),y=n(54),b=document.getElementById("suggestedUsersContainer"),v=b.querySelector(".suggestedListBox"),j=document.getElementById("suggestedUsersTemplate"),S=[],E=0,L=null},function(e,t,n){"use strict";function a(e,t){b.classList.add("hidden");var n=document.elementFromPoint(e,t);return b.classList.remove("hidden"),n}function i(){requestAnimationFrame(function(){f&&s(u.root)})}function o(e,t,n){y=e,l(t,n),y.classList.add("target"),f=!0,c=!1,d=u.root.scrollHeight,u.root.addEventListener("scroll",i),u.onGrab&&u.onGrab(y,b)}function r(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function s(e){var t=j.x,n=j.y;j.x=e.scrollLeft,j.y=e.scrollTop,v.x+=t-j.x,v.y+=n-j.y}function l(e,t){var n=y.getBoundingClientRect(),a=u.root.getBoundingClientRect();j.x=u.root.scrollLeft,j.y=u.root.scrollTop,v.x=e-(n.left+j.x-a.left),v.y=t-(n.top+j.y-a.top),(b=y.cloneNode(!0)).style.top=t-v.y+"px",b.style.left=e-v.x+"px",b.classList.add("mirror"),u.root.appendChild(b)}var c,u,d,m={root:document.body,allowX:!0,allowY:!0,grabDelay:300},p={},g=0,f=!1,h=!1,y=null,b=null,v={x:0,y:0},j={x:0,y:0};document.addEventListener("click",function(e){h&&(e.preventDefault(),e.stopImmediatePropagation())},!0),document.addEventListener("mousedown",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!r(e.target)){var t=e.target.closest("[data-drag-id] > *");t&&((u=p[parseInt(t.parentNode.dataset.dragId,10)]).canGrab&&!u.canGrab(t,e.target)||(clearTimeout(c),c=setTimeout(o,u.grabDelay,t,e.clientX,e.clientY)))}}),document.addEventListener("mouseup",function(e){if(h=!1,c)clearTimeout(c),c=!1;else if(f){e.stopPropagation(),h=!0,f=!1,u.root.removeEventListener("scroll",i);var t=Promise.resolve();if(u.onDrop){var n,o,r=a(e.clientX,e.clientY);r&&(n=r.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),o=r.closest('[data-drag-id="'+u.dragId+'"]')||r.closest('[data-drop-target-for="'+u.dragId+'"]')),t=u.onDrop(y.parentNode,y,o,n,b)||t}t.then(function(){y.classList.remove("target"),b&&(b.remove(),b=null),y=null,u=null})}}),document.addEventListener("mousemove",function(e){if(f){var t=b.getBoundingClientRect(),n=u.root.getBoundingClientRect();u.allowY&&(e.clientY>window.innerHeight-t.height/10&&u.root.scrollTop+u.root.offsetHeight+t.height/10<d?u.root.scrollTop+=t.height/10:e.clientY<n.top+t.height/10&&u.root.scrollTop>0&&(u.root.scrollTop-=t.height/10))}}),document.addEventListener("mousemove",function(e){if(f){u.allowY&&(b.style.top=e.clientY-v.y+"px"),u.allowX&&(b.style.left=e.clientX-v.x+"px");var t,n,i=a(e.clientX,e.clientY);i&&(t=i.closest('[data-drag-id="'+u.dragId+'"] > *:not(.mirror)'),n=i.closest('[data-drag-id="'+u.dragId+'"]')||i.closest('[data-drop-target-for="'+u.dragId+'"]')),u.onMove(y.parentNode,y,n,t,b)}}),t.a={enable:function(e){[].concat(e).forEach(function(e){(e=Object.assign({},m,e)).containers=[].concat(e.containers).map(function(e){return e.dataset.dragId=g,e}),e.dropTargets=(e.dropTargets||[]).map(function(e){return e.dataset.dropTargetFor=g,e}),e.dragId=g,p[g]=e,g++})},disable:function(e){delete p[e]}}},function(e,t,n){"use strict";function a(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events",{method:"GET",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw v.a(e.status,t)})}).then(function(e){return e.events}).catch(function(e){v.b(e)})}function i(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function o(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/slacks/"+t+"/events/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw v.a(e.status,t)})}).catch(function(e){v.b(e)})}function r(e){var t=e.target.closest(".integrationPreference"),n=e.target;t.classList.add("loading"),e.target.disabled=!0;var a=n.name;(n.checked?u(a,h,y).then(function(){_[y][a]=Array.from(k[a].events)}):d(a,h,y).then(function(){delete _[y][a]})).then(function(){e.target.disabled=!1,t.classList.remove("loading")}).catch(function(n){e.target.disabled=!1,e.target.checked=!e.target.checked,t.classList.remove("loading"),v.b(n)})}function s(e,t){_={};var n=t.map(function(t){return a(e,t)});return Promise.all(n).then(function(e){e.forEach(function(e,n){var a=t[n];_[a]=e.reduce(function(e,t){return e[T[t]]?e[T[t]].push(t):e[T[t]]=[t],e},{})})})}function l(e,t){document.querySelector(".integrationPreferences input[type='checkbox'][name='"+e+"']").checked=t}function c(e){Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.checked=!1}),Object.keys(_[e]).forEach(function(t){_[e][t].length===k[t].events.length&&l(t,!0)})}function u(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return i(t,n,a)})},Promise.resolve())}function d(e,t,n){return k[e].events.reduce(function(e,a){return e.then(function(){return o(t,n,a)})},Promise.resolve())}function m(){E.classList.add("hidden")}function p(e){b&&S.c.unsubscribe(b),b="private-project@"+e;var t=S.c.channel(b)||S.c.subscribe(b);t.bind("AddIntegrationEvent",function(e){if(e.params.pid===h&&"slacks"===e.params.intype&&_[e.params.inid]){var t=T[e.params.event];_[e.params.inid][t]?-1===_[e.params.inid][t].indexOf(e.params.event)&&_[e.params.inid][t].push(e.params.event):_[e.params.inid][t]=[e.params.event],E.classList.contains("hidden")||_[e.params.inid][t].length===k[t].events.length&&l(t,!0)}}),t.bind("DeleteIntegrationEvent",function(e){var t=T[e.params.event];e.params.pid===h&&"slacks"===e.params.intype&&_[e.params.inid]&&_[e.params.inid][t]&&_[e.params.inid][t].indexOf(e.params.event)>-1&&(j.b(_[e.params.inid][t],function(t){return t===e.params.event}),E.classList.contains("hidden")||l(t,!1))})}function g(e,t){h=e,s(e,t).then(function(){p(e)})}function f(e,t){y=e,E.classList.remove("hidden"),x.textContent=t,x.title=t,c(e),C.scrollTop=1,C.scrollTop=0}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return f});var h,y,b,v=n(1),j=n(0),S=n(8),E=document.querySelector(".integrationPreferencesContainer"),L=document.querySelector(".integrationPreferencesDialog"),w=document.querySelector(".integrationPreferencesDone"),D=document.getElementById("slackIntegrationPreferenceTemplate"),C=document.querySelector(".integrationPreferences"),x=document.querySelector(".integrationPreferencesHeader span"),k={screens:{name:"Screens",info:"Screen added",events:["screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["version.created"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["color.created","color.updated","color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["textstyle.created","textstyle.updated","textstyle.deleted"]},notes:{name:"Notes",info:"Note added",events:["dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},T=Object.keys(k).reduce(function(e,t){return k[t].events.reduce(function(e,n){return e[n]=t,e},e)},{}),_={};Object.keys(k).forEach(function(e){var t=k[e],n=document.importNode(D.content,!0),a=n.querySelector(".integrationPreferenceGroupName"),i=n.querySelector(".integrationPreferenceGroupInfo"),o=n.querySelector("input[type='checkbox']");a.textContent=t.name,a.title=t.name,i.textContent=t.info,i.title=t.info,o.name=e,C.appendChild(n)}),E.addEventListener("click",function(e){e.stopPropagation(),m()}),L.addEventListener("click",function(e){e.stopPropagation()}),w.addEventListener("click",function(){m()}),Array.from(document.querySelectorAll(".integrationPreferences input[type='checkbox']")).forEach(function(e){e.addEventListener("change",r)})},function(e,t,n){"use strict";var a=n(110);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(111),r=n(1),s=n(114),l=(n.n(s),Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}));class c extends i.a.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.moveHandler=this.moveHandler.bind(this),this.openHandler=this.openHandler.bind(this),this.moveStartHandler=this.moveStartHandler.bind(this),this.state={spinnerIndex:-1,listItems:[],loading:!0}}stopPropagation(e){e.stopPropagation()}getInteractiveItemAtIndex(e){return this.state.listItems.filter(function(e){return"header"!==e.type})[e]}closePopup(){i.a.render(null,this.base.parentElement,this.base)}moveStartHandler(e){this.setState({spinnerIndex:e})}moveHandler(e){if(-1===this.state.spinnerIndex){if(!this.props.onMove)throw new Error("Prop onMove is required");this.props.onMove(this.getInteractiveItemAtIndex(e),e,this.moveStartHandler,this.closePopup)}}positionPopup(){var e=this.base.getBoundingClientRect(),t=Math.max(108,this.props.top-e.height/2);t=Math.min(t,window.innerHeight-24-e.height);var n=Math.min(this.props.left,window.innerWidth-36-e.width);this.base.style.top=t+"px",this.base.style.left=n+"px"}openHandler(){this.props.onOpen&&this.props.onOpen()}componentDidMount(){if(this.positionPopup(),this.openHandler(),this.props.projectsLoader){var e=this;e.setState({loading:!0}),this.props.projectsLoader().then(function(t){e.setState({loading:!1,listItems:t})}).catch(r.b)}}componentWillUnmount(){this.props.onClose&&this.props.onClose()}componentDidUpdate(){this.positionPopup()}render(e,t){var n;return n=t.loading?i.a.h("div",{class:"projectListLoading"}):i.a.h(o.a,{projectType:l[e.projectType],density:e.density,items:t.listItems,spinnerIndex:t.spinnerIndex,onSelect:this.moveHandler}),i.a.h("div",{class:"moveToProjectPopup",onClick:this.stopPropagation,onContextMenu:this.stopPropagation},i.a.h("p",null,"To keep asset sizes and measurements consistent, only ",i.a.h("strong",null,l[e.projectType])," projects with ",i.a.h("strong",null,e.density)," density are listed. Select one or create a new one to move the screen(s):"),n)}}t.a=c},function(e,t,n){"use strict";var a=n(112);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(0),r=n(113),s=(n.n(r),i.a.h("svg",{class:"spinner",width:"12",height:"12",viewBox:"0 0 12 12"},i.a.h("g",{"fill-rule":"evenodd"},i.a.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.a.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.a.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.a.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.a.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.a.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.a.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.a.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"}))));class l extends i.a.Component{constructor(e){super(),this.mouseEnterHandler=this.mouseEnterHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.itemCount=l.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(function(e){return"header"!==e.type}).length}mouseEnterHandler(e){this.lastX=e.clientX,this.lastY=e.clientY}mouseMoveHandler(e){if(e.stopPropagation(),this.lastX!==e.clientX||this.lastY!==e.clientY){var t=e.target.closest("[data-index]");if(t){var n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}}}clickHandler(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}keydownHandler(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}componentDidMount(){document.addEventListener("keydown",this.keydownHandler)}componentWillReceiveProps(e){this.itemCount=l.getInteractiveItemCount(e.items)}componentDidUpdate(){o.x(this.base.querySelector("[data-index='"+this.state.selectedIndex+"']"))}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}createHeader(e){return i.a.h("h3",{key:e},i.a.h("span",null,e)," ",i.a.h("span",null,"(",this.props.projectType,", ",this.props.density,")"))}createProjectButton(e,t){var n=["newProjectButton"];return t===this.state.selectedIndex&&n.push("selected"),i.a.h("div",{key:e,class:n.join(" "),"data-index":t,"data-oid":e},i.a.h("svg",{class:"plus",width:"24",height:"24"},i.a.h("g",{fill:"none","fill-rule":"evenodd"},i.a.h("circle",{cx:"12",cy:"12",r:"12"}),i.a.h("path",{d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"}))),i.a.h("div",null,i.a.h("div",null,"New project"),i.a.h("div",null,"Create a new project and transfer screens")),t===this.props.spinnerIndex&&s)}createProjectItem(e,t,n,a){var o=["project"];return n&&o.push("odd"),a===this.state.selectedIndex&&o.push("selected"),i.a.h("div",{key:e,class:o.join(" "),title:t,"data-index":a},i.a.h("span",null,t),a===this.props.spinnerIndex&&s)}render(e,t){var n=this,a=0,o=!1,r=e.items.map(function(e){switch(e.type){case"header":return n.createHeader(e.content);case"create":return o=!1,n.createProjectButton(e.oid,a++);case"project":return o=!o,n.createProjectItem(e.pid,e.name,o,a++);default:return null}});return i.a.h("div",{class:"projectList",onMouseEnter:this.mouseEnterHandler,onMouseMove:this.mouseMoveHandler,onClick:this.clickHandler},r)}}t.a=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){switch(e){case"sketch":return o.a.h("div",{class:"info sketchFile"},o.a.h("p",null,o.a.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icSketchMakeExportable.png"),srcset:r.a("img/icSketchMakeExportable@2x.png")+" 2x, "+r.a("img/icSketchMakeExportable@3x.png")+" 3x",class:"exportableAsset"}),o.a.h("p",null,"or"),o.a.h("img",{src:r.a("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),o.a.h("p",null,"For more ProTips on assets, check out our ",o.a.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"blog post.")));case"psd":return o.a.h("div",{class:"info psdFile"},o.a.h("p",null,o.a.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icPhotoshopMakeExportable.png"),srcset:r.a("img/icPhotoshopMakeExportable@2x.png")+" 2x, "+r.a("img/icPhotoshopMakeExportable@3x.png")+" 3x",class:"exportableAsset"}),o.a.h("p",null,"For more ProTips on assets, check out our ",o.a.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"blog post.")));case"figma":return o.a.h("div",{class:"info"},o.a.h("p",null,o.a.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),o.a.h("img",{src:r.a("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),o.a.h("img",{src:r.a("img/icFigmaMakeExportable.png"),srcset:r.a("img/icFigmaMakeExportable@2x.png")+" 2x, "+r.a("img/icFigmaMakeExportable@3x.png")+" 3x",class:"exportableAsset"}))}}var i=n(3),o=n.n(i),r=n(11),s=n(116);n.n(s);t.a=function(e){return o.a.h("div",{class:"noScreenAssets"},o.a.h("h1",null,"Rock paper scissors",o.a.h("img",{src:r.a("img/emjAssetVictory.png"),srcset:r.a("img/emjAssetVictory@2x.png")+" 2x, "+r.a("img/emjAssetVictory@3x.png")+" 3x",alt:"✌",class:"victory"}),o.a.h("img",{src:r.a("img/emjScissors.png"),srcset:r.a("img/emjScissors@2x.png")+" 2x, "+r.a("img/emjScissors@3x.png")+" 3x",alt:"✂",class:"scissors"})),a(e.source))}},function(e,t){},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(9),r=n(11),s=n(10),l=n(118);n.n(l);class c extends i.a.Component{constructor(){super(),this.state={designTool:"photoshop"},this.changeDesignTool=this.changeDesignTool.bind(this)}componentDidMount(){var e=this;o.c.get("noScreensDesignToolSelection").then(function(t){e.setState({designTool:t})})}changeDesignTool(e){this.setState({designTool:e.target.value}),o.c.set("noScreensDesignToolSelection",e.target.value)}static openInstallationInfo(e){e.preventDefault(),s.a.shell.openExternal(e.target.href)}static toolImages(e){return"photoshop"===e?[i.a.h("img",{class:"psLogo",src:r.a("img/icLogoPS.png"),srcset:r.a("img/icLogoPS@2x.png")+" 2x,"+r.a("img/icLogoPS@3x.png")+" 3x"}),i.a.h("img",{class:"psToZeplinLogo",src:r.a("img/icDashboardPSToZeplin.svg")})]:"figma"===e?[i.a.h("img",{class:"figmaLogo",src:r.a("img/icDshbrdFigma.svg")}),i.a.h("img",{class:"figmaToZeplinLogo",src:r.a("img/figmaDashboardPSToZeplin.svg")})]:void 0}static toolToZeplin(e){return i.a.h("div",{class:"toolToZeplin"},c.toolImages(e),i.a.h("img",{class:"zeplinLogo",src:r.a("img/icZeplin.svg")}))}static photoshopSteps(e){return i.a.h("ol",{class:"photoshopSteps"},i.a.h("li",null,i.a.h("div",null,i.a.h("div",null,"Open your Photoshop file"),i.a.h("img",{src:r.a("img/icPSLogoGrayscale.png"),srcset:r.a("img/icPSLogoGrayscale@2x.png")+" 2x,"+r.a("img/icPSLogoGrayscale@3x.png")+" 3x"}))),i.a.h("li",null,i.a.h("div",null,"Select artboards (or layers in artboards) and click:"),i.a.h("img",{class:"ssDashboardEmpty",src:r.a("img/ss/ssDashboardEmpty.png"),srcset:r.a("img/ss/ssDashboardEmpty@2x.png")+" 2x,"+r.a("img/ss/ssDashboardEmpty@3x.png")+" 3x"}),e?i.a.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.a.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.a.h("a",{onClick:c.openInstallationInfo,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.a.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.a.h("a",{onClick:c.openInstallationInfo,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}static steps(e){return"photoshop"===e?c.photoshopSteps():"figma"===e?i.a.h("ol",{class:"figmaSteps"},i.a.h("li",null,i.a.h("div",null,"Enable the integration on Figma. From the menu, "),i.a.h("div",null,"select ",i.a.h("strong",null,"“Integrations > Zeplin”:")),i.a.h("img",{src:r.a("img/imgFigmaMenuIntegration.png"),srcset:r.a("img/imgFigmaMenuIntegration@2x.png")+" 2x,"+r.a("img/imgFigmaMenuIntegration@3x.png")+" 3x"})),i.a.h("li",null,i.a.h("div",null,"Select a frame in your Figma file.")),i.a.h("li",null,i.a.h("div",null,"Press ",i.a.h("strong",null,"Alt+E")," or select ",i.a.h("strong",null,"“Export to Zeplin”")," under the Export menu:"),i.a.h("div",null,i.a.h("img",{src:r.a("img/icFigmaShortcut.svg")}),i.a.h("div",null,"or"),i.a.h("img",{src:r.a("img/imgFigmaMenuExport.png"),srcset:r.a("img/imgFigmaMenuExport@2x.png")+" 2x,"+r.a("img/imgFigmaMenuExport@3x.png")+" 3x"})))):void 0}render(e,t){return e.photoshopAndFigma?i.a.h("div",{class:"noScreensElectron photoshopAndFigma","data-designtool":t.designTool},i.a.h("h1",null,"Let’s start by exporting screens from:"),i.a.h("div",{class:"designToolSelection"},i.a.h("label",null,i.a.h("input",{name:"noScreensElectronDesignTool",value:"photoshop",type:"radio",checked:"photoshop"===t.designTool,onChange:this.changeDesignTool}),i.a.h("span",null,"Photoshop")),i.a.h("hr",null),i.a.h("label",null,i.a.h("input",{name:"noScreensElectronDesignTool",value:"figma",type:"radio",checked:"figma"===t.designTool,onChange:this.changeDesignTool}),i.a.h("span",null,"Figma"))),c.toolToZeplin(t.designTool),c.steps(t.designTool)):i.a.h("div",{class:"noScreensElectron photoshopOnly"},i.a.h("h1",null,"Designers!"),i.a.h("h2",null,"Let’s start by exporting screens from Photoshop:"),c.toolToZeplin("photoshop"),c.photoshopSteps(!0),i.a.h("h1",null,"Developers!"),i.a.h("h2",{class:"inviteYourDesigner"},"Invite your designer to upload screens:"),i.a.h("h3",{class:"inviteYourDesignerInfo"},"You can invite your designer from the 'Members' section."))}}t.a=c},function(e,t){},function(e,t,n){"use strict";var a=n(120);t.a=a.a},function(e,t,n){"use strict";function a(e){switch(e.type){case"switch":return function(t){return s.a.h(l.a.Switch,{name:e.id,content:e.name,value:t.value,onClick:t.onClick})};case"submenu":return function(t){return s.a.h(l.a.Submenu,{content:e.name,onClick:t.onClick},e.children.map(function(e){return a(e)}).filter(Boolean))};case"picker":return function(t){return s.a.h(l.a.Picker,{name:e.id,value:t.value,submenu:e.submenu,content:e.name,options:e.options,onClick:t.onClick})};case"divider":return function(){return s.a.h(l.a.Divider,null)}}}function i(e,t){return function(n){var i=[];return e.length>1&&i.push(s.a.h(l.a.Picker,{key:"extension",name:"extension",content:n.extensionMenuName,options:e.map(function(e){return{name:e.name,value:e.id}}),value:n.extension.id,submenu:!!n.extensionMenuName}),s.a.h(l.a.Divider,null)),i=i.concat(t.filter(function(e){return n.enabledOptions.includes(e.id)}).map(function(e){var t=a(e);return s.a.h(t,{key:e.id,value:n.options[e.id]})})),s.a.h.apply(s.a,[l.a,n].concat(i))}}function o(e){var t;return e.extension.id in u?t=u[e.extension.id]:(t=i(e.availableExtensions,e.extension.optionsSchema),u[e.extension.id]=t),s.a.h(t,{class:e.class,extension:e.extension,extensionMenuName:e.extensionMenuName,options:e.options,enabledOptions:e.enabledOptions,posRefRect:e.posRefRect,onChange:e.onChange,onClose:e.onClose,rightOffset:12,bottomOffset:25})}var r=n(3),s=n.n(r),l=n(121),c=n(55),u={};class d extends s.a.Component{static getStores(){return[c.b]}static calculateState(e,t){var n=c.b.getState();return{extension:n.extension,options:n.options,posRefRect:t.posRefRect,availableExtensions:t.availableExtensions,enabledOptions:t.enabledOptions,onClose:t.onClose,extensionMenuName:t.extensionMenuName,onChange:function(e,n){"extension"===e?c.a.loadExtension(t.availableExtensions.find(function(e){return e.id===n})):c.a.updateOption(e,n),t.onChange&&t.onChange(e,n)}}}render(){return s.a.h(o,Object.assign({class:"exportOptionsMenu"},this.state))}}var m=n(58).a.create(d,{withProps:!0});t.a=m},function(e,t,n){"use strict";var a=n(122);t.a=a.a},function(e,t,n){"use strict";var a=n(3),i=n.n(a),o=n(36),r=n(11),s=n(123);n.n(s);class l extends i.a.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.getSubmenuRef=this.getSubmenuRef.bind(this),this.state={open:!1,direction:"right"}}showSubmenu(){this.setState({open:!0})}hideSubmenu(){this.setState({open:!1})}getSubmenuRef(e){this.submenuElement=e}positionSubmenu(){if(this.state.open){var e=this.context.edgeOffset,t=this.base.getBoundingClientRect(),n=this.submenuElement.getBoundingClientRect(),a=window.innerWidth>=t.right+n.width+e?"right":"left",i=0;n.top<e?i=e:n.bottom+e>window.innerHeight&&(i=window.innerHeight-n.bottom-e),0!==i&&(this.submenuElement.style.transform="translate3d(0, "+i+"px, 0)"),a!==this.state.direction&&this.setState({direction:a})}}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(e,t){var n=["submenu",t.direction];return i.a.h("label",{for:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.a.h("span",null,e.content||e.name),i.a.h("img",{src:r.a("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),t.open&&i.a.h("div",{ref:this.getSubmenuRef,class:n.join(" ")},e.children))}}class c extends i.a.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(e){var t=e.options.map(function(t){var n=t.value===e.value;return i.a.h("label",{key:t.name+"-"+t.value},i.a.h("span",null,t.name),i.a.h("input",{onClick:this.clickHandler,type:"radio",name:e.name,value:t.value,checked:n}),i.a.h("img",{src:r.a("img/icMenuCheck.svg"),alt:"&check;"}),i.a.h(o.a,null))},this);if(e.submenu){var n=e.name;if(e.content){var a=e.options.find(function(t){return t.value===e.value}).name;n=e.content+" ("+a+")"}return i.a.h(l,{content:n},t)}return i.a.h("div",null,t)}}class u extends i.a.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(e){var t=e.content||e.name;return i.a.h("label",null,i.a.h("span",null,t),i.a.h("input",{onClick:this.clickHandler,type:"checkbox",name:e.name,checked:e.value}),i.a.h("img",{src:r.a("img/icMenuCheck.svg"),alt:"&check;"}),i.a.h(o.a,null))}}class d extends i.a.Component{constructor(e){super(e),this.closeMenu=this.closeMenu.bind(this),this.positionMenu=this.positionMenu.bind(this),this.handleClick=this.handleClick.bind(this)}stopPropagation(e){e.stopPropagation()}closeMenu(){i.a.render(null,this.base.parentElement,this.base),this.props.onClose&&this.props.onClose()}get edgeOffset(){return this.props.edgeOffset||12}getChildContext(){return{edgeOffset:this.edgeOffset}}positionMenu(){var e,t,n=this.edgeOffset,a=this.props.posRefRect,i=this.base.getBoundingClientRect(),o=a.bottom-this.props.bottomOffset,r=a.right-this.props.rightOffset;t=o<n?n:o+i.height+n>window.innerHeight?window.innerHeight-i.height-n:o,e=r+i.width+n>window.innerWidth?window.innerWidth-i.width-n:r,this.base.style.transform="translate3d("+e+"px, "+t+"px, 0)"}componentWillUnmount(){document.removeEventListener("click",this.closeMenu)}componentDidMount(){document.addEventListener("click",this.closeMenu),this.positionMenu()}componentDidUpdate(){this.positionMenu()}handleClick(e,t){this.closeMenu(),this.props.onChange&&this.props.onChange(e,t)}render(e){var t=["zplSidebarMenu"];return e.class&&t.push(e.class),i.a.h("div",{onClick:this.stopPropagation,class:t.join(" ")},e.children.map(function(e){return i.a.cloneElement(e,{onClick:this.handleClick})},this))}}d.Submenu=l,d.Picker=c,d.Switch=u,d.Divider=function(){return i.a.h("hr",null)},t.a=d},function(e,t){},function(e,t,n){"use strict";var a=n(56),i=n(57),o={loadExtension(e){i.a.dispatch({type:a.a.LOAD_EXTENSION,extension:e})},updateOption(e,t){i.a.dispatch({type:a.a.UPDATE_OPTION,name:e,value:t})}};t.a=o},function(e,t){e.exports=Flux},function(e,t,n){"use strict";var a=n(58),i=n(56),o=n(57);class r extends a.b{constructor(){super(o.a)}getInitialState(){return{extension:null,options:null}}reduce(e,t){switch(t.type){case i.a.LOAD_EXTENSION:return Object.assign({},e,{extension:t.extension,options:t.extension.options});case i.a.UPDATE_OPTION:return e.extension.setOption(t.name,t.value),Object.assign({},e,{options:e.extension.options});default:return e}}}t.a=new r},function(e,t){e.exports=FluxUtils},function(e,t,n){"use strict";function a(e){var t=o[e.type];return Promise.all(t.map(function(t){return t.load(e)}))}n.d(t,"a",function(){return a});var i=n(129),o={android:[i.a,i.h],ios:[i.d,i.c,i.b,i.h],osx:[i.g,i.f,i.e],web:[i.i,i.k,i.l,i.j,i.m]}},function(e,t,n){"use strict";var a=n(130),i=n(133),o=n(135),r=n(137),s=n(139);n.d(t,"a",function(){return a.a}),n.d(t,"h",function(){return i.a}),n.d(t,"d",function(){return o.c}),n.d(t,"c",function(){return o.b}),n.d(t,"b",function(){return o.a}),n.d(t,"g",function(){return r.c}),n.d(t,"f",function(){return r.b}),n.d(t,"e",function(){return r.a}),n.d(t,"i",function(){return s.a}),n.d(t,"k",function(){return s.c}),n.d(t,"l",function(){return s.d}),n.d(t,"j",function(){return s.b}),n.d(t,"m",function(){return s.e})},function(e,t,n){"use strict";var a=n(33),i=n(48),o=n(132),r={LINE_SPACING_TYPE:"lineSpacingType"},s={name:"XML",id:"android_xml",type:"internal",options:[{name:"Line spacing",type:"picker",id:r.LINE_SPACING_TYPE,submenu:!0,options:[{name:"Extra",value:o.a.EXTRA},{name:"Multiplier",value:o.a.MULTIPLIER}],default:"extra"}]};class l extends a.a{static get manifest(){return s}styleguideColors(e){return{code:"<resources>\n"+e.map(function(e){return'  <color name="'+e.name.replace(/([A-Z])/g,function(e,t,n){return(n?"_":"")+e.toLowerCase()})+'">'+e.toHexString(!0)+"</color>"}).join("\n")+"\n</resources>",mode:"xml",options:[r.LINE_SPACING_TYPE]}}styleguideTextStyles(e){var t={lineSpacingType:this.getOption(r.LINE_SPACING_TYPE),dimensionSuffix:this._project.textDimensionSuffix,densityDivisor:this._project.densityDivisor};return{code:"<resources>\n"+e.map(function(e){var n;if(e.color){var a=this._project.findColorEqual(e.color);n=Object.assign({},t,{projectColor:a})}else n=t;return Object(o.c)(e,n)},this).join("\n")+"\n</resources>",mode:"xml",options:[r.LINE_SPACING_TYPE]}}layer(e){if("text"===e.type)return{mode:"xml",code:Object(o.b)(e,this._project,this.getOption(r.LINE_SPACING_TYPE)),options:[r.LINE_SPACING_TYPE]}}comment(e){return"\x3c!-- "+e+" --\x3e"}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:'<?xml version="1.0" encoding="utf-8"?>\n'+this.comment(i.a)+"\n\n"+t.code,filename:"colors.xml",mode:"xml"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:'<?xml version="1.0" encoding="utf-8"?>\n'+this.comment(i.a)+"\n\n"+t.code,filename:"fonts.xml",mode:"xml"}}}t.a=l},function(e,t,n){"use strict";class a{constructor(e,t,n){this._storage=e,this._options=t,this._project=n}get id(){throw new Error("Property not implemented")}get optionsSchema(){throw new Error("Property not implemented")}get options(){throw new Error("Property not implemented")}setOption(e,t){throw new Error("Method not implemented")}getOption(e){throw new Error("Method not implemented")}styleguideColors(e){throw new Error("Method not implemented")}styleguideTextStyles(e){throw new Error("Method not implemented")}layer(e){throw new Error("Method not implemented")}comment(e){throw new Error("Method not implemented")}exportStyleguideColors(e){throw new Error("Method not implemented")}exportStyleguideTextStyles(e){throw new Error("Method not implemented")}}t.a=a},function(e,t,n){"use strict";function a(e){return Object(m.b)(e).replace(/^@/gm,"\\ufeff@")}function i(e,t){return e?Object(m.g)(e/t,1):"0"}function o(e){switch(e){case"center":return"center_horizontal";case"right":return"end";default:return""}}function r(e){var t=o(e);return t?'    <item name="android:gravity">'+t+"</item>\n":t}function s(e){var t=/^Roboto(\w*)?-(?:Regular)?(Thin|Light|Medium|Black)?(Bold)?(Italic)?$/,n=["normal","bold","italic","bold|italic"],a={undefined:"sans-serif",condensed:"sans-serif-condensed",mono:"monospace"},i=e.match(t);if(i&&a[(""+i[1]).toLowerCase()]){var o=i[1],r=i[2],s=i[3],l=i[4];return{family:a[(""+o).toLowerCase()]+(r?"-"+r.toLowerCase():""),weight:n[(s?1:0)+(l?2:0)]}}}function l(e,t,n,a){var r=s(e.fontFace),l={robotoStyle:{textSize:i(e.fontSize,n)+a}};return r&&(l.robotoStyle.fontFamily=r.family,l.robotoStyle.textStyle=r.weight),e.letterSpacing&&(l.letterSpacing=Object(m.g)(e.letterSpacing/e.fontSize,2)),e.lineHeight&&(t===p.MULTIPLIER?l.lineSpacingMultiplier=Object(m.g)(e.lineHeight/e.fontSize,2):l.lineSpacingExtra=i(e.lineHeight-e.fontSize,n)+a),l.gravity=o(e.textAlign),l}function c(e,t){var n,a=e.color,i=t.findColorEqual(a);return n=i?"@color/"+i.name:a.toHexString(!0),{shadowColor:n,shadowDx:e.offsetX,shadowDy:e.offsetY,shadowRadius:e.blurRadius}}function u(e,t,n){var i=e.textStyles[0].font,o=t.findTextStyleEqual(i),r="<TextView\n",s={layout_width:"wrap_content",layout_height:"wrap_content"};if(e.shadows.length){var u=c(e.shadows[e.shadows.length-1],t);Object.assign(s,u)}if(o)r+='  style="@style/'+Object(m.c)(o.name,"upperCamelCase")+'"\n';else{var d=l(i,n,t.densityDivisor,t.textDimensionSuffix);Object.assign(s,d.robotoStyle),delete d.robotoStyle;var p,g;if(e.fills.length){if(!e.hasGradient()){var f=Object(m.a)(e.fills.map(function(e){return e.color}));g=i.color?f.blend(i.color):f}}else g=i.color;g&&(p=t.findColorEqual(g),s.textColor=p?"@color/"+p.name:g.toHexString(!0)),Object.assign(s,d)}return Object.keys(s).forEach(function(e){s[e]&&(r+="  android:"+e+'="'+s[e]+'"\n')}),r+='  tools:text="'+a(e.content)+'"\n/>'}function d(e,t){var n,a=t.lineSpacingType,o=t.projectColor,l=t.densityDivisor,c=t.dimensionSuffix,u=Object(m.c)(e.name,"upperCamelCase"),d="";e.color&&(d='    <item name="android:textColor">'+(o?"@color/"+o.name:e.color.toHexString(!0))+"</item>\n"),n=s(e.fontFace);var g='  <style name="'+u+'">\n'+r(e.textAlign)+'    <item name="android:textSize">'+i(e.fontSize,l)+c+"</item>\n";return n&&(g+='    <item name="android:fontFamily">'+n.family+'</item>\n    <item name="android:textStyle">'+n.weight+"</item>\n"),e.letterSpacing&&(g+='    <item name="android:letterSpacing">'+Object(m.g)(e.letterSpacing/e.fontSize,2)+"</item>\n"),e.lineHeight&&(a===p.MULTIPLIER?g+='    <item name="android:lineSpacingMultiplier">'+Object(m.g)(e.lineHeight/e.fontSize,2)+"</item>\n":g+='    <item name="android:lineSpacingExtra">'+i(e.lineHeight-e.fontSize,l)+c+"</item>\n"),g+=d+"  </style>"}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});var m=n(23),p={EXTRA:"extra",MULTIPLIER:"multiplier"}},function(e,t,n){"use strict";function a(e,t){var n=Object(s.d)(e,t.densityDivisor,t.colorFormat,t.defaultValues),a=Object(r.c)(n.selector,"camelCase"),e={};return delete n.selector,t.projectColor&&(n.color="colors."+t.projectColor.name),e[a]=n,e}var i=n(33),o=n(48),r=n(23),s=n(134),l={COLOR_FORMAT:"colorFormat",SHOW_DIMENSIONS:"showDimensions",SHOW_DEFAULT_VALUES:"showDefaultValues"},c={name:"React Native",id:"react_native",type:"internal",options:[{name:"Color format",type:"picker",id:l.COLOR_FORMAT,submenu:!0,options:[{name:"Default",value:"default"},{name:"HEX",value:"hex"},{name:"RGB",value:"rgb"},{name:"HSL",value:"hsl"}],default:"default"},{name:"Dimensions",type:"switch",id:l.SHOW_DIMENSIONS,default:!0},{name:"Default values",type:"switch",id:l.SHOW_DEFAULT_VALUES,default:!0}]};class u extends i.a{static get manifest(){return c}styleguideColors(e){return{code:"const colors = {\n"+e.map(function(e){return"  "+e.name+': "'+Object(s.a)(e,this.getOption(l.COLOR_FORMAT))+'"'},this).join(",\n")+"\n};",mode:"javascript",options:[l.COLOR_FORMAT,l.SHOW_DIMENSIONS,l.SHOW_DEFAULT_VALUES]}}styleguideTextStyles(e){var t={densityDivisor:this._project.densityDivisor,colorFormat:this.getOption(l.COLOR_FORMAT),defaultValues:this.getOption(l.SHOW_DEFAULT_VALUES)},n=this,i=e.reduce(function(e,i){var o;if(i.color){var r=n._project.findColorEqual(i.color);o=Object.assign({},t,{projectColor:r})}else o=t;var s=a(i,o);return Object.assign(e,s)},{});return{code:"const textStyles = StyleSheet.create("+(i=JSON.stringify(i,null,2)).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+");",mode:"javascript",options:[l.COLOR_FORMAT,l.SHOW_DIMENSIONS,l.SHOW_DEFAULT_VALUES]}}layer(e){var t=Object(s.b)(e,this._project.type,this._project.densityDivisor,this.getOption(l.SHOW_DIMENSIONS),this.getOption(l.COLOR_FORMAT),this.getOption(l.SHOW_DEFAULT_VALUES)),n=[];Object.keys(t).length>1&&n.unshift(t),t=n.map(function(e){return Object(s.c)(e,Object(r.d)(this._project.colors,this.getOption(l.COLOR_FORMAT)))},this).join("\n\n");var a=[l.COLOR_FORMAT,l.SHOW_DIMENSIONS];return"text"===e.type&&a.push(l.SHOW_DEFAULT_VALUES),{code:t,mode:"javascript",options:a}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:this.comment(o.a)+"\n\n"+t.code,filename:"colors.js",mode:"javascript"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:this.comment(o.a)+"\n\n"+t.code,filename:"fonts.js",mode:"javascript"}}}t.a=u},function(e,t,n){"use strict";function a(e,t,n){var a=e.selector;return delete e.selector,Object.keys(e).forEach(function(n){"mixinEntry"!==n&&d.includes(n)&&e[n]in t&&(e[n]="colors."+t[e[n]])}),"const "+Object(u.c)(a,"camelCase")+" = "+JSON.stringify(e,null,2).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+";"}function i(e,t){if("r"in e&&"g"in e&&"b"in e&&"a"in e)switch(t){case"hex":return e.toHexString();case"rgb":return e.toRGBAString();case"hsl":return e.toHSLAString();case"default":default:return e.a<1?e.toRGBAString():e.toHexString()}}function o(e,t,n,a,o){return"text"===n?{textShadowColor:i(e.color,o),textShadowOffset:{width:Object(u.g)(e.offsetX/a,1),height:Object(u.g)(e.offsetY/a,1)},textShadowRadius:Object(u.g)(e.blurRadius/a,1)}:"android"===t?{}:{shadowColor:i(e.color,o),shadowOffset:{width:Object(u.g)(e.offsetX/a,1),height:Object(u.g)(e.offsetY/a,1)},shadowRadius:Object(u.g)(e.blurRadius/a,1),shadowOpacity:1}}function r(e,t,n,a){return"text"===t?{}:"gradient"===e.fill.type?{}:{borderStyle:"solid",borderWidth:Object(u.g)(e.thickness/n,1),borderColor:i(e.fill.color,a)}}function s(e,t,n,a,o,r){var s=c(t,n,a,o,r);if(e.fills.length&&!e.hasGradient()){delete s.color;var l=Object(u.a)(e.fills.map(function(e){return e.color}));t.color&&(l=l.blend(t.color)),s.color=i(l,a)}return s}function l(e,t,n,a,l,c){var d=e.type,m={selector:Object(u.h)(e.name)||".layer"};if(a&&(m.width=Object(u.g)(e.rect.width/n,1),m.height=Object(u.g)(e.rect.height/n,1)),e.rotation&&(m.transform="rotate("+-e.rotation+"deg)"),1!==e.opacity&&(m.opacity=Object(u.g)(e.opacity,2)),e.borderRadius&&(m.borderRadius=Object(u.g)(e.borderRadius/n,1)),"text"===d){var p=e.getDefaultTextStyle(),g=p&&s(e,p,n,l,c);g&&(delete g.selector,Object.assign(m,g))}else!e.fills.length||e.hasGradient()||e.hasBlendMode()||(m.backgroundColor=i(Object(u.a)(e.fills.map(function(e){return e.color})),l));return e.shadows.length&&Object.assign(m,o(e.shadows[e.shadows.length-1],t,d,n,l)),e.borders.length&&Object.assign(m,r(e.borders[e.borders.length-1],d,n,l)),m}function c(e,t,n,a,o){var r=Object(u.h)(e.name);Object(u.f)(r)||(r=r.substring(1));var s,l={selector:r};return l.fontFamily=e.fontFamily,l.fontSize=Object(u.g)(e.fontSize/t,1),s=o&&o["font-weight"]&&"normal"!==o["font-weight"],700===e.fontWeight?l.fontWeight="bold":400!==e.fontWeight?l.fontWeight=String(e.fontWeight):(a||s)&&(l.fontWeight="normal"),s=o&&o["font-style"]&&"normal"!==o["font-style"],e.fontStyle&&("normal"!==e.fontStyle||a||s)&&(l.fontStyle=e.fontStyle),e.lineHeight&&(l.lineHeight=Object(u.g)(e.lineHeight/t,1)),s=o&&o["letter-spacing"]&&"normal"!==o["letter-spacing"],e.letterSpacing?l.letterSpacing=Object(u.g)(e.letterSpacing/t,2):(a||s)&&(l.letterSpacing=0),e.textAlign&&(l.textAlign=e.textAlign),e.color&&(l.color=i(e.color,n)),l}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return a});var u=n(23),d=["backgroundColor","borderColor","color","shadowColor","textDecorationColor","textShadowColor"]},function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return g});var a=n(33),i=n(34),o=n(23),r=n(136),s={ATTR_STR_SHOW_DEFAULT:"showDefaultAttributes",DEPLOYMENT_TARGET:"deploymentTarget",SHOW_NAMED_COLORS:"showNamedColors",CATEGORY_NAME:"categoryName"},l=[{name:"Deployment target",type:"picker",id:s.DEPLOYMENT_TARGET,submenu:!0,options:[{name:"11.0",value:"11.0"},{name:"10.0",value:"10.0"},{name:"9.0",value:"9.0"},{name:"8.2",value:"8.2"},{name:"8.0",value:"8.0"}],default:"11.0"},{name:"Named colors",type:"switch",id:s.SHOW_NAMED_COLORS,default:!1},{name:"Default attributes",type:"switch",id:s.ATTR_STR_SHOW_DEFAULT,default:!0},{name:"Category name",type:"text",id:s.CATEGORY_NAME,default:""}],c={name:"Swift 4",id:"ios_swift4",type:"internal",options:l},u={name:"Swift 3",id:"ios_swift3",type:"internal",options:l},d={name:"Objective-C",id:"ios_objc",type:"internal",options:l};class m extends a.a{static get manifest(){return c}styleguideColors(e){return{code:Object(r.a)(e,this._project.prefix,this.getOption(s.SHOW_NAMED_COLORS)),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{code:Object(r.d)(e,this.getOption(s.DEPLOYMENT_TARGET),"swift4",this._project.prefix,this._project.densityDivisor),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}layer(e){var t=Object(r.c)(e,"swift4",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=this.getOption(s.CATEGORY_NAME);return{code:Object(r.b)("swift","Color",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=this.getOption(s.CATEGORY_NAME);return{code:Object(r.b)("swift","Font",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIFont+"+n+".swift",mode:"swift"}}}class p extends a.a{static get manifest(){return u}static updateOptions(e){return"7.0"===e[s.DEPLOYMENT_TARGET]&&(e[s.DEPLOYMENT_TARGET]="8.0"),e}styleguideColors(e){return{code:Object(r.a)(e,this._project.prefix,this.getOption(s.SHOW_NAMED_COLORS)),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{code:Object(r.d)(e,this.getOption(s.DEPLOYMENT_TARGET),"swift3",this._project.prefix,this._project.densityDivisor),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}layer(e){var t=Object(r.c)(e,"swift3",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=this.getOption(s.CATEGORY_NAME);return{code:Object(r.b)("swift","Color",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=this.getOption(s.CATEGORY_NAME);return{code:Object(r.b)("swift","Font",this._project.name,n)+"import UIKit\n\n"+t.code,filename:"UIFont+"+n+".swift",mode:"swift"}}}class g extends a.a{static get manifest(){return d}static updateOptions(e){return"7.0"===e[s.DEPLOYMENT_TARGET]&&(e[s.DEPLOYMENT_TARGET]="8.0"),e}styleguideColors(e){var t=this._project.prefix;return{code:"@implementation UIColor ("+this.getOption(s.CATEGORY_NAME)+")\n\n"+e.map(function(e){var n="+ (UIColor * _Nonnull)"+(t?t+"_":"")+i.e(e.name)+"Color { \n";return e.r===e.g&&e.g===e.b?n+="    return [UIColor colorWithWhite:"+i.f(e.r):n+="    return [UIColor colorWithRed:"+i.f(e.r)+"green:"+i.f(e.g)+"blue:"+i.f(e.b),n+"alpha:"+i.a.format(e.a)+"f];\n}"}).join("\n\n")+"\n\n@end",mode:"objc",options:[s.DEPLOYMENT_TARGET]}}styleguideTextStyles(e){var t=this.getOption(s.DEPLOYMENT_TARGET),n=this._project.prefix,a=this._project.densityDivisor;return{code:"@implementation UIFont ("+this.getOption(s.CATEGORY_NAME)+")\n\n"+e.map(function(e){var r,s=i.b.format(e.fontSize/a);return r=i.d("ios",e.fontFace,t)?"systemFontOfSize:"+s+"f weight:"+i.c("UIFont",e.fontFace,"objc"):'fontWithName:@"'+e.fontFace+'" size:'+s+"f","+ (UIFont *)"+(n?n+"_":"")+Object(o.c)(e.name,"camelCase")+"Font {\n    return [UIFont "+r+"];\n}"}).join("\n\n")+"\n\n@end",mode:"objc",options:[s.DEPLOYMENT_TARGET]}}layer(e){var t=Object(r.c)(e,"objc",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"objc",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.getOption(s.CATEGORY_NAME),n=this.styleguideColors(e);return[{code:Object(r.b)("h","Color",this._project.name,t)+"#import <UIKit/UIKit.h>\n\n@interface UIColor ("+t+")\n\n"+this._project.colors.map(function(e){return"+ (UIColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+i.e(e.name)+"Color;"},this).join("\n")+"\n\n@end",mode:"objc",filename:"UIColor+"+t+".h"},{code:Object(r.b)("m","Color",this._project.name,t)+'#import "UIColor+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"UIColor+"+t+".m"}]}exportStyleguideTextStyles(e){var t=this.getOption(s.CATEGORY_NAME),n=this.styleguideTextStyles(e);return[{code:Object(r.b)("h","Font",this._project.name,t)+"#import <UIKit/UIKit.h>\n\n@interface UIFont ("+t+")\n\n"+this._project.textStyles.map(function(e){var t=Object(o.c)(e.name,"camelCase");return t=t.trim().length?i.e(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (UIFont *)"+(this._project.prefix?this._project.prefix+"_":"")+t+";"},this).join("\n")+"\n\n@end",mode:"objc",filename:"UIFont+"+t+".h"},{code:Object(r.b)("m","Font",this._project.name,t)+'#import "UIFont+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"UIFont+"+t+".m"}]}}},function(e,t,n){"use strict";function a(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function i(e,t,n,i,o){if("text"===e.type&&e.textStyles.length>1){var r=a(e);return Object(l.a)(o,e,r,t,n,i)}}function o(e,t,n){return"extension UIColor {\n"+e.map(function(e){var a="  @nonobjc class var "+((t||"")+(t?c.h(e.name):c.e(e.name)))+": UIColor {\n";return n?a+="    return UIColor(named: "+e.name+")!":e.r===e.g&&e.g===e.b?a+="    return UIColor(white: "+c.g(e.r)+"alpha: "+c.a.format(e.a)+")":a+="    return UIColor(red: "+c.g(e.r)+"green: "+c.g(e.g)+"blue: "+c.g(e.b)+"alpha: "+c.a.format(e.a)+")",a+"\n  }"}).join("\n\n")+"\n}"}function r(e,t,n,a,i){return"extension UIFont {\n"+e.map(function(e){var o,r=c.b.format(e.fontSize/i);return o=c.d("ios",e.fontFace,t)?".systemFont(ofSize: "+r+", weight: "+c.c("UIFont",e.fontFace,n)+")":'(name: "'+e.fontFace+'", size: '+r+")!","  @nonobjc class var "+(a||"")+Object(u.c)(e.name,a?"upperCamelCase":"camelCase")+": UIFont {\n    return UIFont"+o+"\n  }"}).join("\n\n")+"\n};"}function s(e,t,n,a){var i=new Date;return"//\n//  UI"+t+"+"+a+"."+e+"\n//  "+n+"\n//\n//  Generated on Zeplin. ("+i.toLocaleDateString()+").\n//  Copyright (c) "+i.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r});var l=n(59),c=n(34),u=n(23)},function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return g});var a=n(33),i=n(34),o=n(23),r=n(138),s={ATTR_STR_SHOW_DEFAULT:"showDefaultAttributes",DEPLOYMENT_TARGET:"deploymentTarget",SHOW_NAMED_COLORS:"showNamedColors",CATEGORY_NAME:"categoryName"},l=[{name:"Deployment target",type:"picker",id:s.DEPLOYMENT_TARGET,submenu:!0,options:[{name:"10.13",value:"10.13"},{name:"10.12",value:"10.12"},{name:"10.11",value:"10.11"},{name:"10.10",value:"10.10"}],default:"10.13"},{name:"Named colors",type:"switch",id:s.SHOW_NAMED_COLORS,default:!1},{name:"Default attributes",type:"switch",id:s.ATTR_STR_SHOW_DEFAULT,default:!0},{name:"Category name",type:"text",id:s.CATEGORY_NAME,default:""}],c={name:"Swift 4",id:"osx_swift4",type:"internal",options:l},u={name:"Swift 3",id:"osx_swift3",type:"internal",options:l},d={name:"Objective-C",id:"osx_objc",type:"internal",options:l};class m extends a.a{static get manifest(){return c}styleguideColors(e){return{code:Object(r.a)(e,this._project.prefix,"swift4",this.getOption(s.SHOW_NAMED_COLORS)),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{mode:"swift",code:Object(r.d)(e,this.getOption(s.DEPLOYMENT_TARGET),"swift4",this._project.prefix,this._project.densityDivisor),options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}layer(e){var t=Object(r.c)(e,"swift4",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=s.CATEGORY_NAME;return{code:Object(r.b)("swift","Color",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=s.CATEGORY_NAME;return{code:Object(r.b)("swift","Font",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSFont+"+n+".swift",mode:"swift"}}}class p extends a.a{static get manifest(){return u}static updateOptions(e){return"10.9"===e[s.DEPLOYMENT_TARGET]&&(e[s.DEPLOYMENT_TARGET]="10.10"),e}styleguideColors(e){return{code:Object(r.a)(e,this._project.prefix,"swift3",this.getOption(s.SHOW_NAMED_COLORS)),mode:"swift",options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}styleguideTextStyles(e){return{mode:"swift",code:Object(r.d)(e,this.getOption(s.DEPLOYMENT_TARGET),"swift3",this._project.prefix,this._project.densityDivisor),options:[s.DEPLOYMENT_TARGET,s.SHOW_NAMED_COLORS]}}layer(e){var t=Object(r.c)(e,"swift3",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"swift",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.styleguideColors(e),n=s.CATEGORY_NAME;return{code:Object(r.b)("swift","Color",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSColor+"+n+".swift",mode:"swift"}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e),n=s.CATEGORY_NAME;return{code:Object(r.b)("swift","Font",this._project.name,n)+"import Cocoa\n\n"+t.code,filename:"NSFont+"+n+".swift",mode:"swift"}}}class g extends a.a{static get manifest(){return d}static updateOptions(e){return"10.9"===e[s.DEPLOYMENT_TARGET]&&(e[s.DEPLOYMENT_TARGET]="10.10"),e}styleguideColors(e){return{code:"@implementation NSColor ("+this.getOption(s.CATEGORY_NAME)+")\n\n"+e.map(function(e){var t="+ (NSColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+i.e(e.name)+"Color {\n";return e.r===e.g&&e.g===e.b?t+="    return [NSColor colorWithCalibratedWhite:"+i.f(e.r):t+="    return [NSColor colorWithCalibratedRed:"+i.f(e.r)+"green:"+i.f(e.g)+"blue:"+i.f(e.b),t+"alpha:"+i.a.format(e.a)+"f];\n}"},this).join("\n\n")+"\n\n@end",mode:"objc",options:[s.DEPLOYMENT_TARGET]}}styleguideTextStyles(e){var t=this.getOption(s.DEPLOYMENT_TARGET),n=this._project.prefix,a=this._project.densityDivisor;return{code:"@implementation NSFont ("+this._options.categoryName+")\n\n"+e.map(function(e){var r,s=i.b.format(e.fontSize/a);return r=i.d("osx",e.fontFace,t)?"NSFont systemFontOfSize:"+s+"f weight:"+i.c("NSFont",e.fontFace,"objc"):'NSFont fontWithName:@"'+e.fontFace+'" size:'+s+"f","+ (NSFont *)"+(n?n+"_":"")+Object(o.c)(e.name,"camelCase")+"Font {\n    return ["+r+"];\n}"}).join("\n\n")+"\n\n@end",mode:"objc",options:[s.DEPLOYMENT_TARGET]}}layer(e){var t=Object(r.c)(e,"objc",this.getOption(s.DEPLOYMENT_TARGET),this.getOption(s.ATTR_STR_SHOW_DEFAULT),this._project);if(t)return{mode:"objc",code:t,options:[s.DEPLOYMENT_TARGET,s.ATTR_STR_SHOW_DEFAULT]}}comment(e){return"// "+e}exportStyleguideColors(e){var t=this.getOption(s.CATEGORY_NAME),n=this.styleguideColors(e);return[{code:Object(r.b)("h","Color",this._project.name,t)+"#import <Cocoa/Cocoa.h>\n\n@interface NSColor ("+t+")\n\n"+this._project.colors.map(function(e){return"+ (NSColor * _Nonnull)"+(this._project.prefix?this._project.prefix+"_":"")+i.e(e.name)+"Color;"},this).join("\n")+"\n\n@end",mode:"objc",filename:"NSColor+"+t+".h"},{code:Object(r.b)("m","Color",this._project.name,t)+'#import "NSColor+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"NSColor+"+t+".m"}]}exportStyleguideTextStyles(e){var t=this.getOption(s.CATEGORY_NAME),n=this.styleguideTextStyles(e);return[{code:Object(r.b)("h","Font",this._project.name,t)+"#import <Cocoa/Cocoa.h>\n\n@interface NSFont ("+t+")\n\n"+this._project.textStyles.map(function(e){var t=Object(o.c)(e.name,"camelCase");return t=t.trim().length?i.e(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (NSFont *)"+(this._project.prefix?this._project.prefix+"_":"")+t+";"},this).join("\n")+"\n\n@end",mode:"objc",filename:"NSFont+"+t+".h"},{code:Object(r.b)("m","Font",this._project.name,t)+'#import "NSFont+'+t+'.h"\n\n'+n.code,mode:"objc",filename:"NSFont+"+t+".m"}]}}},function(e,t,n){"use strict";function a(e){var t,n=e.getDefaultTextStyle(),a=[],i=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=i,i+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function i(e,t,n,i,o){if("text"===e.type&&e.textStyles.length>1){var r=a(e);return Object(l.a)(o,e,r,t,n,i)}}function o(e,t,n,a){var i=new Date;return"//\n//  NS"+t+"+"+a+"."+e+"\n//  "+n+"\n//\n//  Generated on Zeplin. ("+i.toLocaleDateString()+").\n//  Copyright (c) "+i.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function r(e,t,n,a,i){return"extension NSFont {\n"+e.map(function(e){var o,r=c.b.format(e.fontSize/i);return o=c.d("osx",e.fontFace,t)?".systemFont(ofSize: "+r+", weight: "+c.c("NSFont",e.fontFace,n)+")":'(name: "'+e.fontFace+'", size: '+r+")!","  @nonobjc class var "+(a||"")+Object(u.c)(e.name,a?"upperCamelCase":"camelCase")+": NSFont {\n    return NSFont"+o+"\n  }"}).join("\n\n")+"\n}"}function s(e,t,n,a){return"extension NSColor {\n"+e.map(function(e){var i=(t||"")+(t?c.h(e.name):c.e(e.name)),o="  class var "+i+": NSColor {\n";return a?o+="    return NSColor(named: "+(i="swift4"===n?"NSColor.Name("+e.name+")":e.name)+")!":e.r===e.g&&e.g===e.b?o+="    return NSColor(calibratedWhite: "+c.g(e.r)+"alpha: "+c.a.format(e.a)+")":o+="    return NSColor(calibratedRed: "+c.g(e.r)+"green: "+c.g(e.g)+"blue: "+c.g(e.b)+"alpha: "+c.a.format(e.a)+")",o+"\n  }"}).join("\n\n")+"\n}"}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r});var l=n(59),c=n(34),u=n(23)},function(e,t,n){"use strict";function a(e,t,n,a,i){var o={type:t,densityDivisor:e.densityDivisor,unitlessLineHeight:n,colorMap:Object(u.d)(e.colors,i),colorFormat:i};return a.filter(function(e){return!Object(u.f)(e.name)}).map(function(e){return Object(d.b)(e,o)}).join("\n")}function i(e,t,n){var a=e.map(function(e){return b[n].prefix+e.name+b[n].midfix+Object(u.e)(e,t)+b[n].suffix}).join("");return a=("css"===n?":root {\n":"")+a+("css"===n?"}":""),{code:a,mode:n,options:[m.COLOR_FORMAT,m.SHOW_DIMENSIONS,m.UNITLESS_LINE_HEIGHT,m.MIXIN,m.SHOW_DEFAULT_VALUES]}}function o(e,t,n,i,o,r,s){var l={type:o,densityDivisor:t.densityDivisor,unitlessLineHeight:r,colorFormat:i,colorMap:Object(u.d)(t.colors,i),defaultValues:s},c="",p="";return n&&(p=a(t,o,r,e,i),e=e.filter(function(e){return Object(u.f)(e.name)})),p.length&&(c+=(p=("css"===o?":root {\n":"")+p+("css"===o?"}":""))+Object(d.f)(o,e)+"\n\n"),c+=e.map(function(e){return Object(d.d)(e,l)}).join("\n\n"),{mode:o,code:c,options:[m.COLOR_FORMAT,m.SHOW_DIMENSIONS,m.UNITLESS_LINE_HEIGHT,m.MIXIN,m.SHOW_DEFAULT_VALUES]}}function r(e,t,n,a,i,o,r,s){var l,c=Object(d.a)(e,t.densityDivisor,o,s,a,r),p=[];if("text"===e.type){var g=Object(d.c)(e,t,s,i,a,r);p=p.concat(g)}if(Object.keys(c).length>1&&p.unshift(c),i){var f=e.getDefaultTextStyle(),h=f&&t.findTextStyleEqual(f);if(h&&!Object(u.f)(Object(u.h)(h.name))){var y=p[0],b=Object(d.e)(h,t.densityDivisor,s,a,r);for(var v in b)"selector"!==v&&delete y[v];y.mixinEntry=b.selector.substr(1)}}l=p.map(function(e){return Object(d.g)(n,e,Object(u.d)(t.colors,a))}).join("\n\n");var j=[m.COLOR_FORMAT,m.SHOW_DIMENSIONS];return"text"===e.type&&j.push(m.UNITLESS_LINE_HEIGHT,m.MIXIN,m.SHOW_DEFAULT_VALUES),{mode:n,code:l,options:j}}function s(e,t){return class extends l.a{static get manifest(){return e}styleguideColors(e){return i(e,this.getOption(m.COLOR_FORMAT),t)}styleguideTextStyles(e){return o(e,this._project,this.getOption(m.MIXIN),this.getOption(m.COLOR_FORMAT),t,this.getOption(m.UNITLESS_LINE_HEIGHT),this.getOption(m.SHOW_DEFAULT_VALUES))}layer(e){return r(e,this._project,t,this.getOption(m.COLOR_FORMAT),this.getOption(m.MIXIN),this.getOption(m.SHOW_DIMENSIONS),this.getOption(m.SHOW_DEFAULT_VALUES),this.getOption(m.UNITLESS_LINE_HEIGHT))}comment(e){return"/* "+e+" */"}exportStyleguideColors(e){var t=this.styleguideColors(e);return{code:this.comment(c.a)+"\n\n"+t.code,filename:"colors."+t.mode,mode:t.mode}}exportStyleguideTextStyles(e){var t=this.styleguideTextStyles(e);return{code:this.comment(c.a)+"\n\n"+t.code,filename:"fonts."+t.mode,mode:t.mode}}}}n.d(t,"a",function(){return v}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return E}),n.d(t,"e",function(){return L});var l=n(33),c=n(48),u=n(23),d=n(140),m={COLOR_FORMAT:"colorFormat",SHOW_DEFAULT_VALUES:"showDefaultValues",SHOW_DIMENSIONS:"showDimensions",UNITLESS_LINE_HEIGHT:"unitlessLineHeight",MIXIN:"mixin"},p=[{name:"Color format",type:"picker",id:m.COLOR_FORMAT,submenu:!0,options:[{name:"Default",value:"default"},{name:"HEX",value:"hex"},{name:"RGB",value:"rgb"},{name:"HSL",value:"hsl"}],default:"default"},{name:"Dimensions",type:"switch",id:m.SHOW_DIMENSIONS,default:!0},{name:"Unitless line-height",type:"switch",id:m.UNITLESS_LINE_HEIGHT,default:!0},{name:"Text styles as mixins",type:"switch",id:m.MIXIN,default:!0},{name:"Default values",type:"switch",id:m.SHOW_DEFAULT_VALUES,default:!0}],g={name:"Sass",id:"stylesheet_sass",type:"internal",options:p},f={name:"SCSS",id:"stylesheet_scss",type:"internal",options:p},h={name:"Less",id:"stylesheet_less",type:"internal",options:p},y={name:"Stylus",id:"stylesheet_stylus",type:"internal",options:p},b={css:{prefix:"  --",midfix:": ",suffix:";\n"},sass:{prefix:"$",midfix:": ",suffix:"\n"},scss:{prefix:"$",midfix:": ",suffix:";\n"},less:{prefix:"@",midfix:": ",suffix:";\n"},stylus:{prefix:"$",midfix:" = ",suffix:"\n"}},v=s({name:"CSS",id:"stylesheet_css",type:"internal",options:p},"css"),j=s(g,"sass"),S=s(f,"scss"),E=s(h,"less"),L=s(y,"stylus")},function(e,t,n){"use strict";function a(e){return-1===_.indexOf(e)}function i(e,t){return e?Object(x.g)(e/t,1)+"px":"0"}function o(e){return e?Math.round(100*e)+"%":"0"}function r(e,t,n){var a,i=[];a=n?T+"--"+e.selector.substr(1)+":":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=(n?T:"")+T+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(i.push(s),-1!==k.indexOf(o)){var l=s;for(var c in t)l=l.replace(new RegExp(c.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"var(--"+t[c]+")$1");l!==s&&i.push(l)}}return a+i.join("")+(e.mixinEntry?T+"@apply --"+e.mixinEntry+";\n":"")+(n?"  };\n":"}")}function s(e,t,n){var a,i=[];a=n?"="+e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=T+o+": "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==k.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?T+"+"+e.mixinEntry+"()\n":"")}function l(e,t,n){var a,i=[];a=n?"@mixin "+e.selector.substr(1):e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=T+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==k.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?T+"@include "+e.mixinEntry+";\n":"")+(n?"}\n":"}")}function c(e,t,n){var a,i=[];a=n?e.selector.toLowerCase()+"()":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=T+o+": "+(Array.isArray(r)?r.join(", "):r)+";\n";if(-1!==k.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"@"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?T+"."+e.mixinEntry+"()\n":"")+(n?"}\n":"}")}function u(e,t,n){var a,i=[];a=n?e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var r=e[o],s=T+o+" "+(Array.isArray(r)?r.join(", "):r)+"\n";if(-1!==k.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),"$"+t[l]+"$1");i.push(s)}return a+i.join("")+(e.mixinEntry?T+e.mixinEntry+"()\n":"")}function d(e,t,n,a){switch(e){case"sass":return s(t,n,a);case"scss":return l(t,n,a);case"less":return c(t,n,a);case"stylus":return u(t,n,a);default:case"css":return r(t,n,a)}}function m(e,t){var n=t.find(function(e){return!Object(x.f)(e.name)});if(!n)return"";var a=Object(x.h)(n.name).substr(1),i="\n\n/* How to use mixins\n";switch(e){case"sass":return i+" *   .myClass\n *     +"+a+"()\n */";case"scss":return i+" *   .myClass {\n *     @include "+a+";\n *   }\n */";case"less":return i+" *   .myClass {\n *     ."+a+"()\n *   }\n */";case"stylus":return i+" *   .myClass\n *     "+a+"()\n */";default:case"css":return i+" *   .myClass {\n *     @apply --"+a+";\n *   }\n */"}}function p(e,t,n,a,i,o,r){var s=y(t,n,a,i,o,r);if(e.fills.length)if(delete s.color,e.hasGradient())s["-webkit-background-clip"]="text",s["background-clip"]="text",s["-webkit-text-fill-color"]="transparent",s["background-image"]=e.fills.map(function(e){return h(e,i)}),t.color&&s["background-image"].push(f(t.color,i));else{var l=Object(x.a)(e.fills.map(function(e){return e.color}));t.color&&(l=l.blend(t.color)),s.color=Object(x.e)(l,i)}return s}function g(e){switch(e){case 0:return"to top";case 90:return"to right";case 180:return"to bottom";case 270:return"to left";default:return e+"deg"}}function f(e,t){var n=Object(x.e)(e,t);return"linear-gradient("+n+", "+n+")"}function h(e,t){return"color"===e.type?f(e.color,t):L(e.gradient,t)}function y(e,t,n,a,o,r){var s,l={selector:Object(x.h)(e.name)||".font"};return l["font-family"]=e.fontFamily,l["font-size"]=i(e.fontSize,t),700===e.fontWeight?l["font-weight"]="bold":400!==e.fontWeight?l["font-weight"]=e.fontWeight:400===e.fontWeight&&(o||r&&r["font-weight"]&&"normal"!==r["font-weight"])&&(l["font-weight"]="normal"),s=r&&r["font-style"]&&"normal"!==r["font-style"],e.fontStyle&&("normal"===e.fontStyle&&(o||s)||"normal"!==e.fontStyle)&&(l["font-style"]=e.fontStyle),s=r&&r["font-stretch"]&&"normal"!==r["font-stretch"],e.fontStretch&&("normal"===e.fontStretch&&(o||s)||"normal"!==e.fontStretch)&&(l["font-stretch"]=e.fontStretch),s=r&&r["line-height"]&&"normal"!==r["line-height"],e.lineHeight?l["line-height"]=n?Object(x.g)(e.lineHeight/e.fontSize,2):i(e.lineHeight,t):(o||s)&&(l["line-height"]="normal"),s=r&&r["letter-spacing"]&&"normal"!==r["letter-spacing"],e.letterSpacing?l["letter-spacing"]=i(e.letterSpacing,t):(o||s)&&(l["letter-spacing"]="normal"),e.textAlign&&(l["text-align"]=e.textAlign),e.color&&(l.color=Object(x.e)(e.color,a)),l}function b(e,t,n,a,o,r){var s=e.type,l={selector:Object(x.h)(e.name)||".layer"};if(n&&(l.width=i(e.rect.width,t),l.height=i(e.rect.height,t)),e.exportable&&(l["object-fit"]="contain"),e.rotation&&(l.transform="rotate("+-e.rotation+"deg)"),1!==e.opacity&&(l.opacity=Object(x.g)(e.opacity,2)),"normal"!==e.blendMode&&(l["mix-blend-mode"]=e.blendMode),e.borderRadius&&(l["border-radius"]=i(e.borderRadius,t)),e.blur.radius){var c=j(e.blur,t);for(var u in c)l[u]=c[u]}var d,m=e.hasGradient(),g=e.hasBlendMode();if(e.fills.length&&(m||g?(l["background-image"]=e.fills.map(function(e){return h(e,o)}),g&&(l["background-blend-mode"]=e.fills.map(function(e){return e.blendMode}))):d=Object(x.a)(e.fills.map(function(e){return e.color}))),"text"===s){var f=e.getDefaultTextStyle(),y=f&&p(e,f,t,a,o,r);y&&(delete y.selector,Object.assign(l,y))}else d&&(l["background-color"]=Object(x.e)(d,o));if(e.shadows.length){var b="text"===s?"text-shadow":"box-shadow";l[b]=e.shadows.map(function(e){return S(e,s,t,o)[b]})}if(e.borders.length){var v=w(e.borders[e.borders.length-1],s,t,o);if(v)for(var u in v)l[u]=v[u]}return l}function v(e,t,n,i,o,r){var s=[],l=[],c=b(e,t.densityDivisor,!1,n,o,r);return e.textStyles.forEach(function(u,d){var m,g=u.font;if(!l.some(function(e){return g.equals(e)})){l.push(g),delete(m=p(e,g,t.densityDivisor,n,o,r,c)).selector;var f=!1;for(var h in c)a(h)&&c[h]===m[h]&&(f=!0,delete m[h]);if(i&&!f){var b=t.findTextStyleEqual(g);if(b&&!Object(x.f)(b.name)){var v=y(b,t.densityDivisor,n,o);for(var h in v)delete m[h];m.mixinEntry=Object(x.h)(b.name).substr(1)}}Object.keys(m).length&&(s.push(m),m.selector=c.selector+" "+Object(x.h)("text-style-"+s.length))}}),s}function j(e,t){var n="blur("+i(e.radius,t)+")";return"background"===e.type?{"-webkit-backdrop-filter":n,"backdrop-filter":n}:{"-webkit-filter":n,filter:n}}function S(e,t,n,a){return t&&"text"===t?{"text-shadow":i(e.offsetX,n)+" "+i(e.offsetY,n)+" "+i(e.blurRadius,n)+" "+Object(x.e)(e.color,a)}:{"box-shadow":("inner"===e.type?"inset ":"")+i(e.offsetX,n)+" "+i(e.offsetY,n)+" "+i(e.blurRadius,n)+" "+i(e.spread,n)+" "+Object(x.e)(e.color,a)}}function E(e,t){var n="";return 1!==e.position&&e.position&&(n=" "+o(e.position)),Object(x.e)(e.color,t)+n}function L(e,t){switch(e.type){case"linear":return"linear-gradient("+g(e.angle)+", "+e.colorStops.map(function(e){return E(e,t)}).join(", ")+")";case"radial":var n=e.colorStops.map(function(e){return E(e,t)}).join(", ");return"radial-gradient(circle at "+o(e.from.x)+" "+o(e.from.y)+", "+n+")";case"angular":return"conic-gradient("+e.colorStops.map(function(e){return E(e,t)}).join(", ")+", "+E(e.colorStops[0],t)+")";default:return""}}function w(e,t,n,a){if(t&&"text"===t&&"color"===e.fill.type)return{"-webkit-text-stroke":i(e.thickness,n)+" "+Object(x.e)(e.fill.color,a)};switch(e.fill.type){case"color":return{border:"solid "+i(e.thickness,n)+" "+Object(x.e)(e.fill.color,a)};case"gradient":return{"border-style":"solid","border-width":i(e.thickness,n),"border-image-source":L(e.fill.gradient,a),"border-image-slice":"1"}}}function D(e,t){var n=t.type,a=t.densityDivisor,i=t.unitlessLineHeight,o=t.colorMap;return d(n,y(e,a,i,t.colorFormat),o,!0)}function C(e,t){var n=t.type,a=t.densityDivisor,i=t.unitlessLineHeight,o=t.colorFormat,r=t.colorMap;return d(n,y(e,a,i,o,t.defaultValues),r)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return D}),n.d(t,"d",function(){return C}),n.d(t,"e",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return d});var x=n(23),k=["background-image","background-color","color","text-shadow","box-shadow","border","border-color","border-image-source","-webkit-text-stroke"],T="  ",_=["-webkit-background-clip","background-clip","-webkit-text-fill-color"]},function(e,t,n){"use strict";t.f=function(){return fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t.organizations;throw Object(a.a)(e.status,t)})})},t.e=function(e,t){return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members/"+t+"/profile",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Object(a.a)(e.status,t)})})},t.g=function(e){return fetch(Zeplin.urls.baseURL+(e?"/organizations/"+e:"/v2")+"/projects",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t.projects;throw Object(a.a)(e.status,t)})})},t.a=function(e,t,n,i,o){return fetch(Zeplin.urls.baseURL+(e&&"user"!==e?"/organizations/"+e:"")+"/projects",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:o||"Untitled",type:t,density:i,icon:{type:n}})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Object(a.a)(e.status,t)})})},t.i=function(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(a.a)(e.status,t)})})},t.h=function(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/screens/projects/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:n})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(a.a)(e.status,t)})})},t.b=function(e,t){var n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),fetch(Zeplin.urls.baseURL+"/projects/"+e+"/sections",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Object(a.a)(e.status,t)})}).then(function(t){return{seid:t._id,pid:e}})},t.j=function(e,t,n,i){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/sections/"+t+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:i})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(a.a)(e.status,t)})})},t.d=function(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/sections/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(a.a)(e.status,t)})})},t.c=function(e,t,n){return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/integrations/"+t+"/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Object(a.a)(e.status,t)})})};var a=n(1)}]);
//# sourceMappingURL=maps/project.js.map
